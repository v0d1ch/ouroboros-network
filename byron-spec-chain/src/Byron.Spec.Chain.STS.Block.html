<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE BangPatterns #-}</span><span>
</span><a name="line-2"></a><span class="hs-pragma">{-# LANGUAGE DeriveDataTypeable #-}</span><span>
</span><a name="line-3"></a><span class="hs-pragma">{-# LANGUAGE DeriveGeneric #-}</span><span>
</span><a name="line-4"></a><span class="hs-pragma">{-# LANGUAGE FlexibleInstances #-}</span><span>
</span><a name="line-5"></a><span class="hs-pragma">{-# LANGUAGE MultiParamTypeClasses #-}</span><span>
</span><a name="line-6"></a><span class="hs-pragma">{-# LANGUAGE OverloadedLists #-}</span><span>
</span><a name="line-7"></a><span class="hs-pragma">{-# LANGUAGE OverloadedStrings #-}</span><span>
</span><a name="line-8"></a><span class="hs-pragma">{-# LANGUAGE TemplateHaskell #-}</span><span>
</span><a name="line-9"></a><span>
</span><a name="line-10"></a><span>
</span><a name="line-11"></a><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Byron.Spec.Chain.STS.Block</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-12"></a><span>
</span><a name="line-13"></a><span class="hs-keyword">import</span><span>           </span><span class="hs-identifier">Control.Lens</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">makeLenses</span><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-var">view</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-operator hs-var">^.</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-14"></a><span class="hs-keyword">import</span><span>           </span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/small-steps-0.1.0.0/noopt/doc/html/small-steps/src/Data.AbstractSize.html"><span class="hs-identifier">Data.AbstractSize</span></a><span>
</span><a name="line-15"></a><span class="hs-keyword">import</span><span>           </span><span class="hs-identifier">Data.ByteString</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">ByteString</span><span class="hs-special">)</span><span>
</span><a name="line-16"></a><span class="hs-keyword">import</span><span>           </span><span class="hs-identifier">Data.Data</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Data</span><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Typeable</span><span class="hs-special">)</span><span>
</span><a name="line-17"></a><span class="hs-keyword">import</span><span>           </span><span class="hs-identifier">Data.Function</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">on</span><span class="hs-special">)</span><span>
</span><a name="line-18"></a><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-identifier">Data.Hashable</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="hs-identifier">H</span><span>
</span><a name="line-19"></a><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-identifier">Data.Map.Strict</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="hs-identifier">Map</span><span>
</span><a name="line-20"></a><span class="hs-keyword">import</span><span>           </span><span class="hs-identifier">Data.Sequence</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-operator hs-var">&lt;|</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-21"></a><span class="hs-keyword">import</span><span>           </span><span class="hs-identifier">Data.Typeable</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">typeOf</span><span class="hs-special">)</span><span>
</span><a name="line-22"></a><span class="hs-keyword">import</span><span>           </span><span class="hs-identifier">GHC.Generics</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Generic</span><span class="hs-special">)</span><span>
</span><a name="line-23"></a><span class="hs-keyword">import</span><span>           </span><span class="hs-identifier">Numeric.Natural</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Natural</span><span class="hs-special">)</span><span>
</span><a name="line-24"></a><span>
</span><a name="line-25"></a><span class="hs-keyword">import</span><span>           </span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/small-steps-0.1.0.0/noopt/doc/html/small-steps/src/Control.State.Transition.Generator.html"><span class="hs-identifier">Control.State.Transition.Generator</span></a><span>
</span><a name="line-26"></a><span>
</span><a name="line-27"></a><span class="hs-keyword">import</span><span>           </span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Core.html"><span class="hs-identifier">Byron.Spec.Ledger.Core</span></a><span> </span><span class="hs-special">(</span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Core.html#Hash"><span class="hs-identifier hs-type">Hash</span></a><span> </span><span class="hs-special">(</span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Core.html#Hash"><span class="hs-identifier hs-var">Hash</span></a><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Core.html#Sig"><span class="hs-identifier hs-type">Sig</span></a><span> </span><span class="hs-special">(</span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Core.html#Sig"><span class="hs-identifier hs-var">Sig</span></a><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Core.html#Slot"><span class="hs-identifier hs-type">Slot</span></a><span class="hs-special">,</span><span> </span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Core.html#VKey"><span class="hs-identifier hs-type">VKey</span></a><span class="hs-special">,</span><span> </span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Core.html#hash"><span class="hs-identifier hs-var">hash</span></a><span class="hs-special">,</span><span> </span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Core.html#owner"><span class="hs-identifier hs-var">owner</span></a><span class="hs-special">)</span><span>
</span><a name="line-28"></a><span class="hs-keyword">import</span><span>           </span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Delegation.html"><span class="hs-identifier">Byron.Spec.Ledger.Delegation</span></a><span>
</span><a name="line-29"></a><span class="hs-keyword">import</span><span>           </span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Update.html"><span class="hs-identifier">Byron.Spec.Ledger.Update</span></a><span> </span><span class="hs-special">(</span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Update.html#ProtVer"><span class="hs-identifier hs-type">ProtVer</span></a><span class="hs-special">,</span><span> </span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Update.html#STag"><span class="hs-identifier hs-type">STag</span></a><span class="hs-special">,</span><span> </span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Update.html#UProp"><span class="hs-identifier hs-type">UProp</span></a><span class="hs-special">,</span><span> </span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Update.html#Vote"><span class="hs-identifier hs-type">Vote</span></a><span class="hs-special">)</span><span>
</span><a name="line-30"></a><span class="hs-keyword">import</span><span>           </span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.UTxO.html"><span class="hs-identifier">Byron.Spec.Ledger.UTxO</span></a><span> </span><span class="hs-special">(</span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.UTxO.html#TxIn"><span class="hs-identifier hs-type">TxIn</span></a><span class="hs-special">,</span><span> </span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.UTxO.html#TxOut"><span class="hs-identifier hs-type">TxOut</span></a><span class="hs-special">,</span><span> </span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.UTxO.html#Tx"><span class="hs-identifier hs-type">Tx</span></a><span class="hs-special">,</span><span> </span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.UTxO.html#Wit"><span class="hs-identifier hs-type">Wit</span></a><span class="hs-special">)</span><span>
</span><a name="line-31"></a><span>
</span><a name="line-32"></a><span class="hs-keyword">import</span><span>           </span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/goblins-0.1.0.0/noopt/doc/html/goblins/src/Test.Goblin.html"><span class="hs-identifier">Test.Goblin</span></a><span> </span><span class="hs-special">(</span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/goblins-0.1.0.0/noopt/doc/html/goblins/src/Test.Goblin.Core.html#AddShrinks"><span class="hs-identifier hs-type">AddShrinks</span></a><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/goblins-0.1.0.0/noopt/doc/html/goblins/src/Test.Goblin.Core.html#Goblin"><span class="hs-identifier hs-type">Goblin</span></a><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-33"></a><span class="hs-keyword">import</span><span>           </span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/goblins-0.1.0.0/noopt/doc/html/goblins/src/Test.Goblin.TH.html"><span class="hs-identifier">Test.Goblin.TH</span></a><span> </span><span class="hs-special">(</span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/goblins-0.1.0.0/noopt/doc/html/goblins/src/Test.Goblin.TH.html#deriveAddShrinks"><span class="hs-identifier hs-var">deriveAddShrinks</span></a><span class="hs-special">,</span><span> </span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/goblins-0.1.0.0/noopt/doc/html/goblins/src/Test.Goblin.TH.html#deriveGoblin"><span class="hs-identifier hs-var">deriveGoblin</span></a><span class="hs-special">)</span><span>
</span><a name="line-34"></a><span>
</span><a name="line-35"></a><span class="hs-keyword">data</span><span> </span><a name="BlockHeader"><a href="Byron.Spec.Chain.STS.Block.html#BlockHeader"><span class="hs-identifier">BlockHeader</span></a></a><span>
</span><a name="line-36"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a name="BlockHeader"><a href="Byron.Spec.Chain.STS.Block.html#BlockHeader"><span class="hs-identifier">BlockHeader</span></a></a><span>
</span><a name="line-37"></a><span>  </span><span class="hs-special">{</span><span> </span><span class="hs-comment">-- | Hash of the previous block header, or 'genesisHash' in case of</span><span>
</span><a name="line-38"></a><span>    </span><span class="hs-comment">-- the first block in a chain.</span><span>
</span><a name="line-39"></a><span>    </span><a name="_bhPrevHash"><a href="Byron.Spec.Chain.STS.Block.html#_bhPrevHash"><span class="hs-identifier">_bhPrevHash</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Core.html#Hash"><span class="hs-identifier hs-type">Hash</span></a><span>
</span><a name="line-40"></a><span>    </span><span class="hs-comment">-- | Absolute slot for which the block was generated.</span><span>
</span><a name="line-41"></a><span>  </span><span class="hs-special">,</span><span> </span><a name="_bhSlot"><a href="Byron.Spec.Chain.STS.Block.html#_bhSlot"><span class="hs-identifier">_bhSlot</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Core.html#Slot"><span class="hs-identifier hs-type">Slot</span></a><span>
</span><a name="line-42"></a><span>    </span><span class="hs-comment">-- | Block issuer.</span><span>
</span><a name="line-43"></a><span>  </span><span class="hs-special">,</span><span> </span><a name="_bhIssuer"><a href="Byron.Spec.Chain.STS.Block.html#_bhIssuer"><span class="hs-identifier">_bhIssuer</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Core.html#VKey"><span class="hs-identifier hs-type">VKey</span></a><span>
</span><a name="line-44"></a><span>    </span><span class="hs-comment">-- | Part of the block header which must be signed.</span><span>
</span><a name="line-45"></a><span>  </span><span class="hs-special">,</span><span> </span><a name="_bhSig"><a href="Byron.Spec.Chain.STS.Block.html#_bhSig"><span class="hs-identifier">_bhSig</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Core.html#Sig"><span class="hs-identifier hs-type">Sig</span></a><span> </span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Core.html#Hash"><span class="hs-identifier hs-type">Hash</span></a><span class="hs-special">)</span><span>
</span><a name="line-46"></a><span>    </span><span class="hs-comment">-- | UTxO hash</span><span>
</span><a name="line-47"></a><span>  </span><span class="hs-special">,</span><span> </span><a name="_bhUtxoHash"><a href="Byron.Spec.Chain.STS.Block.html#_bhUtxoHash"><span class="hs-identifier">_bhUtxoHash</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Core.html#Hash"><span class="hs-identifier hs-type">Hash</span></a><span>
</span><a name="line-48"></a><span>    </span><span class="hs-comment">-- | Delegation hash</span><span>
</span><a name="line-49"></a><span>  </span><span class="hs-special">,</span><span> </span><a name="_bhDlgHash"><a href="Byron.Spec.Chain.STS.Block.html#_bhDlgHash"><span class="hs-identifier">_bhDlgHash</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Core.html#Hash"><span class="hs-identifier hs-type">Hash</span></a><span>
</span><a name="line-50"></a><span>    </span><span class="hs-comment">-- | Update payload hash</span><span>
</span><a name="line-51"></a><span>  </span><span class="hs-special">,</span><span> </span><a name="_bhUpdHash"><a href="Byron.Spec.Chain.STS.Block.html#_bhUpdHash"><span class="hs-identifier">_bhUpdHash</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Core.html#Hash"><span class="hs-identifier hs-type">Hash</span></a><span>
</span><a name="line-52"></a><span>    </span><span class="hs-comment">-- TODO: BlockVersion &#8211; the protocol (block) version that created the block</span><span>
</span><a name="line-53"></a><span>    </span><span class="hs-comment">-- TODO: SoftwareVersion &#8211; the software version that created the block</span><span>
</span><a name="line-54"></a><span>  </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Eq</span><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Generic</span><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Show</span><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Data</span><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Typeable</span><span class="hs-special">)</span><span>
</span><a name="line-55"></a><span>
</span><a name="line-56"></a><span>
</span><a name="line-57"></a><span class="hs-identifier hs-var">makeLenses</span><span> </span><span class="hs-special">''</span><span class="hs-identifier hs-var">BlockHeader</span><span>
</span><a name="line-58"></a><span>
</span><a name="line-59"></a><span>
</span><a name="line-60"></a><span class="hs-comment">-- We declare a specific instance here to avoid recursing into cardano-crypto</span><span>
</span><a name="line-61"></a><span class="hs-keyword">instance</span><span> </span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/small-steps-0.1.0.0/noopt/doc/html/small-steps/src/Data.AbstractSize.html#HasTypeReps"><span class="hs-identifier hs-type">HasTypeReps</span></a><span> </span><a href="Byron.Spec.Chain.STS.Block.html#BlockHeader"><span class="hs-identifier hs-type">BlockHeader</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-62"></a><span>  </span><a name="local-8214565720323790731"><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/small-steps-0.1.0.0/noopt/doc/html/small-steps/src/Data.AbstractSize.html#typeReps"><span class="hs-identifier">typeReps</span></a></a><span> </span><a name="local-6989586621679130568"><a href="#local-6989586621679130568"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">typeOf</span><span> </span><a href="#local-6989586621679130568"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-63"></a><span>               </span><span class="hs-operator hs-var">&lt;|</span><span> </span><span class="hs-identifier hs-var">typeOf</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">undefined</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Core.html#Hash"><span class="hs-identifier hs-type">Hash</span></a><span class="hs-special">)</span><span>
</span><a name="line-64"></a><span>               </span><span class="hs-operator hs-var">&lt;|</span><span> </span><span class="hs-identifier hs-var">typeOf</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679130568"><span class="hs-identifier hs-var">x</span></a><span> </span><span class="hs-operator hs-var">^.</span><span> </span><a href="Byron.Spec.Chain.STS.Block.html#bhUtxoHash"><span class="hs-identifier hs-var">bhUtxoHash</span></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Core.html#Hash"><span class="hs-identifier hs-type">Hash</span></a><span class="hs-special">)</span><span>
</span><a name="line-65"></a><span>               </span><span class="hs-operator hs-var">&lt;|</span><span> </span><span class="hs-identifier hs-var">typeOf</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679130568"><span class="hs-identifier hs-var">x</span></a><span> </span><span class="hs-operator hs-var">^.</span><span> </span><a href="Byron.Spec.Chain.STS.Block.html#bhDlgHash"><span class="hs-identifier hs-var">bhDlgHash</span></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Core.html#Hash"><span class="hs-identifier hs-type">Hash</span></a><span class="hs-special">)</span><span>
</span><a name="line-66"></a><span>               </span><span class="hs-operator hs-var">&lt;|</span><span> </span><span class="hs-identifier hs-var">typeOf</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679130568"><span class="hs-identifier hs-var">x</span></a><span> </span><span class="hs-operator hs-var">^.</span><span> </span><a href="Byron.Spec.Chain.STS.Block.html#bhUpdHash"><span class="hs-identifier hs-var">bhUpdHash</span></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Core.html#Hash"><span class="hs-identifier hs-type">Hash</span></a><span class="hs-special">)</span><span>
</span><a name="line-67"></a><span>               </span><span class="hs-operator hs-var">&lt;|</span><span> </span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/small-steps-0.1.0.0/noopt/doc/html/small-steps/src/Data.AbstractSize.html#typeReps"><span class="hs-identifier hs-var">typeReps</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679130568"><span class="hs-identifier hs-var">x</span></a><span> </span><span class="hs-operator hs-var">^.</span><span> </span><a href="Byron.Spec.Chain.STS.Block.html#bhSlot"><span class="hs-identifier hs-var">bhSlot</span></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Core.html#Slot"><span class="hs-identifier hs-type">Slot</span></a><span class="hs-special">)</span><span>
</span><a name="line-68"></a><span>               </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/small-steps-0.1.0.0/noopt/doc/html/small-steps/src/Data.AbstractSize.html#typeReps"><span class="hs-identifier hs-var">typeReps</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679130568"><span class="hs-identifier hs-var">x</span></a><span> </span><span class="hs-operator hs-var">^.</span><span> </span><a href="Byron.Spec.Chain.STS.Block.html#bhIssuer"><span class="hs-identifier hs-var">bhIssuer</span></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Core.html#VKey"><span class="hs-identifier hs-type">VKey</span></a><span class="hs-special">)</span><span>
</span><a name="line-69"></a><span>               </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/small-steps-0.1.0.0/noopt/doc/html/small-steps/src/Data.AbstractSize.html#typeReps"><span class="hs-identifier hs-var">typeReps</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679130568"><span class="hs-identifier hs-var">x</span></a><span> </span><span class="hs-operator hs-var">^.</span><span> </span><a href="Byron.Spec.Chain.STS.Block.html#bhSig"><span class="hs-identifier hs-var">bhSig</span></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Core.html#Sig"><span class="hs-identifier hs-type">Sig</span></a><span> </span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Core.html#Hash"><span class="hs-identifier hs-type">Hash</span></a><span class="hs-special">)</span><span>
</span><a name="line-70"></a><span>
</span><a name="line-71"></a><span>
</span><a name="line-72"></a><span class="hs-keyword">data</span><span> </span><a name="BlockBody"><a href="Byron.Spec.Chain.STS.Block.html#BlockBody"><span class="hs-identifier">BlockBody</span></a></a><span>
</span><a name="line-73"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a name="BlockBody"><a href="Byron.Spec.Chain.STS.Block.html#BlockBody"><span class="hs-identifier">BlockBody</span></a></a><span>
</span><a name="line-74"></a><span>  </span><span class="hs-special">{</span><span> </span><a name="_bDCerts"><a href="Byron.Spec.Chain.STS.Block.html#_bDCerts"><span class="hs-identifier">_bDCerts</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">[</span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Delegation.html#DCert"><span class="hs-identifier hs-type">DCert</span></a><span class="hs-special">]</span><span>
</span><a name="line-75"></a><span>  </span><span class="hs-comment">-- ^ Delegation certificates</span><span>
</span><a name="line-76"></a><span>  </span><span class="hs-special">,</span><span> </span><a name="_bUtxo"><a href="Byron.Spec.Chain.STS.Block.html#_bUtxo"><span class="hs-identifier">_bUtxo</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">[</span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.UTxO.html#Tx"><span class="hs-identifier hs-type">Tx</span></a><span class="hs-special">]</span><span>
</span><a name="line-77"></a><span>  </span><span class="hs-comment">-- ^ UTxO payload</span><span>
</span><a name="line-78"></a><span>  </span><span class="hs-special">,</span><span> </span><a name="_bUpdProp"><a href="Byron.Spec.Chain.STS.Block.html#_bUpdProp"><span class="hs-identifier">_bUpdProp</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="hs-identifier hs-type">Maybe</span><span> </span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Update.html#UProp"><span class="hs-identifier hs-type">UProp</span></a><span class="hs-special">)</span><span>
</span><a name="line-79"></a><span>  </span><span class="hs-comment">-- ^ Update proposal payload</span><span>
</span><a name="line-80"></a><span>  </span><span class="hs-special">,</span><span> </span><a name="_bUpdVotes"><a href="Byron.Spec.Chain.STS.Block.html#_bUpdVotes"><span class="hs-identifier">_bUpdVotes</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">[</span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Update.html#Vote"><span class="hs-identifier hs-type">Vote</span></a><span class="hs-special">]</span><span>
</span><a name="line-81"></a><span>  </span><span class="hs-comment">-- ^ Update votes payload</span><span>
</span><a name="line-82"></a><span>  </span><span class="hs-special">,</span><span> </span><a name="_bProtVer"><a href="Byron.Spec.Chain.STS.Block.html#_bProtVer"><span class="hs-identifier">_bProtVer</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Update.html#ProtVer"><span class="hs-identifier hs-type">ProtVer</span></a><span>
</span><a name="line-83"></a><span>  </span><span class="hs-comment">-- ^ Protocol version</span><span>
</span><a name="line-84"></a><span>  </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Generic</span><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Show</span><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Data</span><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Typeable</span><span class="hs-special">)</span><span>
</span><a name="line-85"></a><span>
</span><a name="line-86"></a><span>
</span><a name="line-87"></a><span class="hs-identifier hs-var">makeLenses</span><span> </span><span class="hs-special">''</span><span class="hs-identifier hs-var">BlockBody</span><span>
</span><a name="line-88"></a><span>
</span><a name="line-89"></a><span>
</span><a name="line-90"></a><span class="hs-keyword">instance</span><span> </span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/small-steps-0.1.0.0/noopt/doc/html/small-steps/src/Data.AbstractSize.html#HasTypeReps"><span class="hs-identifier hs-type">HasTypeReps</span></a><span> </span><a href="Byron.Spec.Chain.STS.Block.html#BlockBody"><span class="hs-identifier hs-type">BlockBody</span></a><span>
</span><a name="line-91"></a><span>
</span><a name="line-92"></a><span>
</span><a name="line-93"></a><span class="hs-comment">-- | A block in the chain. The specification only models regular blocks since</span><span>
</span><a name="line-94"></a><span class="hs-comment">-- epoch boundary blocks will be largely ignored in the Byron-Shelley bridge.</span><span>
</span><a name="line-95"></a><span class="hs-keyword">data</span><span> </span><a name="Block"><a href="Byron.Spec.Chain.STS.Block.html#Block"><span class="hs-identifier">Block</span></a></a><span>
</span><a name="line-96"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a name="Block"><a href="Byron.Spec.Chain.STS.Block.html#Block"><span class="hs-identifier">Block</span></a></a><span>
</span><a name="line-97"></a><span>  </span><span class="hs-special">{</span><span> </span><a name="_bHeader"><a href="Byron.Spec.Chain.STS.Block.html#_bHeader"><span class="hs-identifier">_bHeader</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="Byron.Spec.Chain.STS.Block.html#BlockHeader"><span class="hs-identifier hs-type">BlockHeader</span></a><span>
</span><a name="line-98"></a><span>  </span><span class="hs-special">,</span><span> </span><a name="_bBody"><a href="Byron.Spec.Chain.STS.Block.html#_bBody"><span class="hs-identifier">_bBody</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="Byron.Spec.Chain.STS.Block.html#BlockBody"><span class="hs-identifier hs-type">BlockBody</span></a><span>
</span><a name="line-99"></a><span>  </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Generic</span><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Show</span><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Data</span><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Typeable</span><span class="hs-special">)</span><span>
</span><a name="line-100"></a><span>
</span><a name="line-101"></a><span>
</span><a name="line-102"></a><span class="hs-identifier hs-var">makeLenses</span><span> </span><span class="hs-special">''</span><span class="hs-identifier hs-var">Block</span><span>
</span><a name="line-103"></a><span>
</span><a name="line-104"></a><span>
</span><a name="line-105"></a><span class="hs-keyword">instance</span><span> </span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/small-steps-0.1.0.0/noopt/doc/html/small-steps/src/Data.AbstractSize.html#HasTypeReps"><span class="hs-identifier hs-type">HasTypeReps</span></a><span> </span><a href="Byron.Spec.Chain.STS.Block.html#Block"><span class="hs-identifier hs-type">Block</span></a><span>
</span><a name="line-106"></a><span>
</span><a name="line-107"></a><span>
</span><a name="line-108"></a><span class="hs-identifier">mkBlock</span><span>
</span><a name="line-109"></a><span>  </span><span class="hs-glyph">::</span><span> </span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Core.html#Hash"><span class="hs-identifier hs-type">Hash</span></a><span>
</span><a name="line-110"></a><span>  </span><span class="hs-comment">-- ^ Hash of the previous block</span><span>
</span><a name="line-111"></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Core.html#Slot"><span class="hs-identifier hs-type">Slot</span></a><span>
</span><a name="line-112"></a><span>  </span><span class="hs-comment">-- ^ Current slot</span><span>
</span><a name="line-113"></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Core.html#VKey"><span class="hs-identifier hs-type">VKey</span></a><span>
</span><a name="line-114"></a><span>  </span><span class="hs-comment">-- ^ Issuer</span><span>
</span><a name="line-115"></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Update.html#ProtVer"><span class="hs-identifier hs-type">ProtVer</span></a><span>
</span><a name="line-116"></a><span>  </span><span class="hs-comment">-- ^ Protocol version</span><span>
</span><a name="line-117"></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Delegation.html#DCert"><span class="hs-identifier hs-type">DCert</span></a><span class="hs-special">]</span><span>
</span><a name="line-118"></a><span>  </span><span class="hs-comment">-- ^ Delegation certificates</span><span>
</span><a name="line-119"></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Maybe</span><span> </span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Update.html#UProp"><span class="hs-identifier hs-type">UProp</span></a><span>
</span><a name="line-120"></a><span>  </span><span class="hs-comment">-- ^ Update proposal</span><span>
</span><a name="line-121"></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Update.html#Vote"><span class="hs-identifier hs-type">Vote</span></a><span class="hs-special">]</span><span>
</span><a name="line-122"></a><span>  </span><span class="hs-comment">-- ^ Votes on update proposals</span><span>
</span><a name="line-123"></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.UTxO.html#Tx"><span class="hs-identifier hs-type">Tx</span></a><span class="hs-special">]</span><span>
</span><a name="line-124"></a><span>  </span><span class="hs-comment">-- ^ UTxO payload</span><span>
</span><a name="line-125"></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Byron.Spec.Chain.STS.Block.html#Block"><span class="hs-identifier hs-type">Block</span></a><span>
</span><a name="line-126"></a><a name="mkBlock"><a href="Byron.Spec.Chain.STS.Block.html#mkBlock"><span class="hs-identifier">mkBlock</span></a></a><span>
</span><a name="line-127"></a><span>  </span><a name="local-6989586621679135837"><a href="#local-6989586621679135837"><span class="hs-identifier">prevHash</span></a></a><span>
</span><a name="line-128"></a><span>  </span><a name="local-6989586621679135838"><a href="#local-6989586621679135838"><span class="hs-identifier">currentSlot</span></a></a><span>
</span><a name="line-129"></a><span>  </span><a name="local-6989586621679135839"><a href="#local-6989586621679135839"><span class="hs-identifier">issuer</span></a></a><span>
</span><a name="line-130"></a><span>  </span><a name="local-6989586621679135840"><a href="#local-6989586621679135840"><span class="hs-identifier">version</span></a></a><span>
</span><a name="line-131"></a><span>  </span><a name="local-6989586621679135841"><a href="#local-6989586621679135841"><span class="hs-identifier">delegationCerts</span></a></a><span>
</span><a name="line-132"></a><span>  </span><a name="local-6989586621679135842"><a href="#local-6989586621679135842"><span class="hs-identifier">maybeUpdateProposal</span></a></a><span>
</span><a name="line-133"></a><span>  </span><a name="local-6989586621679135843"><a href="#local-6989586621679135843"><span class="hs-identifier">updateProposalVotes</span></a></a><span>
</span><a name="line-134"></a><span>  </span><a name="local-6989586621679135844"><a href="#local-6989586621679135844"><span class="hs-identifier">utxoTransactions</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Byron.Spec.Chain.STS.Block.html#Block"><span class="hs-identifier hs-var">Block</span></a><span> </span><a href="#local-6989586621679135845"><span class="hs-identifier hs-var">signedHeader</span></a><span> </span><a href="#local-6989586621679135846"><span class="hs-identifier hs-var">body</span></a><span>
</span><a name="line-135"></a><span>  </span><span class="hs-keyword">where</span><span>
</span><a name="line-136"></a><span>    </span><a name="local-6989586621679135845"><a href="#local-6989586621679135845"><span class="hs-identifier">signedHeader</span></a></a><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-137"></a><span>      </span><a href="#local-6989586621679135847"><span class="hs-identifier hs-var">unsignedHeader</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">_bhSig</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Core.html#Sig"><span class="hs-identifier hs-var">Sig</span></a><span> </span><span class="hs-special">(</span><a href="Byron.Spec.Chain.STS.Block.html#hashHeader"><span class="hs-identifier hs-var">hashHeader</span></a><span> </span><a href="#local-6989586621679135847"><span class="hs-identifier hs-var">unsignedHeader</span></a><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Core.html#owner"><span class="hs-identifier hs-var">owner</span></a><span> </span><a href="#local-6989586621679135839"><span class="hs-identifier hs-var">issuer</span></a><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><a name="line-138"></a><span>      </span><span class="hs-keyword">where</span><span>
</span><a name="line-139"></a><span>        </span><a name="local-6989586621679135847"><a href="#local-6989586621679135847"><span class="hs-identifier">unsignedHeader</span></a></a><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-140"></a><span>          </span><a href="Byron.Spec.Chain.STS.Block.html#BlockHeader"><span class="hs-identifier hs-var">BlockHeader</span></a><span>
</span><a name="line-141"></a><span>            </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">_bhPrevHash</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679135837"><span class="hs-identifier hs-var">prevHash</span></a><span>
</span><a name="line-142"></a><span>            </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_bhSlot</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679135838"><span class="hs-identifier hs-var">currentSlot</span></a><span>
</span><a name="line-143"></a><span>            </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_bhIssuer</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679135839"><span class="hs-identifier hs-var">issuer</span></a><span>
</span><a name="line-144"></a><span>            </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_bhSig</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679135848"><span class="hs-identifier hs-var">dummySig</span></a><span>
</span><a name="line-145"></a><span>            </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_bhUtxoHash</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Core.html#hash"><span class="hs-identifier hs-var">hash</span></a><span> </span><a href="#local-6989586621679135844"><span class="hs-identifier hs-var">utxoTransactions</span></a><span class="hs-special">)</span><span>
</span><a name="line-146"></a><span>            </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_bhDlgHash</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Core.html#hash"><span class="hs-identifier hs-var">hash</span></a><span> </span><a href="#local-6989586621679135841"><span class="hs-identifier hs-var">delegationCerts</span></a><span class="hs-special">)</span><span>
</span><a name="line-147"></a><span>            </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_bhUpdHash</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Core.html#hash"><span class="hs-identifier hs-var">hash</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679135842"><span class="hs-identifier hs-var">maybeUpdateProposal</span></a><span class="hs-special">,</span><span> </span><a href="#local-6989586621679135843"><span class="hs-identifier hs-var">updateProposalVotes</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-148"></a><span>            </span><span class="hs-special">}</span><span>
</span><a name="line-149"></a><span>          </span><span class="hs-keyword">where</span><span>
</span><a name="line-150"></a><span>            </span><a name="local-6989586621679135848"><a href="#local-6989586621679135848"><span class="hs-identifier">dummySig</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Core.html#Sig"><span class="hs-identifier hs-var">Sig</span></a><span> </span><a href="Byron.Spec.Chain.STS.Block.html#genesisHash"><span class="hs-identifier hs-var">genesisHash</span></a><span> </span><span class="hs-special">(</span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Core.html#owner"><span class="hs-identifier hs-var">owner</span></a><span> </span><a href="#local-6989586621679135839"><span class="hs-identifier hs-var">issuer</span></a><span class="hs-special">)</span><span>
</span><a name="line-151"></a><span>
</span><a name="line-152"></a><span>    </span><a name="local-6989586621679135846"><a href="#local-6989586621679135846"><span class="hs-identifier">body</span></a></a><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-153"></a><span>      </span><a href="Byron.Spec.Chain.STS.Block.html#BlockBody"><span class="hs-identifier hs-var">BlockBody</span></a><span>
</span><a name="line-154"></a><span>        </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">_bProtVer</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679135840"><span class="hs-identifier hs-var">version</span></a><span>
</span><a name="line-155"></a><span>        </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_bDCerts</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679135841"><span class="hs-identifier hs-var">delegationCerts</span></a><span>
</span><a name="line-156"></a><span>        </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_bUpdProp</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679135842"><span class="hs-identifier hs-var">maybeUpdateProposal</span></a><span>
</span><a name="line-157"></a><span>        </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_bUpdVotes</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679135843"><span class="hs-identifier hs-var">updateProposalVotes</span></a><span>
</span><a name="line-158"></a><span>        </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_bUtxo</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679135844"><span class="hs-identifier hs-var">utxoTransactions</span></a><span>
</span><a name="line-159"></a><span>        </span><span class="hs-special">}</span><span>
</span><a name="line-160"></a><span>
</span><a name="line-161"></a><span class="hs-comment">-- | Dummy genesis hash.</span><span>
</span><a name="line-162"></a><span class="hs-identifier">genesisHash</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Core.html#Hash"><span class="hs-identifier hs-type">Hash</span></a><span>
</span><a name="line-163"></a><span class="hs-comment">-- Not sure we need a concrete hash in the specs ...</span><span>
</span><a name="line-164"></a><a name="genesisHash"><a href="Byron.Spec.Chain.STS.Block.html#genesisHash"><span class="hs-identifier">genesisHash</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Core.html#Hash"><span class="hs-identifier hs-var">Hash</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-identifier hs-var">Just</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-identifier hs-var">H.hash</span><span> </span><span class="hs-special">(</span><span class="hs-string">&quot;&quot;</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">ByteString</span><span class="hs-special">)</span><span>
</span><a name="line-165"></a><span>
</span><a name="line-166"></a><span>
</span><a name="line-167"></a><span class="hs-comment">-- | Protocol version endorsment</span><span>
</span><a name="line-168"></a><span class="hs-identifier">bEndorsment</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Byron.Spec.Chain.STS.Block.html#Block"><span class="hs-identifier hs-type">Block</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Update.html#ProtVer"><span class="hs-identifier hs-type">ProtVer</span></a><span class="hs-special">,</span><span> </span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Core.html#VKey"><span class="hs-identifier hs-type">VKey</span></a><span class="hs-special">)</span><span>
</span><a name="line-169"></a><a name="bEndorsment"><a href="Byron.Spec.Chain.STS.Block.html#bEndorsment"><span class="hs-identifier">bEndorsment</span></a></a><span> </span><a name="local-6989586621679137003"><a href="#local-6989586621679137003"><span class="hs-identifier">b</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679137003"><span class="hs-identifier hs-var">b</span></a><span> </span><span class="hs-operator hs-var">^.</span><span> </span><a href="Byron.Spec.Chain.STS.Block.html#bBody"><span class="hs-identifier hs-var">bBody</span></a><span> </span><span class="hs-operator hs-var">^.</span><span> </span><a href="Byron.Spec.Chain.STS.Block.html#bProtVer"><span class="hs-identifier hs-var">bProtVer</span></a><span class="hs-special">,</span><span> </span><a href="#local-6989586621679137003"><span class="hs-identifier hs-var">b</span></a><span> </span><span class="hs-operator hs-var">^.</span><span> </span><a href="Byron.Spec.Chain.STS.Block.html#bHeader"><span class="hs-identifier hs-var">bHeader</span></a><span> </span><span class="hs-operator hs-var">^.</span><span> </span><a href="Byron.Spec.Chain.STS.Block.html#bhIssuer"><span class="hs-identifier hs-var">bhIssuer</span></a><span class="hs-special">)</span><span>
</span><a name="line-170"></a><span>
</span><a name="line-171"></a><span class="hs-comment">-- | Slot the block is published in</span><span>
</span><a name="line-172"></a><span class="hs-identifier">bSlot</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Byron.Spec.Chain.STS.Block.html#Block"><span class="hs-identifier hs-type">Block</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Core.html#Slot"><span class="hs-identifier hs-type">Slot</span></a><span>
</span><a name="line-173"></a><a name="bSlot"><a href="Byron.Spec.Chain.STS.Block.html#bSlot"><span class="hs-identifier">bSlot</span></a></a><span> </span><a name="local-6989586621679137004"><a href="#local-6989586621679137004"><span class="hs-identifier">b</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679137004"><span class="hs-identifier hs-var">b</span></a><span> </span><span class="hs-operator hs-var">^.</span><span> </span><a href="Byron.Spec.Chain.STS.Block.html#bHeader"><span class="hs-identifier hs-var">bHeader</span></a><span> </span><span class="hs-operator hs-var">^.</span><span> </span><a href="Byron.Spec.Chain.STS.Block.html#bhSlot"><span class="hs-identifier hs-var">bhSlot</span></a><span>
</span><a name="line-174"></a><span>
</span><a name="line-175"></a><span class="hs-comment">-- | Block update payload</span><span>
</span><a name="line-176"></a><span class="hs-identifier">bUpdPayload</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Byron.Spec.Chain.STS.Block.html#Block"><span class="hs-identifier hs-type">Block</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Maybe</span><span> </span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Update.html#UProp"><span class="hs-identifier hs-type">UProp</span></a><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Update.html#Vote"><span class="hs-identifier hs-type">Vote</span></a><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><a name="line-177"></a><a name="bUpdPayload"><a href="Byron.Spec.Chain.STS.Block.html#bUpdPayload"><span class="hs-identifier">bUpdPayload</span></a></a><span> </span><a name="local-6989586621679137005"><a href="#local-6989586621679137005"><span class="hs-identifier">b</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679137005"><span class="hs-identifier hs-var">b</span></a><span> </span><span class="hs-operator hs-var">^.</span><span> </span><a href="Byron.Spec.Chain.STS.Block.html#bBody"><span class="hs-identifier hs-var">bBody</span></a><span> </span><span class="hs-operator hs-var">^.</span><span> </span><a href="Byron.Spec.Chain.STS.Block.html#bUpdProp"><span class="hs-identifier hs-var">bUpdProp</span></a><span class="hs-special">,</span><span> </span><a href="#local-6989586621679137005"><span class="hs-identifier hs-var">b</span></a><span> </span><span class="hs-operator hs-var">^.</span><span> </span><a href="Byron.Spec.Chain.STS.Block.html#bBody"><span class="hs-identifier hs-var">bBody</span></a><span> </span><span class="hs-operator hs-var">^.</span><span> </span><a href="Byron.Spec.Chain.STS.Block.html#bUpdVotes"><span class="hs-identifier hs-var">bUpdVotes</span></a><span class="hs-special">)</span><span>
</span><a name="line-178"></a><span>
</span><a name="line-179"></a><span class="hs-comment">-- | Compute the abstract size (in words) that a block takes.</span><span>
</span><a name="line-180"></a><span class="hs-identifier">bSize</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Byron.Spec.Chain.STS.Block.html#Block"><span class="hs-identifier hs-type">Block</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Natural</span><span>
</span><a name="line-181"></a><a name="bSize"><a href="Byron.Spec.Chain.STS.Block.html#bSize"><span class="hs-identifier">bSize</span></a></a><span> </span><a name="local-6989586621679137006"><a href="#local-6989586621679137006"><span class="hs-identifier">b</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Byron.Spec.Chain.STS.Block.html#bHeaderSize"><span class="hs-identifier hs-var">bHeaderSize</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679137006"><span class="hs-identifier hs-var">b</span></a><span> </span><span class="hs-operator hs-var">^.</span><span> </span><a href="Byron.Spec.Chain.STS.Block.html#bHeader"><span class="hs-identifier hs-var">bHeader</span></a><span class="hs-special">)</span><span> </span><span class="hs-operator hs-var">+</span><span> </span><a href="Byron.Spec.Chain.STS.Block.html#bBodySize"><span class="hs-identifier hs-var">bBodySize</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679137006"><span class="hs-identifier hs-var">b</span></a><span> </span><span class="hs-operator hs-var">^.</span><span> </span><a href="Byron.Spec.Chain.STS.Block.html#bBody"><span class="hs-identifier hs-var">bBody</span></a><span class="hs-special">)</span><span>
</span><a name="line-182"></a><span>
</span><a name="line-183"></a><span class="hs-comment">-- | Compute the abstract size (in words) that a block body occupies.</span><span>
</span><a name="line-184"></a><span class="hs-identifier">bBodySize</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Byron.Spec.Chain.STS.Block.html#BlockBody"><span class="hs-identifier hs-type">BlockBody</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Natural</span><span>
</span><a name="line-185"></a><a name="bBodySize"><a href="Byron.Spec.Chain.STS.Block.html#bBodySize"><span class="hs-identifier">bBodySize</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">fromIntegral</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/small-steps-0.1.0.0/noopt/doc/html/small-steps/src/Data.AbstractSize.html#abstractSize"><span class="hs-identifier hs-var">abstractSize</span></a><span> </span><a href="#local-6989586621679137079"><span class="hs-identifier hs-var">costs</span></a><span>
</span><a name="line-186"></a><span>  </span><span class="hs-keyword">where</span><span>
</span><a name="line-187"></a><span>    </span><a name="local-6989586621679137079"><a href="#local-6989586621679137079"><span class="hs-identifier">costs</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">Map.fromList</span><span> </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">typeOf</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">undefined</span><span class="hs-glyph">::</span><span class="hs-identifier hs-type">Maybe</span><span> </span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Update.html#UProp"><span class="hs-identifier hs-type">UProp</span></a><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-number">1</span><span class="hs-special">)</span><span>
</span><a name="line-188"></a><span>                         </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">typeOf</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">undefined</span><span class="hs-glyph">::</span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Update.html#STag"><span class="hs-identifier hs-type">STag</span></a><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-number">1</span><span class="hs-special">)</span><span>
</span><a name="line-189"></a><span>                         </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">typeOf</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">undefined</span><span class="hs-glyph">::</span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Update.html#ProtVer"><span class="hs-identifier hs-type">ProtVer</span></a><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-number">1</span><span class="hs-special">)</span><span>
</span><a name="line-190"></a><span>                         </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">typeOf</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">undefined</span><span class="hs-glyph">::</span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Delegation.html#DCert"><span class="hs-identifier hs-type">DCert</span></a><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-number">1</span><span class="hs-special">)</span><span>
</span><a name="line-191"></a><span>                         </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">typeOf</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">undefined</span><span class="hs-glyph">::</span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Update.html#Vote"><span class="hs-identifier hs-type">Vote</span></a><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-number">1</span><span class="hs-special">)</span><span>
</span><a name="line-192"></a><span>                         </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">typeOf</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">undefined</span><span class="hs-glyph">::</span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.UTxO.html#Tx"><span class="hs-identifier hs-type">Tx</span></a><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-number">1</span><span class="hs-special">)</span><span>
</span><a name="line-193"></a><span>                         </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">typeOf</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">undefined</span><span class="hs-glyph">::</span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.UTxO.html#Wit"><span class="hs-identifier hs-type">Wit</span></a><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-number">1</span><span class="hs-special">)</span><span>
</span><a name="line-194"></a><span>                         </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">typeOf</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">undefined</span><span class="hs-glyph">::</span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.UTxO.html#TxIn"><span class="hs-identifier hs-type">TxIn</span></a><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-number">1</span><span class="hs-special">)</span><span>
</span><a name="line-195"></a><span>                         </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">typeOf</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">undefined</span><span class="hs-glyph">::</span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.UTxO.html#TxOut"><span class="hs-identifier hs-type">TxOut</span></a><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-number">1</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><a name="line-196"></a><span>
</span><a name="line-197"></a><span class="hs-comment">-- | Compute the abstract size (in words) that a block header occupies.</span><span>
</span><a name="line-198"></a><span class="hs-identifier">bHeaderSize</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Byron.Spec.Chain.STS.Block.html#BlockHeader"><span class="hs-identifier hs-type">BlockHeader</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Natural</span><span>
</span><a name="line-199"></a><a name="bHeaderSize"><a href="Byron.Spec.Chain.STS.Block.html#bHeaderSize"><span class="hs-identifier">bHeaderSize</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">fromIntegral</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/small-steps-0.1.0.0/noopt/doc/html/small-steps/src/Data.AbstractSize.html#abstractSize"><span class="hs-identifier hs-var">abstractSize</span></a><span> </span><a href="#local-6989586621679137673"><span class="hs-identifier hs-var">costs</span></a><span>
</span><a name="line-200"></a><span>  </span><span class="hs-keyword">where</span><span>
</span><a name="line-201"></a><span>    </span><a name="local-6989586621679137673"><a href="#local-6989586621679137673"><span class="hs-identifier">costs</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">Map.fromList</span><span> </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">typeOf</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">undefined</span><span class="hs-glyph">::</span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Core.html#Hash"><span class="hs-identifier hs-type">Hash</span></a><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-number">1</span><span class="hs-special">)</span><span>
</span><a name="line-202"></a><span>                         </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">typeOf</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">undefined</span><span class="hs-glyph">::</span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Core.html#Slot"><span class="hs-identifier hs-type">Slot</span></a><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-number">1</span><span class="hs-special">)</span><span>
</span><a name="line-203"></a><span>                         </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">typeOf</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">undefined</span><span class="hs-glyph">::</span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Core.html#VKey"><span class="hs-identifier hs-type">VKey</span></a><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-number">1</span><span class="hs-special">)</span><span>
</span><a name="line-204"></a><span>                         </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">typeOf</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">undefined</span><span class="hs-glyph">::</span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Core.html#Sig"><span class="hs-identifier hs-type">Sig</span></a><span> </span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Core.html#Hash"><span class="hs-identifier hs-type">Hash</span></a><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-number">1</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><a name="line-205"></a><span>
</span><a name="line-206"></a><span class="hs-comment">-- | Computes the hash of a header.</span><span>
</span><a name="line-207"></a><span class="hs-identifier">hashHeader</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Byron.Spec.Chain.STS.Block.html#BlockHeader"><span class="hs-identifier hs-type">BlockHeader</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Core.html#Hash"><span class="hs-identifier hs-type">Hash</span></a><span>
</span><a name="line-208"></a><a name="hashHeader"><a href="Byron.Spec.Chain.STS.Block.html#hashHeader"><span class="hs-identifier">hashHeader</span></a></a><span> </span><a name="local-6989586621679137674"><a href="#local-6989586621679137674"><span class="hs-identifier">bh</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Core.html#Hash"><span class="hs-identifier hs-var">Hash</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-identifier hs-var">Just</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-identifier hs-var">H.hash</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679137674"><span class="hs-identifier hs-var">bh</span></a><span> </span><span class="hs-operator hs-var">^.</span><span> </span><a href="Byron.Spec.Chain.STS.Block.html#bhPrevHash"><span class="hs-identifier hs-var">bhPrevHash</span></a><span class="hs-special">,</span><span> </span><a href="#local-6989586621679137674"><span class="hs-identifier hs-var">bh</span></a><span> </span><span class="hs-operator hs-var">^.</span><span> </span><a href="Byron.Spec.Chain.STS.Block.html#bhSlot"><span class="hs-identifier hs-var">bhSlot</span></a><span class="hs-special">,</span><span> </span><a href="#local-6989586621679137674"><span class="hs-identifier hs-var">bh</span></a><span> </span><span class="hs-operator hs-var">^.</span><span> </span><a href="Byron.Spec.Chain.STS.Block.html#bhIssuer"><span class="hs-identifier hs-var">bhIssuer</span></a><span class="hs-special">)</span><span>
</span><a name="line-209"></a><span>
</span><a name="line-210"></a><span class="hs-comment">-- | Computes the hash of the header.</span><span>
</span><a name="line-211"></a><span class="hs-identifier">bhToSign</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Byron.Spec.Chain.STS.Block.html#BlockHeader"><span class="hs-identifier hs-type">BlockHeader</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Core.html#Hash"><span class="hs-identifier hs-type">Hash</span></a><span>
</span><a name="line-212"></a><a name="bhToSign"><a href="Byron.Spec.Chain.STS.Block.html#bhToSign"><span class="hs-identifier">bhToSign</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Byron.Spec.Chain.STS.Block.html#hashHeader"><span class="hs-identifier hs-var">hashHeader</span></a><span>
</span><a name="line-213"></a><span>
</span><a name="line-214"></a><span class="hs-identifier">bhHash</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Byron.Spec.Chain.STS.Block.html#BlockHeader"><span class="hs-identifier hs-type">BlockHeader</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/src/Byron.Spec.Ledger.Core.html#Hash"><span class="hs-identifier hs-type">Hash</span></a><span>
</span><a name="line-215"></a><a name="bhHash"><a href="Byron.Spec.Chain.STS.Block.html#bhHash"><span class="hs-identifier">bhHash</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Byron.Spec.Chain.STS.Block.html#hashHeader"><span class="hs-identifier hs-var">hashHeader</span></a><span>
</span><a name="line-216"></a><span>
</span><a name="line-217"></a><span class="hs-comment">-- | Checks if a block is an epoch boundary block.</span><span>
</span><a name="line-218"></a><span class="hs-comment">--</span><span>
</span><a name="line-219"></a><span class="hs-comment">-- The function always returns False because tests will be performed</span><span>
</span><a name="line-220"></a><span class="hs-comment">-- only against chains without EBBs.</span><span>
</span><a name="line-221"></a><span class="hs-identifier">bIsEBB</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Byron.Spec.Chain.STS.Block.html#Block"><span class="hs-identifier hs-type">Block</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Bool</span><span>
</span><a name="line-222"></a><a name="bIsEBB"><a href="Byron.Spec.Chain.STS.Block.html#bIsEBB"><span class="hs-identifier">bIsEBB</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">const</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-223"></a><span>
</span><a name="line-224"></a><span>
</span><a name="line-225"></a><span class="hs-keyword">instance</span><span> </span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/small-steps-0.1.0.0/noopt/doc/html/small-steps/src/Control.State.Transition.Generator.html#HasSizeInfo"><span class="hs-identifier hs-type">HasSizeInfo</span></a><span> </span><a href="Byron.Spec.Chain.STS.Block.html#Block"><span class="hs-identifier hs-type">Block</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-226"></a><span>  </span><a name="local-8214565720323797368"><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/small-steps-0.1.0.0/noopt/doc/html/small-steps/src/Control.State.Transition.Generator.html#isTrivial"><span class="hs-identifier">isTrivial</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">null</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier hs-var">view</span><span> </span><span class="hs-special">(</span><a href="Byron.Spec.Chain.STS.Block.html#bBody"><span class="hs-identifier hs-var">bBody</span></a><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="Byron.Spec.Chain.STS.Block.html#bDCerts"><span class="hs-identifier hs-var">bDCerts</span></a><span class="hs-special">)</span><span>
</span><a name="line-227"></a><span>
</span><a name="line-228"></a><span>
</span><a name="line-229"></a><span class="hs-comment">-- | Update a field of the block body, recomputing the hashes to get a valid</span><span>
</span><a name="line-230"></a><span class="hs-comment">-- block.</span><span>
</span><a name="line-231"></a><span class="hs-identifier">updateBody</span><span>
</span><a name="line-232"></a><span>  </span><span class="hs-glyph">::</span><span> </span><a href="Byron.Spec.Chain.STS.Block.html#Block"><span class="hs-identifier hs-type">Block</span></a><span>
</span><a name="line-233"></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="Byron.Spec.Chain.STS.Block.html#BlockBody"><span class="hs-identifier hs-type">BlockBody</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Byron.Spec.Chain.STS.Block.html#BlockBody"><span class="hs-identifier hs-type">BlockBody</span></a><span class="hs-special">)</span><span>
</span><a name="line-234"></a><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Byron.Spec.Chain.STS.Block.html#Block"><span class="hs-identifier hs-type">Block</span></a><span>
</span><a name="line-235"></a><a name="updateBody"><a href="Byron.Spec.Chain.STS.Block.html#updateBody"><span class="hs-identifier">updateBody</span></a></a><span> </span><a name="local-6989586621679137675"><a href="#local-6989586621679137675"><span class="hs-identifier">block</span></a></a><span> </span><a name="local-6989586621679137676"><a href="#local-6989586621679137676"><span class="hs-identifier">bodyUpdate</span></a></a><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-236"></a><span>  </span><a href="Byron.Spec.Chain.STS.Block.html#mkBlock"><span class="hs-identifier hs-var">mkBlock</span></a><span>
</span><a name="line-237"></a><span>    </span><span class="hs-special">(</span><span class="hs-identifier">_bhPrevHash</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier">_bHeader</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><a href="#local-6989586621679137675"><span class="hs-identifier hs-var">block</span></a><span class="hs-special">)</span><span>
</span><a name="line-238"></a><span>    </span><span class="hs-special">(</span><span class="hs-identifier">_bhSlot</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier">_bHeader</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><a href="#local-6989586621679137675"><span class="hs-identifier hs-var">block</span></a><span class="hs-special">)</span><span>
</span><a name="line-239"></a><span>    </span><span class="hs-special">(</span><span class="hs-identifier">_bhIssuer</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier">_bHeader</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><a href="#local-6989586621679137675"><span class="hs-identifier hs-var">block</span></a><span class="hs-special">)</span><span>
</span><a name="line-240"></a><span>    </span><span class="hs-special">(</span><span class="hs-identifier">_bProtVer</span><span> </span><a href="#local-6989586621679137677"><span class="hs-identifier hs-var">newBody</span></a><span class="hs-special">)</span><span>
</span><a name="line-241"></a><span>    </span><span class="hs-special">(</span><span class="hs-identifier">_bDCerts</span><span> </span><a href="#local-6989586621679137677"><span class="hs-identifier hs-var">newBody</span></a><span class="hs-special">)</span><span>
</span><a name="line-242"></a><span>    </span><span class="hs-special">(</span><span class="hs-identifier">_bUpdProp</span><span> </span><a href="#local-6989586621679137677"><span class="hs-identifier hs-var">newBody</span></a><span class="hs-special">)</span><span>
</span><a name="line-243"></a><span>    </span><span class="hs-special">(</span><span class="hs-identifier">_bUpdVotes</span><span> </span><a href="#local-6989586621679137677"><span class="hs-identifier hs-var">newBody</span></a><span class="hs-special">)</span><span>
</span><a name="line-244"></a><span>    </span><span class="hs-special">(</span><span class="hs-identifier">_bUtxo</span><span> </span><a href="#local-6989586621679137677"><span class="hs-identifier hs-var">newBody</span></a><span class="hs-special">)</span><span>
</span><a name="line-245"></a><span>  </span><span class="hs-keyword">where</span><span>
</span><a name="line-246"></a><span>    </span><a name="local-6989586621679137677"><a href="#local-6989586621679137677"><span class="hs-identifier">newBody</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679137676"><span class="hs-identifier hs-var">bodyUpdate</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier">_bBody</span><span> </span><a href="#local-6989586621679137675"><span class="hs-identifier hs-var">block</span></a><span class="hs-special">)</span><span>
</span><a name="line-247"></a><span>
</span><a name="line-248"></a><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><a name="line-249"></a><span class="hs-comment">-- Block statistics</span><span>
</span><a name="line-250"></a><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><a name="line-251"></a><span>
</span><a name="line-252"></a><span class="hs-keyword">data</span><span> </span><a name="BlockStats"><a href="Byron.Spec.Chain.STS.Block.html#BlockStats"><span class="hs-identifier">BlockStats</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a name="BlockStats"><a href="Byron.Spec.Chain.STS.Block.html#BlockStats"><span class="hs-identifier">BlockStats</span></a></a><span> </span><span class="hs-special">{</span><span>
</span><a name="line-253"></a><span>      </span><span class="hs-comment">-- | Number of regular transactions</span><span>
</span><a name="line-254"></a><span>      </span><a name="blockStatsUtxo"><a href="Byron.Spec.Chain.STS.Block.html#blockStatsUtxo"><span class="hs-identifier">blockStatsUtxo</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Word</span><span>
</span><a name="line-255"></a><span>
</span><a name="line-256"></a><span>      </span><span class="hs-comment">-- | Number of delegation certificates</span><span>
</span><a name="line-257"></a><span>    </span><span class="hs-special">,</span><span> </span><a name="blockStatsDCerts"><a href="Byron.Spec.Chain.STS.Block.html#blockStatsDCerts"><span class="hs-identifier">blockStatsDCerts</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Word</span><span>
</span><a name="line-258"></a><span>
</span><a name="line-259"></a><span>      </span><span class="hs-comment">-- | Number of update votes</span><span>
</span><a name="line-260"></a><span>    </span><span class="hs-special">,</span><span> </span><a name="blockStatsUpdVotes"><a href="Byron.Spec.Chain.STS.Block.html#blockStatsUpdVotes"><span class="hs-identifier">blockStatsUpdVotes</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Word</span><span>
</span><a name="line-261"></a><span>
</span><a name="line-262"></a><span>      </span><span class="hs-comment">-- | Number of update proposals</span><span>
</span><a name="line-263"></a><span>      </span><span class="hs-comment">--</span><span>
</span><a name="line-264"></a><span>      </span><span class="hs-comment">-- For a single block this will be 0 or 1.</span><span>
</span><a name="line-265"></a><span>    </span><span class="hs-special">,</span><span> </span><a name="blockStatsUpdProp"><a href="Byron.Spec.Chain.STS.Block.html#blockStatsUpdProp"><span class="hs-identifier">blockStatsUpdProp</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Word</span><span>
</span><a name="line-266"></a><span>    </span><span class="hs-special">}</span><span>
</span><a name="line-267"></a><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Show</span><span class="hs-special">)</span><span>
</span><a name="line-268"></a><span>
</span><a name="line-269"></a><span class="hs-comment">-- | Count number of transactions in the block</span><span>
</span><a name="line-270"></a><span class="hs-comment">--</span><span>
</span><a name="line-271"></a><span class="hs-comment">-- Returns the number of</span><span>
</span><a name="line-272"></a><span class="hs-comment">--</span><span>
</span><a name="line-273"></a><span class="hs-comment">-- * Regular transactions</span><span>
</span><a name="line-274"></a><span class="hs-comment">-- * Delegation certificates</span><span>
</span><a name="line-275"></a><span class="hs-comment">-- * Update votes</span><span>
</span><a name="line-276"></a><span class="hs-comment">-- * Update proposals (0 or 1)</span><span>
</span><a name="line-277"></a><span class="hs-identifier">blockStats</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Byron.Spec.Chain.STS.Block.html#Block"><span class="hs-identifier hs-type">Block</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Byron.Spec.Chain.STS.Block.html#BlockStats"><span class="hs-identifier hs-type">BlockStats</span></a><span>
</span><a name="line-278"></a><a name="blockStats"><a href="Byron.Spec.Chain.STS.Block.html#blockStats"><span class="hs-identifier">blockStats</span></a></a><span> </span><span class="hs-special">(</span><a href="Byron.Spec.Chain.STS.Block.html#Block"><span class="hs-identifier hs-var">Block</span></a><span> </span><a name="local-6989586621679137678"><a href="#local-6989586621679137678"><span class="hs-identifier">_header</span></a></a><span> </span><a name="local-6989586621679137679"><a href="#local-6989586621679137679"><span class="hs-identifier">body</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Byron.Spec.Chain.STS.Block.html#BlockStats"><span class="hs-identifier hs-var">BlockStats</span></a><span> </span><span class="hs-special">{</span><span>
</span><a name="line-279"></a><span>      </span><span class="hs-identifier">blockStatsUtxo</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">fromIntegral</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier hs-var">length</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-identifier">_bUtxo</span><span>     </span><a href="#local-6989586621679137679"><span class="hs-identifier hs-var">body</span></a><span>
</span><a name="line-280"></a><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">blockStatsDCerts</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">fromIntegral</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier hs-var">length</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-identifier">_bDCerts</span><span>   </span><a href="#local-6989586621679137679"><span class="hs-identifier hs-var">body</span></a><span>
</span><a name="line-281"></a><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">blockStatsUpdVotes</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">fromIntegral</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier hs-var">length</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-identifier">_bUpdVotes</span><span> </span><a href="#local-6989586621679137679"><span class="hs-identifier hs-var">body</span></a><span>
</span><a name="line-282"></a><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">blockStatsUpdProp</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">maybe</span><span> </span><span class="hs-number">0</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">const</span><span> </span><span class="hs-number">1</span><span class="hs-special">)</span><span>     </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-identifier">_bUpdProp</span><span>  </span><a href="#local-6989586621679137679"><span class="hs-identifier hs-var">body</span></a><span>
</span><a name="line-283"></a><span>    </span><span class="hs-special">}</span><span>
</span><a name="line-284"></a><span>
</span><a name="line-285"></a><span class="hs-comment">-- | Block stats for an entire chain</span><span>
</span><a name="line-286"></a><span class="hs-comment">--</span><span>
</span><a name="line-287"></a><span class="hs-comment">-- Computes minimum, maximum, and average values.</span><span>
</span><a name="line-288"></a><span class="hs-comment">--</span><span>
</span><a name="line-289"></a><span class="hs-comment">-- Returns 'Nothing' for the empty chain.</span><span>
</span><a name="line-290"></a><span class="hs-identifier">chainBlockStats</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><a href="Byron.Spec.Chain.STS.Block.html#BlockStats"><span class="hs-identifier hs-type">BlockStats</span></a><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Maybe</span><span> </span><span class="hs-special">(</span><a href="Byron.Spec.Chain.STS.Block.html#BlockStats"><span class="hs-identifier hs-type">BlockStats</span></a><span class="hs-special">,</span><span> </span><a href="Byron.Spec.Chain.STS.Block.html#BlockStats"><span class="hs-identifier hs-type">BlockStats</span></a><span class="hs-special">,</span><span> </span><a href="Byron.Spec.Chain.STS.Block.html#BlockStats"><span class="hs-identifier hs-type">BlockStats</span></a><span class="hs-special">)</span><span>
</span><a name="line-291"></a><a name="chainBlockStats"><a href="Byron.Spec.Chain.STS.Block.html#chainBlockStats"><span class="hs-identifier">chainBlockStats</span></a></a><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">Nothing</span><span>
</span><a name="line-292"></a><span class="hs-identifier">chainBlockStats</span><span> </span><span class="hs-special">(</span><a name="local-6989586621679137704"><a href="#local-6989586621679137704"><span class="hs-identifier">b</span></a></a><span class="hs-glyph">:</span><a name="local-6989586621679137705"><a href="#local-6989586621679137705"><span class="hs-identifier">bs</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">Just</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><a href="#local-6989586621679137706"><span class="hs-identifier hs-var">go</span></a><span> </span><a href="#local-6989586621679137704"><span class="hs-identifier hs-var">b</span></a><span> </span><a href="#local-6989586621679137704"><span class="hs-identifier hs-var">b</span></a><span> </span><a href="#local-6989586621679137704"><span class="hs-identifier hs-var">b</span></a><span> </span><span class="hs-number">1</span><span> </span><a href="#local-6989586621679137705"><span class="hs-identifier hs-var">bs</span></a><span>
</span><a name="line-293"></a><span>  </span><span class="hs-keyword">where</span><span>
</span><a name="line-294"></a><span>    </span><span class="hs-identifier">go</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Byron.Spec.Chain.STS.Block.html#BlockStats"><span class="hs-identifier hs-type">BlockStats</span></a><span> </span><span class="hs-comment">-- Minimum</span><span>
</span><a name="line-295"></a><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Byron.Spec.Chain.STS.Block.html#BlockStats"><span class="hs-identifier hs-type">BlockStats</span></a><span> </span><span class="hs-comment">-- Maximum</span><span>
</span><a name="line-296"></a><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Byron.Spec.Chain.STS.Block.html#BlockStats"><span class="hs-identifier hs-type">BlockStats</span></a><span> </span><span class="hs-comment">-- Sum</span><span>
</span><a name="line-297"></a><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Word</span><span>       </span><span class="hs-comment">-- Count</span><span>
</span><a name="line-298"></a><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><a href="Byron.Spec.Chain.STS.Block.html#BlockStats"><span class="hs-identifier hs-type">BlockStats</span></a><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="Byron.Spec.Chain.STS.Block.html#BlockStats"><span class="hs-identifier hs-type">BlockStats</span></a><span class="hs-special">,</span><span> </span><a href="Byron.Spec.Chain.STS.Block.html#BlockStats"><span class="hs-identifier hs-type">BlockStats</span></a><span class="hs-special">,</span><span> </span><a href="Byron.Spec.Chain.STS.Block.html#BlockStats"><span class="hs-identifier hs-type">BlockStats</span></a><span class="hs-special">)</span><span>
</span><a name="line-299"></a><span>    </span><a name="local-6989586621679137706"><a href="#local-6989586621679137706"><span class="hs-identifier">go</span></a></a><span> </span><span class="hs-glyph">!</span><a name="local-6989586621679137707"><a href="#local-6989586621679137707"><span class="hs-identifier">sMin</span></a></a><span> </span><span class="hs-glyph">!</span><a name="local-6989586621679137708"><a href="#local-6989586621679137708"><span class="hs-identifier">sMax</span></a></a><span> </span><span class="hs-glyph">!</span><a name="local-6989586621679137709"><a href="#local-6989586621679137709"><span class="hs-identifier">sSum</span></a></a><span> </span><span class="hs-glyph">!</span><a name="local-6989586621679137710"><a href="#local-6989586621679137710"><span class="hs-identifier">cnt</span></a></a><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span>
</span><a name="line-300"></a><span>          </span><a href="#local-6989586621679137707"><span class="hs-identifier hs-var">sMin</span></a><span>
</span><a name="line-301"></a><span>        </span><span class="hs-special">,</span><span> </span><a href="#local-6989586621679137708"><span class="hs-identifier hs-var">sMax</span></a><span>
</span><a name="line-302"></a><span>        </span><span class="hs-special">,</span><span> </span><a href="Byron.Spec.Chain.STS.Block.html#BlockStats"><span class="hs-identifier hs-var">BlockStats</span></a><span> </span><span class="hs-special">{</span><span>
</span><a name="line-303"></a><span>              </span><span class="hs-identifier">blockStatsUtxo</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">blockStatsUtxo</span><span>     </span><a href="#local-6989586621679137709"><span class="hs-identifier hs-var">sSum</span></a><span> </span><span class="hs-special">`</span><span class="hs-identifier hs-var">div</span><span class="hs-special">`</span><span> </span><a href="#local-6989586621679137710"><span class="hs-identifier hs-var">cnt</span></a><span>
</span><a name="line-304"></a><span>            </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">blockStatsDCerts</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">blockStatsDCerts</span><span>   </span><a href="#local-6989586621679137709"><span class="hs-identifier hs-var">sSum</span></a><span> </span><span class="hs-special">`</span><span class="hs-identifier hs-var">div</span><span class="hs-special">`</span><span> </span><a href="#local-6989586621679137710"><span class="hs-identifier hs-var">cnt</span></a><span>
</span><a name="line-305"></a><span>            </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">blockStatsUpdVotes</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">blockStatsUpdVotes</span><span> </span><a href="#local-6989586621679137709"><span class="hs-identifier hs-var">sSum</span></a><span> </span><span class="hs-special">`</span><span class="hs-identifier hs-var">div</span><span class="hs-special">`</span><span> </span><a href="#local-6989586621679137710"><span class="hs-identifier hs-var">cnt</span></a><span>
</span><a name="line-306"></a><span>            </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">blockStatsUpdProp</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">blockStatsUpdProp</span><span>  </span><a href="#local-6989586621679137709"><span class="hs-identifier hs-var">sSum</span></a><span> </span><span class="hs-special">`</span><span class="hs-identifier hs-var">div</span><span class="hs-special">`</span><span> </span><a href="#local-6989586621679137710"><span class="hs-identifier hs-var">cnt</span></a><span>
</span><a name="line-307"></a><span>            </span><span class="hs-special">}</span><span>
</span><a name="line-308"></a><span>        </span><span class="hs-special">)</span><span>
</span><a name="line-309"></a><span>    </span><span class="hs-identifier">go</span><span> </span><span class="hs-glyph">!</span><a name="local-6989586621679137711"><a href="#local-6989586621679137711"><span class="hs-identifier">sMin</span></a></a><span> </span><span class="hs-glyph">!</span><a name="local-6989586621679137712"><a href="#local-6989586621679137712"><span class="hs-identifier">sMax</span></a></a><span> </span><span class="hs-glyph">!</span><a name="local-6989586621679137713"><a href="#local-6989586621679137713"><span class="hs-identifier">sSum</span></a></a><span> </span><span class="hs-glyph">!</span><a name="local-6989586621679137714"><a href="#local-6989586621679137714"><span class="hs-identifier">cnt</span></a></a><span> </span><span class="hs-special">(</span><a name="local-6989586621679137715"><a href="#local-6989586621679137715"><span class="hs-identifier">b'</span></a></a><span class="hs-glyph">:</span><a name="local-6989586621679137716"><a href="#local-6989586621679137716"><span class="hs-identifier">bs'</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-310"></a><span>        </span><a href="#local-6989586621679137706"><span class="hs-identifier hs-var">go</span></a><span>
</span><a name="line-311"></a><span>          </span><a href="Byron.Spec.Chain.STS.Block.html#BlockStats"><span class="hs-identifier hs-var">BlockStats</span></a><span> </span><span class="hs-special">{</span><span>
</span><a name="line-312"></a><span>              </span><span class="hs-identifier">blockStatsUtxo</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">min</span><span> </span><span class="hs-special">`</span><span class="hs-identifier hs-var">on</span><span class="hs-special">`</span><span> </span><span class="hs-identifier">blockStatsUtxo</span><span class="hs-special">)</span><span>     </span><a href="#local-6989586621679137711"><span class="hs-identifier hs-var">sMin</span></a><span> </span><a href="#local-6989586621679137715"><span class="hs-identifier hs-var">b'</span></a><span>
</span><a name="line-313"></a><span>            </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">blockStatsDCerts</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">min</span><span> </span><span class="hs-special">`</span><span class="hs-identifier hs-var">on</span><span class="hs-special">`</span><span> </span><span class="hs-identifier">blockStatsDCerts</span><span class="hs-special">)</span><span>   </span><a href="#local-6989586621679137711"><span class="hs-identifier hs-var">sMin</span></a><span> </span><a href="#local-6989586621679137715"><span class="hs-identifier hs-var">b'</span></a><span>
</span><a name="line-314"></a><span>            </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">blockStatsUpdVotes</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">min</span><span> </span><span class="hs-special">`</span><span class="hs-identifier hs-var">on</span><span class="hs-special">`</span><span> </span><span class="hs-identifier">blockStatsUpdVotes</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621679137711"><span class="hs-identifier hs-var">sMin</span></a><span> </span><a href="#local-6989586621679137715"><span class="hs-identifier hs-var">b'</span></a><span>
</span><a name="line-315"></a><span>            </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">blockStatsUpdProp</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">min</span><span> </span><span class="hs-special">`</span><span class="hs-identifier hs-var">on</span><span class="hs-special">`</span><span> </span><span class="hs-identifier">blockStatsUpdProp</span><span class="hs-special">)</span><span>  </span><a href="#local-6989586621679137711"><span class="hs-identifier hs-var">sMin</span></a><span> </span><a href="#local-6989586621679137715"><span class="hs-identifier hs-var">b'</span></a><span>
</span><a name="line-316"></a><span>            </span><span class="hs-special">}</span><span>
</span><a name="line-317"></a><span>          </span><a href="Byron.Spec.Chain.STS.Block.html#BlockStats"><span class="hs-identifier hs-var">BlockStats</span></a><span> </span><span class="hs-special">{</span><span>
</span><a name="line-318"></a><span>              </span><span class="hs-identifier">blockStatsUtxo</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">max</span><span> </span><span class="hs-special">`</span><span class="hs-identifier hs-var">on</span><span class="hs-special">`</span><span> </span><span class="hs-identifier">blockStatsUtxo</span><span class="hs-special">)</span><span>     </span><a href="#local-6989586621679137712"><span class="hs-identifier hs-var">sMax</span></a><span> </span><a href="#local-6989586621679137715"><span class="hs-identifier hs-var">b'</span></a><span>
</span><a name="line-319"></a><span>            </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">blockStatsDCerts</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">max</span><span> </span><span class="hs-special">`</span><span class="hs-identifier hs-var">on</span><span class="hs-special">`</span><span> </span><span class="hs-identifier">blockStatsDCerts</span><span class="hs-special">)</span><span>   </span><a href="#local-6989586621679137712"><span class="hs-identifier hs-var">sMax</span></a><span> </span><a href="#local-6989586621679137715"><span class="hs-identifier hs-var">b'</span></a><span>
</span><a name="line-320"></a><span>            </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">blockStatsUpdVotes</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">max</span><span> </span><span class="hs-special">`</span><span class="hs-identifier hs-var">on</span><span class="hs-special">`</span><span> </span><span class="hs-identifier">blockStatsUpdVotes</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621679137712"><span class="hs-identifier hs-var">sMax</span></a><span> </span><a href="#local-6989586621679137715"><span class="hs-identifier hs-var">b'</span></a><span>
</span><a name="line-321"></a><span>            </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">blockStatsUpdProp</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">max</span><span> </span><span class="hs-special">`</span><span class="hs-identifier hs-var">on</span><span class="hs-special">`</span><span> </span><span class="hs-identifier">blockStatsUpdProp</span><span class="hs-special">)</span><span>  </span><a href="#local-6989586621679137712"><span class="hs-identifier hs-var">sMax</span></a><span> </span><a href="#local-6989586621679137715"><span class="hs-identifier hs-var">b'</span></a><span>
</span><a name="line-322"></a><span>            </span><span class="hs-special">}</span><span>
</span><a name="line-323"></a><span>          </span><a href="Byron.Spec.Chain.STS.Block.html#BlockStats"><span class="hs-identifier hs-var">BlockStats</span></a><span> </span><span class="hs-special">{</span><span>
</span><a name="line-324"></a><span>              </span><span class="hs-identifier">blockStatsUtxo</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-operator hs-var">+</span><span class="hs-special">)</span><span> </span><span class="hs-special">`</span><span class="hs-identifier hs-var">on</span><span class="hs-special">`</span><span> </span><span class="hs-identifier">blockStatsUtxo</span><span class="hs-special">)</span><span>     </span><a href="#local-6989586621679137713"><span class="hs-identifier hs-var">sSum</span></a><span> </span><a href="#local-6989586621679137715"><span class="hs-identifier hs-var">b'</span></a><span>
</span><a name="line-325"></a><span>            </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">blockStatsDCerts</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-operator hs-var">+</span><span class="hs-special">)</span><span> </span><span class="hs-special">`</span><span class="hs-identifier hs-var">on</span><span class="hs-special">`</span><span> </span><span class="hs-identifier">blockStatsDCerts</span><span class="hs-special">)</span><span>   </span><a href="#local-6989586621679137713"><span class="hs-identifier hs-var">sSum</span></a><span> </span><a href="#local-6989586621679137715"><span class="hs-identifier hs-var">b'</span></a><span>
</span><a name="line-326"></a><span>            </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">blockStatsUpdVotes</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-operator hs-var">+</span><span class="hs-special">)</span><span> </span><span class="hs-special">`</span><span class="hs-identifier hs-var">on</span><span class="hs-special">`</span><span> </span><span class="hs-identifier">blockStatsUpdVotes</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621679137713"><span class="hs-identifier hs-var">sSum</span></a><span> </span><a href="#local-6989586621679137715"><span class="hs-identifier hs-var">b'</span></a><span>
</span><a name="line-327"></a><span>            </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">blockStatsUpdProp</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-operator hs-var">+</span><span class="hs-special">)</span><span> </span><span class="hs-special">`</span><span class="hs-identifier hs-var">on</span><span class="hs-special">`</span><span> </span><span class="hs-identifier">blockStatsUpdProp</span><span class="hs-special">)</span><span>  </span><a href="#local-6989586621679137713"><span class="hs-identifier hs-var">sSum</span></a><span> </span><a href="#local-6989586621679137715"><span class="hs-identifier hs-var">b'</span></a><span>
</span><a name="line-328"></a><span>            </span><span class="hs-special">}</span><span>
</span><a name="line-329"></a><span>          </span><span class="hs-special">(</span><a href="#local-6989586621679137714"><span class="hs-identifier hs-var">cnt</span></a><span> </span><span class="hs-operator hs-var">+</span><span> </span><span class="hs-number">1</span><span class="hs-special">)</span><span>
</span><a name="line-330"></a><span>          </span><a href="#local-6989586621679137716"><span class="hs-identifier hs-var">bs'</span></a><span>
</span><a name="line-331"></a><span>
</span><a name="line-332"></a><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><a name="line-333"></a><span class="hs-comment">-- Goblins instances</span><span>
</span><a name="line-334"></a><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><a name="line-335"></a><span>
</span><a name="line-336"></a><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/goblins-0.1.0.0/noopt/doc/html/goblins/src/Test.Goblin.Core.html#tinkerRummagedOrConjureOrSave"><span class="hs-identifier hs-var">deriveGoblin</span></a><span> </span><span class="hs-special">''</span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/goblins-0.1.0.0/noopt/doc/html/goblins/src/Test.Goblin.Core.html#tinkerRummagedOrConjureOrSave"><span class="hs-identifier hs-var">Block</span></a><span>
</span><a name="line-337"></a><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/goblins-0.1.0.0/noopt/doc/html/goblins/src/Test.Goblin.Core.html#tinkerRummagedOrConjureOrSave"><span class="hs-identifier hs-var">deriveGoblin</span></a><span> </span><span class="hs-special">''</span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/goblins-0.1.0.0/noopt/doc/html/goblins/src/Test.Goblin.Core.html#tinkerRummagedOrConjureOrSave"><span class="hs-identifier hs-var">BlockBody</span></a><span>
</span><a name="line-338"></a><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/goblins-0.1.0.0/noopt/doc/html/goblins/src/Test.Goblin.Core.html#tinkerRummagedOrConjureOrSave"><span class="hs-identifier hs-var">deriveGoblin</span></a><span> </span><span class="hs-special">''</span><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/goblins-0.1.0.0/noopt/doc/html/goblins/src/Test.Goblin.Core.html#tinkerRummagedOrConjureOrSave"><span class="hs-identifier hs-var">BlockHeader</span></a><span>
</span><a name="line-339"></a><span>
</span><a name="line-340"></a><span>
</span><a name="line-341"></a><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><a name="line-342"></a><span class="hs-comment">-- AddShrinks instances</span><span>
</span><a name="line-343"></a><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><a name="line-344"></a><span>
</span><a name="line-345"></a><a href="Byron.Spec.Chain.STS.Block.html#Block"><span class="hs-identifier hs-var">deriveAddShrinks</span></a><span> </span><span class="hs-special">''</span><a href="Byron.Spec.Chain.STS.Block.html#Block"><span class="hs-identifier hs-var">Block</span></a><span>
</span><a name="line-346"></a><a href="Byron.Spec.Chain.STS.Block.html#BlockBody"><span class="hs-identifier hs-var">deriveAddShrinks</span></a><span> </span><span class="hs-special">''</span><a href="Byron.Spec.Chain.STS.Block.html#BlockBody"><span class="hs-identifier hs-var">BlockBody</span></a><span>
</span><a name="line-347"></a><a href="Byron.Spec.Chain.STS.Block.html#BlockHeader"><span class="hs-identifier hs-var">deriveAddShrinks</span></a><span> </span><span class="hs-special">''</span><a href="Byron.Spec.Chain.STS.Block.html#BlockHeader"><span class="hs-identifier hs-var">BlockHeader</span></a><span>
</span><a name="line-348"></a></pre></body></html>