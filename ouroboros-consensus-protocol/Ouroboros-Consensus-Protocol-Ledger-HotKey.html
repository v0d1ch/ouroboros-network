<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Ouroboros.Consensus.Protocol.Ledger.HotKey</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">ouroboros-consensus-protocol-0.1.0.0: Cardano consensus protocols.</span><ul class="links" id="page-menu"><li><a href="src/Ouroboros.Consensus.Protocol.Ledger.HotKey.html">Source</a></li><li><a href="&quot;../index.html&quot;">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Ouroboros.Consensus.Protocol.Ledger.HotKey</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">KES Info</a></li><li><a href="#g:2">KES Status</a></li><li><a href="#g:3">Hot Key</a></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Hot key</p><p>Intended for qualified import</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">type</span> <a href="#t:KESEvolution">KESEvolution</a> = Period</li><li class="src short"><span class="keyword">data</span> <a href="#t:KESInfo">KESInfo</a> = <a href="#v:KESInfo">KESInfo</a> {<ul class="subs"><li><a href="#v:kesStartPeriod">kesStartPeriod</a> &#8759; !KESPeriod</li><li><a href="#v:kesEndPeriod">kesEndPeriod</a> &#8759; !KESPeriod</li><li><a href="#v:kesEvolution">kesEvolution</a> &#8759; !<a href="Ouroboros-Consensus-Protocol-Ledger-HotKey.html#t:KESEvolution" title="Ouroboros.Consensus.Protocol.Ledger.HotKey">KESEvolution</a></li></ul>}</li><li class="src short"><a href="#v:kesAbsolutePeriod">kesAbsolutePeriod</a> &#8759; <a href="Ouroboros-Consensus-Protocol-Ledger-HotKey.html#t:KESInfo" title="Ouroboros.Consensus.Protocol.Ledger.HotKey">KESInfo</a> &#8594; KESPeriod</li><li class="src short"><span class="keyword">data</span> <a href="#t:KESStatus">KESStatus</a><ul class="subs"><li>= <a href="#v:BeforeKESStart">BeforeKESStart</a> KESPeriod KESPeriod</li><li>| <a href="#v:InKESRange">InKESRange</a> <a href="Ouroboros-Consensus-Protocol-Ledger-HotKey.html#t:KESEvolution" title="Ouroboros.Consensus.Protocol.Ledger.HotKey">KESEvolution</a></li><li>| <a href="#v:AfterKESEnd">AfterKESEnd</a> KESPeriod KESPeriod</li></ul></li><li class="src short"><a href="#v:kesStatus">kesStatus</a> &#8759; <a href="Ouroboros-Consensus-Protocol-Ledger-HotKey.html#t:KESInfo" title="Ouroboros.Consensus.Protocol.Ledger.HotKey">KESInfo</a> &#8594; KESPeriod &#8594; <a href="Ouroboros-Consensus-Protocol-Ledger-HotKey.html#t:KESStatus" title="Ouroboros.Consensus.Protocol.Ledger.HotKey">KESStatus</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:HotKey">HotKey</a> c m = <a href="#v:HotKey">HotKey</a> {<ul class="subs"><li><a href="#v:evolve">evolve</a> &#8759; KESPeriod &#8594; m <a href="Ouroboros-Consensus-Protocol-Ledger-HotKey.html#t:KESEvolutionInfo" title="Ouroboros.Consensus.Protocol.Ledger.HotKey">KESEvolutionInfo</a></li><li><a href="#v:getInfo">getInfo</a> &#8759; m <a href="Ouroboros-Consensus-Protocol-Ledger-HotKey.html#t:KESInfo" title="Ouroboros.Consensus.Protocol.Ledger.HotKey">KESInfo</a></li><li><a href="#v:isPoisoned">isPoisoned</a> &#8759; m <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/Cabal-3.2.1.0/Distribution-Compat-Prelude-Internal.html#t:Bool" title="Distribution.Compat.Prelude.Internal">Bool</a></li><li><a href="#v:sign_">sign_</a> &#8759; &#8704; toSign. (KESignable c toSign, <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/GHC-Stack.html#t:HasCallStack" title="GHC.Stack">HasCallStack</a>) &#8658; toSign &#8594; m (SignedKES c toSign)</li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:KESEvolutionError">KESEvolutionError</a><ul class="subs"><li>= <a href="#v:KESCouldNotEvolve">KESCouldNotEvolve</a> <a href="Ouroboros-Consensus-Protocol-Ledger-HotKey.html#t:KESInfo" title="Ouroboros.Consensus.Protocol.Ledger.HotKey">KESInfo</a> KESPeriod</li><li>| <a href="#v:KESKeyAlreadyPoisoned">KESKeyAlreadyPoisoned</a> <a href="Ouroboros-Consensus-Protocol-Ledger-HotKey.html#t:KESInfo" title="Ouroboros.Consensus.Protocol.Ledger.HotKey">KESInfo</a> KESPeriod</li></ul></li><li class="src short"><span class="keyword">type</span> <a href="#t:KESEvolutionInfo">KESEvolutionInfo</a> = <a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/Ouroboros-Consensus-Block-Forging.html#t:UpdateInfo" title="Ouroboros.Consensus.Block.Forging">UpdateInfo</a> <a href="Ouroboros-Consensus-Protocol-Ledger-HotKey.html#t:KESInfo" title="Ouroboros.Consensus.Protocol.Ledger.HotKey">KESInfo</a> <a href="Ouroboros-Consensus-Protocol-Ledger-HotKey.html#t:KESEvolutionError" title="Ouroboros.Consensus.Protocol.Ledger.HotKey">KESEvolutionError</a></li><li class="src short"><a href="#v:mkHotKey">mkHotKey</a> &#8759; &#8704; m c. (Crypto c, <a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/Ouroboros-Consensus-Util-IOLike.html#t:IOLike" title="Ouroboros.Consensus.Util.IOLike">IOLike</a> m) &#8658; SignKeyKES c &#8594; KESPeriod &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/Cabal-3.2.1.0/Distribution-Compat-Prelude-Internal.html#t:Word64" title="Distribution.Compat.Prelude.Internal">Word64</a> &#8594; m (<a href="Ouroboros-Consensus-Protocol-Ledger-HotKey.html#t:HotKey" title="Ouroboros.Consensus.Protocol.Ledger.HotKey">HotKey</a> c m)</li><li class="src short"><a href="#v:sign">sign</a> &#8759; (KESignable c toSign, <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/GHC-Stack.html#t:HasCallStack" title="GHC.Stack">HasCallStack</a>) &#8658; <a href="Ouroboros-Consensus-Protocol-Ledger-HotKey.html#t:HotKey" title="Ouroboros.Consensus.Protocol.Ledger.HotKey">HotKey</a> c m &#8594; toSign &#8594; m (SignedKES c toSign)</li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>KES Info</h1></a><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:KESEvolution" class="def">KESEvolution</a> = Period <a href="src/Ouroboros.Consensus.Protocol.Ledger.HotKey.html#KESEvolution" class="link">Source</a> <a href="#t:KESEvolution" class="selflink">#</a></p><div class="doc"><p>We call the relative periods that a KES key is valid its evolution, to
 avoid confusion with absolute periods.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:KESInfo" class="def">KESInfo</a> <a href="src/Ouroboros.Consensus.Protocol.Ledger.HotKey.html#KESInfo" class="link">Source</a> <a href="#t:KESInfo" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:KESInfo" class="def">KESInfo</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:kesStartPeriod" class="def">kesStartPeriod</a> &#8759; !KESPeriod</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:kesEndPeriod" class="def">kesEndPeriod</a> &#8759; !KESPeriod</dfn><div class="doc"><p>Currently derived from <code>TPraosParams</code>:
 &gt; kesEndPeriod = kesStartPeriod + tpraosMaxKESEvo</p></div></li><li><dfn class="src"><a id="v:kesEvolution" class="def">kesEvolution</a> &#8759; !<a href="Ouroboros-Consensus-Protocol-Ledger-HotKey.html#t:KESEvolution" title="Ouroboros.Consensus.Protocol.Ledger.HotKey">KESEvolution</a></dfn><div class="doc"><p>Current evolution or <em>relative period</em>.</p><p>Invariant:
 &gt; kesStartPeriod + kesEvolution in [kesStartPeriod, kesEndPeriod)</p></div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:KESInfo">Instances</h4><details id="i:KESInfo" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:KESInfo:Show:1"></span> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/Cabal-3.2.1.0/Distribution-Compat-Prelude-Internal.html#t:Show" title="Distribution.Compat.Prelude.Internal">Show</a> <a href="Ouroboros-Consensus-Protocol-Ledger-HotKey.html#t:KESInfo" title="Ouroboros.Consensus.Protocol.Ledger.HotKey">KESInfo</a></span> <a href="src/Ouroboros.Consensus.Protocol.Ledger.HotKey.html#line-59" class="link">Source</a> <a href="#t:KESInfo" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:KESInfo:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Protocol-Ledger-HotKey.html">Ouroboros.Consensus.Protocol.Ledger.HotKey</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> &#8759; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/Cabal-3.2.1.0/Distribution-Compat-Prelude-Internal.html#t:Int" title="Distribution.Compat.Prelude.Internal">Int</a> &#8594; <a href="Ouroboros-Consensus-Protocol-Ledger-HotKey.html#t:KESInfo" title="Ouroboros.Consensus.Protocol.Ledger.HotKey">KESInfo</a> &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/Cabal-3.2.1.0/Distribution-Compat-Prelude-Internal.html#t:ShowS" title="Distribution.Compat.Prelude.Internal">ShowS</a> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/src" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> &#8759; <a href="Ouroboros-Consensus-Protocol-Ledger-HotKey.html#t:KESInfo" title="Ouroboros.Consensus.Protocol.Ledger.HotKey">KESInfo</a> &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/Cabal-3.2.1.0/Distribution-Compat-Prelude-Internal.html#t:String" title="Distribution.Compat.Prelude.Internal">String</a> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/src" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> &#8759; [<a href="Ouroboros-Consensus-Protocol-Ledger-HotKey.html#t:KESInfo" title="Ouroboros.Consensus.Protocol.Ledger.HotKey">KESInfo</a>] &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/Cabal-3.2.1.0/Distribution-Compat-Prelude-Internal.html#t:ShowS" title="Distribution.Compat.Prelude.Internal">ShowS</a> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/src" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:KESInfo:Generic:2"></span> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/Cabal-3.2.1.0/Distribution-Compat-Prelude-Internal.html#t:Generic" title="Distribution.Compat.Prelude.Internal">Generic</a> <a href="Ouroboros-Consensus-Protocol-Ledger-HotKey.html#t:KESInfo" title="Ouroboros.Consensus.Protocol.Ledger.HotKey">KESInfo</a></span> <a href="src/Ouroboros.Consensus.Protocol.Ledger.HotKey.html#line-59" class="link">Source</a> <a href="#t:KESInfo" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:KESInfo:Generic:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Protocol-Ledger-HotKey.html">Ouroboros.Consensus.Protocol.Ledger.HotKey</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> <a href="Ouroboros-Consensus-Protocol-Ledger-HotKey.html#t:KESInfo" title="Ouroboros.Consensus.Protocol.Ledger.HotKey">KESInfo</a> &#8759; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/src" class="link">Source</a> <a href="#t:Rep" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:from">from</a> &#8759; <a href="Ouroboros-Consensus-Protocol-Ledger-HotKey.html#t:KESInfo" title="Ouroboros.Consensus.Protocol.Ledger.HotKey">KESInfo</a> &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> <a href="Ouroboros-Consensus-Protocol-Ledger-HotKey.html#t:KESInfo" title="Ouroboros.Consensus.Protocol.Ledger.HotKey">KESInfo</a> x <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/src" class="link">Source</a> <a href="#v:from" class="selflink">#</a></p><p class="src"><a href="#v:to">to</a> &#8759; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> <a href="Ouroboros-Consensus-Protocol-Ledger-HotKey.html#t:KESInfo" title="Ouroboros.Consensus.Protocol.Ledger.HotKey">KESInfo</a> x &#8594; <a href="Ouroboros-Consensus-Protocol-Ledger-HotKey.html#t:KESInfo" title="Ouroboros.Consensus.Protocol.Ledger.HotKey">KESInfo</a> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/src" class="link">Source</a> <a href="#v:to" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:KESInfo:NoThunks:3"></span> <a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/Ouroboros-Consensus-Util-IOLike.html#t:NoThunks" title="Ouroboros.Consensus.Util.IOLike">NoThunks</a> <a href="Ouroboros-Consensus-Protocol-Ledger-HotKey.html#t:KESInfo" title="Ouroboros.Consensus.Protocol.Ledger.HotKey">KESInfo</a></span> <a href="src/Ouroboros.Consensus.Protocol.Ledger.HotKey.html#line-59" class="link">Source</a> <a href="#t:KESInfo" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:KESInfo:NoThunks:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Protocol-Ledger-HotKey.html">Ouroboros.Consensus.Protocol.Ledger.HotKey</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:noThunks">noThunks</a> &#8759; Context &#8594; <a href="Ouroboros-Consensus-Protocol-Ledger-HotKey.html#t:KESInfo" title="Ouroboros.Consensus.Protocol.Ledger.HotKey">KESInfo</a> &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/Cabal-3.2.1.0/Distribution-Compat-Prelude-Internal.html#t:Maybe" title="Distribution.Compat.Prelude.Internal">Maybe</a> ThunkInfo) <a href="#v:noThunks" class="selflink">#</a></p><p class="src"><a href="#v:wNoThunks">wNoThunks</a> &#8759; Context &#8594; <a href="Ouroboros-Consensus-Protocol-Ledger-HotKey.html#t:KESInfo" title="Ouroboros.Consensus.Protocol.Ledger.HotKey">KESInfo</a> &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/Cabal-3.2.1.0/Distribution-Compat-Prelude-Internal.html#t:Maybe" title="Distribution.Compat.Prelude.Internal">Maybe</a> ThunkInfo) <a href="#v:wNoThunks" class="selflink">#</a></p><p class="src"><a href="#v:showTypeOf">showTypeOf</a> &#8759; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/Cabal-3.2.1.0/Distribution-Compat-Prelude-Internal.html#t:Proxy" title="Distribution.Compat.Prelude.Internal">Proxy</a> <a href="Ouroboros-Consensus-Protocol-Ledger-HotKey.html#t:KESInfo" title="Ouroboros.Consensus.Protocol.Ledger.HotKey">KESInfo</a> &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/Cabal-3.2.1.0/Distribution-Compat-Prelude-Internal.html#t:String" title="Distribution.Compat.Prelude.Internal">String</a> <a href="#v:showTypeOf" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:KESInfo:Rep:4"></span> <span class="keyword">type</span> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> <a href="Ouroboros-Consensus-Protocol-Ledger-HotKey.html#t:KESInfo" title="Ouroboros.Consensus.Protocol.Ledger.HotKey">KESInfo</a></span> <a href="src/Ouroboros.Consensus.Protocol.Ledger.HotKey.html#line-59" class="link">Source</a> <a href="#t:KESInfo" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:KESInfo:Rep:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Protocol-Ledger-HotKey.html">Ouroboros.Consensus.Protocol.Ledger.HotKey</a></p> <div class="src"><span class="keyword">type</span> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> <a href="Ouroboros-Consensus-Protocol-Ledger-HotKey.html#t:KESInfo" title="Ouroboros.Consensus.Protocol.Ledger.HotKey">KESInfo</a> = <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/GHC-Generics.html#t:D1" title="GHC.Generics">D1</a> ('<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/GHC-Generics.html#v:MetaData" title="GHC.Generics">MetaData</a> &quot;KESInfo&quot; &quot;Ouroboros.Consensus.Protocol.Ledger.HotKey&quot; &quot;ouroboros-consensus-protocol-0.1.0.0-inplace&quot; '<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/Cabal-3.2.1.0/Distribution-Compat-Prelude-Internal.html#v:False" title="Distribution.Compat.Prelude.Internal">False</a>) (<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/GHC-Generics.html#t:C1" title="GHC.Generics">C1</a> ('<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/GHC-Generics.html#v:MetaCons" title="GHC.Generics">MetaCons</a> &quot;KESInfo&quot; '<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/GHC-Generics.html#v:PrefixI" title="GHC.Generics">PrefixI</a> '<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/Cabal-3.2.1.0/Distribution-Compat-Prelude-Internal.html#v:True" title="Distribution.Compat.Prelude.Internal">True</a>) (<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/GHC-Generics.html#t:S1" title="GHC.Generics">S1</a> ('<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/GHC-Generics.html#v:MetaSel" title="GHC.Generics">MetaSel</a> ('<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/Cabal-3.2.1.0/Distribution-Compat-Prelude-Internal.html#v:Just" title="Distribution.Compat.Prelude.Internal">Just</a> &quot;kesStartPeriod&quot;) '<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/GHC-Generics.html#v:NoSourceUnpackedness" title="GHC.Generics">NoSourceUnpackedness</a> '<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/GHC-Generics.html#v:SourceStrict" title="GHC.Generics">SourceStrict</a> '<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/GHC-Generics.html#v:DecidedStrict" title="GHC.Generics">DecidedStrict</a>) (<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/GHC-Generics.html#t:Rec0" title="GHC.Generics">Rec0</a> KESPeriod) <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/GHC-Generics.html#t::-42-:" title="GHC.Generics">:*:</a> (<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/GHC-Generics.html#t:S1" title="GHC.Generics">S1</a> ('<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/GHC-Generics.html#v:MetaSel" title="GHC.Generics">MetaSel</a> ('<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/Cabal-3.2.1.0/Distribution-Compat-Prelude-Internal.html#v:Just" title="Distribution.Compat.Prelude.Internal">Just</a> &quot;kesEndPeriod&quot;) '<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/GHC-Generics.html#v:NoSourceUnpackedness" title="GHC.Generics">NoSourceUnpackedness</a> '<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/GHC-Generics.html#v:SourceStrict" title="GHC.Generics">SourceStrict</a> '<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/GHC-Generics.html#v:DecidedStrict" title="GHC.Generics">DecidedStrict</a>) (<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/GHC-Generics.html#t:Rec0" title="GHC.Generics">Rec0</a> KESPeriod) <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/GHC-Generics.html#t::-42-:" title="GHC.Generics">:*:</a> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/GHC-Generics.html#t:S1" title="GHC.Generics">S1</a> ('<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/GHC-Generics.html#v:MetaSel" title="GHC.Generics">MetaSel</a> ('<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/Cabal-3.2.1.0/Distribution-Compat-Prelude-Internal.html#v:Just" title="Distribution.Compat.Prelude.Internal">Just</a> &quot;kesEvolution&quot;) '<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/GHC-Generics.html#v:NoSourceUnpackedness" title="GHC.Generics">NoSourceUnpackedness</a> '<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/GHC-Generics.html#v:SourceStrict" title="GHC.Generics">SourceStrict</a> '<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/GHC-Generics.html#v:DecidedStrict" title="GHC.Generics">DecidedStrict</a>) (<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/GHC-Generics.html#t:Rec0" title="GHC.Generics">Rec0</a> <a href="Ouroboros-Consensus-Protocol-Ledger-HotKey.html#t:KESEvolution" title="Ouroboros.Consensus.Protocol.Ledger.HotKey">KESEvolution</a>))))</div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:kesAbsolutePeriod" class="def">kesAbsolutePeriod</a> &#8759; <a href="Ouroboros-Consensus-Protocol-Ledger-HotKey.html#t:KESInfo" title="Ouroboros.Consensus.Protocol.Ledger.HotKey">KESInfo</a> &#8594; KESPeriod <a href="src/Ouroboros.Consensus.Protocol.Ledger.HotKey.html#kesAbsolutePeriod" class="link">Source</a> <a href="#v:kesAbsolutePeriod" class="selflink">#</a></p><div class="doc"><p>Return the absolute KES period</p></div></div><a href="#g:2" id="g:2"><h1>KES Status</h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:KESStatus" class="def">KESStatus</a> <a href="src/Ouroboros.Consensus.Protocol.Ledger.HotKey.html#KESStatus" class="link">Source</a> <a href="#t:KESStatus" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:BeforeKESStart" class="def">BeforeKESStart</a></td><td class="doc"><p>The given period is before the start period of the KES key.</p></td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src">KESPeriod</dfn><div class="doc"><p>Given period</p></div></li><li><dfn class="src">KESPeriod</dfn><div class="doc"><p>Start period of the KES key</p></div></li></ul></div></td></tr><tr><td class="src"><a id="v:InKESRange" class="def">InKESRange</a> <a href="Ouroboros-Consensus-Protocol-Ledger-HotKey.html#t:KESEvolution" title="Ouroboros.Consensus.Protocol.Ledger.HotKey">KESEvolution</a></td><td class="doc"><p>Relative period or evolution corresponding to the
 given absolute period</p></td></tr><tr><td class="src"><a id="v:AfterKESEnd" class="def">AfterKESEnd</a></td><td class="doc"><p>The given period is after the end period of the KES key.</p></td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src">KESPeriod</dfn><div class="doc"><p>Given period</p></div></li><li><dfn class="src">KESPeriod</dfn><div class="doc"><p>End period of the KES key</p></div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><a id="v:kesStatus" class="def">kesStatus</a> &#8759; <a href="Ouroboros-Consensus-Protocol-Ledger-HotKey.html#t:KESInfo" title="Ouroboros.Consensus.Protocol.Ledger.HotKey">KESInfo</a> &#8594; KESPeriod &#8594; <a href="Ouroboros-Consensus-Protocol-Ledger-HotKey.html#t:KESStatus" title="Ouroboros.Consensus.Protocol.Ledger.HotKey">KESStatus</a> <a href="src/Ouroboros.Consensus.Protocol.Ledger.HotKey.html#kesStatus" class="link">Source</a> <a href="#v:kesStatus" class="selflink">#</a></p><div class="doc"><p>Return the evolution of the given KES period, <em>when</em> it falls within the
 range of the <code><a href="Ouroboros-Consensus-Protocol-Ledger-HotKey.html#t:HotKey" title="Ouroboros.Consensus.Protocol.Ledger.HotKey">HotKey</a></code> (<code>[hkStart, hkEnd)</code>).</p><p>Note that the upper bound is exclusive, the spec says:
 &gt; c0 &lt;= kesPeriod s &lt; c0 + MaxKESEvo</p></div></div><a href="#g:3" id="g:3"><h1>Hot Key</h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:HotKey" class="def">HotKey</a> c m <a href="src/Ouroboros.Consensus.Protocol.Ledger.HotKey.html#HotKey" class="link">Source</a> <a href="#t:HotKey" class="selflink">#</a></p><div class="doc"><p>API to interact with the key.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:HotKey" class="def">HotKey</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:evolve" class="def">evolve</a> &#8759; KESPeriod &#8594; m <a href="Ouroboros-Consensus-Protocol-Ledger-HotKey.html#t:KESEvolutionInfo" title="Ouroboros.Consensus.Protocol.Ledger.HotKey">KESEvolutionInfo</a></dfn><div class="doc"><p>Evolve the KES signing key to the given absolute KES period.</p><p>When the key cannot evolve anymore, we poison it.</p></div></li><li><dfn class="src"><a id="v:getInfo" class="def">getInfo</a> &#8759; m <a href="Ouroboros-Consensus-Protocol-Ledger-HotKey.html#t:KESInfo" title="Ouroboros.Consensus.Protocol.Ledger.HotKey">KESInfo</a></dfn><div class="doc"><p>Return <code><a href="Ouroboros-Consensus-Protocol-Ledger-HotKey.html#t:KESInfo" title="Ouroboros.Consensus.Protocol.Ledger.HotKey">KESInfo</a></code> of the signing key.</p></div></li><li><dfn class="src"><a id="v:isPoisoned" class="def">isPoisoned</a> &#8759; m <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/Cabal-3.2.1.0/Distribution-Compat-Prelude-Internal.html#t:Bool" title="Distribution.Compat.Prelude.Internal">Bool</a></dfn><div class="doc"><p>Return <code><a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/Cabal-3.2.1.0/Distribution-Compat-Prelude-Internal.html#v:True" title="Distribution.Compat.Prelude.Internal">True</a></code> when the signing key is poisoned because it expired.</p></div></li><li><dfn class="src"><a id="v:sign_" class="def">sign_</a> &#8759; &#8704; toSign. (KESignable c toSign, <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/GHC-Stack.html#t:HasCallStack" title="GHC.Stack">HasCallStack</a>) &#8658; toSign &#8594; m (SignedKES c toSign)</dfn><div class="doc"><p>Sign the given <code>toSign</code> with the current signing key.</p><p>PRECONDITION: the key is not poisoned.</p><p>POSTCONDITION: the signature is in normal form.</p></div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:KESEvolutionError" class="def">KESEvolutionError</a> <a href="src/Ouroboros.Consensus.Protocol.Ledger.HotKey.html#KESEvolutionError" class="link">Source</a> <a href="#t:KESEvolutionError" class="selflink">#</a></p><div class="doc"><p>Failed to evolve the KES key.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:KESCouldNotEvolve" class="def">KESCouldNotEvolve</a> <a href="Ouroboros-Consensus-Protocol-Ledger-HotKey.html#t:KESInfo" title="Ouroboros.Consensus.Protocol.Ledger.HotKey">KESInfo</a> KESPeriod</td><td class="doc"><p>The KES key could not be evolved to the target period.</p></td></tr><tr><td class="src"><a id="v:KESKeyAlreadyPoisoned" class="def">KESKeyAlreadyPoisoned</a> <a href="Ouroboros-Consensus-Protocol-Ledger-HotKey.html#t:KESInfo" title="Ouroboros.Consensus.Protocol.Ledger.HotKey">KESInfo</a> KESPeriod</td><td class="doc"><p>Target period outside the range of the current KES key. Typically
 the current KES period according to the wallclock slot.</p></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:KESEvolutionError">Instances</h4><details id="i:KESEvolutionError" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:KESEvolutionError:Show:1"></span> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/Cabal-3.2.1.0/Distribution-Compat-Prelude-Internal.html#t:Show" title="Distribution.Compat.Prelude.Internal">Show</a> <a href="Ouroboros-Consensus-Protocol-Ledger-HotKey.html#t:KESEvolutionError" title="Ouroboros.Consensus.Protocol.Ledger.HotKey">KESEvolutionError</a></span> <a href="src/Ouroboros.Consensus.Protocol.Ledger.HotKey.html#line-121" class="link">Source</a> <a href="#t:KESEvolutionError" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:KESEvolutionError:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Protocol-Ledger-HotKey.html">Ouroboros.Consensus.Protocol.Ledger.HotKey</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> &#8759; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/Cabal-3.2.1.0/Distribution-Compat-Prelude-Internal.html#t:Int" title="Distribution.Compat.Prelude.Internal">Int</a> &#8594; <a href="Ouroboros-Consensus-Protocol-Ledger-HotKey.html#t:KESEvolutionError" title="Ouroboros.Consensus.Protocol.Ledger.HotKey">KESEvolutionError</a> &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/Cabal-3.2.1.0/Distribution-Compat-Prelude-Internal.html#t:ShowS" title="Distribution.Compat.Prelude.Internal">ShowS</a> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/src" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> &#8759; <a href="Ouroboros-Consensus-Protocol-Ledger-HotKey.html#t:KESEvolutionError" title="Ouroboros.Consensus.Protocol.Ledger.HotKey">KESEvolutionError</a> &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/Cabal-3.2.1.0/Distribution-Compat-Prelude-Internal.html#t:String" title="Distribution.Compat.Prelude.Internal">String</a> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/src" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> &#8759; [<a href="Ouroboros-Consensus-Protocol-Ledger-HotKey.html#t:KESEvolutionError" title="Ouroboros.Consensus.Protocol.Ledger.HotKey">KESEvolutionError</a>] &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/Cabal-3.2.1.0/Distribution-Compat-Prelude-Internal.html#t:ShowS" title="Distribution.Compat.Prelude.Internal">ShowS</a> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/src" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:KESEvolutionInfo" class="def">KESEvolutionInfo</a> = <a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/Ouroboros-Consensus-Block-Forging.html#t:UpdateInfo" title="Ouroboros.Consensus.Block.Forging">UpdateInfo</a> <a href="Ouroboros-Consensus-Protocol-Ledger-HotKey.html#t:KESInfo" title="Ouroboros.Consensus.Protocol.Ledger.HotKey">KESInfo</a> <a href="Ouroboros-Consensus-Protocol-Ledger-HotKey.html#t:KESEvolutionError" title="Ouroboros.Consensus.Protocol.Ledger.HotKey">KESEvolutionError</a> <a href="src/Ouroboros.Consensus.Protocol.Ledger.HotKey.html#KESEvolutionInfo" class="link">Source</a> <a href="#t:KESEvolutionInfo" class="selflink">#</a></p><div class="doc"><p>Result of evolving the KES key.</p></div></div><div class="top"><p class="src"><a id="v:mkHotKey" class="def">mkHotKey</a> <a href="src/Ouroboros.Consensus.Protocol.Ledger.HotKey.html#mkHotKey" class="link">Source</a> <a href="#v:mkHotKey" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">&#8759; &#8704; m c. (Crypto c, <a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/Ouroboros-Consensus-Util-IOLike.html#t:IOLike" title="Ouroboros.Consensus.Util.IOLike">IOLike</a> m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8658; SignKeyKES c</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8594; KESPeriod</td><td class="doc"><p>Start period</p></td></tr><tr><td class="src">&#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/Cabal-3.2.1.0/Distribution-Compat-Prelude-Internal.html#t:Word64" title="Distribution.Compat.Prelude.Internal">Word64</a></td><td class="doc"><p>Max KES evolutions</p></td></tr><tr><td class="src">&#8594; m (<a href="Ouroboros-Consensus-Protocol-Ledger-HotKey.html#t:HotKey" title="Ouroboros.Consensus.Protocol.Ledger.HotKey">HotKey</a> c m)</td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><a id="v:sign" class="def">sign</a> &#8759; (KESignable c toSign, <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/GHC-Stack.html#t:HasCallStack" title="GHC.Stack">HasCallStack</a>) &#8658; <a href="Ouroboros-Consensus-Protocol-Ledger-HotKey.html#t:HotKey" title="Ouroboros.Consensus.Protocol.Ledger.HotKey">HotKey</a> c m &#8594; toSign &#8594; m (SignedKES c toSign) <a href="src/Ouroboros.Consensus.Protocol.Ledger.HotKey.html#sign" class="link">Source</a> <a href="#v:sign" class="selflink">#</a></p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.24.0</p></div></body></html>