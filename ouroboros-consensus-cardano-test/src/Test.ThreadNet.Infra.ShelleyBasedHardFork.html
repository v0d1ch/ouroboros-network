<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE ConstraintKinds     #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE DataKinds           #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE FlexibleContexts    #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE FlexibleInstances   #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE NamedFieldPuns      #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE PatternSynonyms     #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# LANGUAGE ScopedTypeVariables #-}</span><span>
</span><span id="line-8"></span><span class="hs-pragma">{-# LANGUAGE TypeFamilies        #-}</span><span>
</span><span id="line-9"></span><span>
</span><span id="line-10"></span><span class="hs-pragma">{-# OPTIONS_GHC -Wno-orphans #-}</span><span>
</span><span id="line-11"></span><span>
</span><span id="line-12"></span><span class="hs-comment">-- | Test infrastructure to test hard-forking from one Shelley-based era to</span><span>
</span><span id="line-13"></span><span class="hs-comment">-- another, e.g., Shelley to Allegra.</span><span>
</span><span id="line-14"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Test.ThreadNet.Infra.ShelleyBasedHardFork</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-15"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Blocks</span></span><span>
</span><span id="line-16"></span><span>    </span><span class="annot"><a href="Test.ThreadNet.Infra.ShelleyBasedHardFork.html#ShelleyBasedHardForkBlock"><span class="hs-identifier">ShelleyBasedHardForkBlock</span></a></span><span>
</span><span id="line-17"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Test.ThreadNet.Infra.ShelleyBasedHardFork.html#ShelleyBasedHardForkEras"><span class="hs-identifier">ShelleyBasedHardForkEras</span></a></span><span>
</span><span id="line-18"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Transactions</span></span><span>
</span><span id="line-19"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-keyword">pattern</span><span> </span><span class="annot"><a href="Test.ThreadNet.Infra.ShelleyBasedHardFork.html#GenTxShelley1"><span class="hs-identifier">GenTxShelley1</span></a></span><span>
</span><span id="line-20"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-keyword">pattern</span><span> </span><span class="annot"><a href="Test.ThreadNet.Infra.ShelleyBasedHardFork.html#GenTxShelley2"><span class="hs-identifier">GenTxShelley2</span></a></span><span>
</span><span id="line-21"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Node</span></span><span>
</span><span id="line-22"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Test.ThreadNet.Infra.ShelleyBasedHardFork.html#ShelleyBasedHardForkConstraints"><span class="hs-identifier">ShelleyBasedHardForkConstraints</span></a></span><span>
</span><span id="line-23"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Test.ThreadNet.Infra.ShelleyBasedHardFork.html#protocolInfoShelleyBasedHardFork"><span class="hs-identifier">protocolInfoShelleyBasedHardFork</span></a></span><span>
</span><span id="line-24"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-25"></span><span>
</span><span id="line-26"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Control.Monad.Except</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">runExcept</span></span><span class="hs-special">)</span><span>
</span><span id="line-27"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Map.Strict</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Map</span></span><span>
</span><span id="line-28"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier">Data.SOP.Strict</span></a></span><span>
</span><span id="line-29"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Void</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Void</span></span><span class="hs-special">)</span><span>
</span><span id="line-30"></span><span>
</span><span id="line-31"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier">Ouroboros.Consensus.Ledger.Basics</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier">LedgerConfig</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-32"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier">Ouroboros.Consensus.Node</span></a></span><span>
</span><span id="line-33"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier">Ouroboros.Consensus.Node.NetworkProtocolVersion</span></a></span><span>
</span><span id="line-34"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier">Ouroboros.Consensus.TypeFamilyWrappers</span></a></span><span>
</span><span id="line-35"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier">Ouroboros.Consensus.Util</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier">eitherToMaybe</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-36"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier">Ouroboros.Consensus.Util.IOLike</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier">IOLike</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-37"></span><span>
</span><span id="line-38"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier">Ouroboros.Consensus.HardFork.Combinator</span></a></span><span>
</span><span id="line-39"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier">Ouroboros.Consensus.HardFork.Combinator.Embed.Binary</span></a></span><span>
</span><span id="line-40"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier">Ouroboros.Consensus.HardFork.Combinator.Serialisation</span></a></span><span>
</span><span id="line-41"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier">Ouroboros.Consensus.HardFork.Combinator.State.Types</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">HFC</span></span><span>
</span><span id="line-42"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier">Ouroboros.Consensus.HardFork.Combinator.Util.InPairs</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">InPairs</span></span><span>
</span><span id="line-43"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier">Ouroboros.Consensus.HardFork.Combinator.Util.Tails</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Tails</span></span><span>
</span><span id="line-44"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier">Ouroboros.Consensus.HardFork.History</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">History</span></span><span>
</span><span id="line-45"></span><span>
</span><span id="line-46"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Cardano.Ledger.Era</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">SL</span></span><span>
</span><span id="line-47"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Shelley.Spec.Ledger.API</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">SL</span></span><span>
</span><span id="line-48"></span><span>
</span><span id="line-49"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier">Ouroboros.Consensus.Mempool.TxLimits</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier">TxLimits</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-50"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier">Ouroboros.Consensus.Mempool.TxLimits</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">TxLimits</span></span><span>
</span><span id="line-51"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-shelley-0.1.0.0/noopt/doc/html/ouroboros-consensus-shelley/src"><span class="hs-identifier">Ouroboros.Consensus.Shelley.Eras</span></a></span><span>
</span><span id="line-52"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-shelley-0.1.0.0/noopt/doc/html/ouroboros-consensus-shelley/src"><span class="hs-identifier">Ouroboros.Consensus.Shelley.Ledger</span></a></span><span>
</span><span id="line-53"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-shelley-0.1.0.0/noopt/doc/html/ouroboros-consensus-shelley/src"><span class="hs-identifier">Ouroboros.Consensus.Shelley.Node</span></a></span><span>
</span><span id="line-54"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-shelley-0.1.0.0/noopt/doc/html/ouroboros-consensus-shelley/src"><span class="hs-identifier">Ouroboros.Consensus.Shelley.Protocol</span></a></span><span>
</span><span id="line-55"></span><span>
</span><span id="line-56"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-cardano-0.1.0.0/noopt/doc/html/ouroboros-consensus-cardano/src"><span class="hs-identifier">Ouroboros.Consensus.Cardano.CanHardFork</span></a></span><span>
</span><span id="line-57"></span><span>                     </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-shelley-0.1.0.0/noopt/doc/html/ouroboros-consensus-shelley/src"><span class="hs-identifier">ShelleyPartialLedgerConfig</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-shelley-0.1.0.0/noopt/doc/html/ouroboros-consensus-shelley/src"><span class="hs-identifier">forecastAcrossShelley</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-58"></span><span>                     </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-shelley-0.1.0.0/noopt/doc/html/ouroboros-consensus-shelley/src"><span class="hs-identifier">translateChainDepStateAcrossShelley</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-59"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-cardano-0.1.0.0/noopt/doc/html/ouroboros-consensus-cardano/src"><span class="hs-identifier">Ouroboros.Consensus.Cardano.Node</span></a></span><span>
</span><span id="line-60"></span><span>                     </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-cardano-0.1.0.0/noopt/doc/html/ouroboros-consensus-cardano/src"><span class="hs-identifier">ProtocolTransitionParamsShelleyBased</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-61"></span><span>                     </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier">TriggerHardFork</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-62"></span><span>
</span><span id="line-63"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-test-0.1.0.0/noopt/doc/html/ouroboros-consensus-test/src"><span class="hs-identifier">Test.ThreadNet.TxGen</span></a></span><span>
</span><span id="line-64"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-shelley-test-0.1.0.0/noopt/doc/html/ouroboros-consensus-shelley-test/src"><span class="hs-identifier">Test.ThreadNet.TxGen.Shelley</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-65"></span><span>
</span><span id="line-66"></span><span class="hs-comment">{-------------------------------------------------------------------------------
  Block type
-------------------------------------------------------------------------------}</span><span>
</span><span id="line-69"></span><span>
</span><span id="line-70"></span><span class="hs-comment">-- | Two eras, both Shelley-based.</span><span>
</span><span id="line-71"></span><span class="hs-keyword">type</span><span> </span><span id="ShelleyBasedHardForkEras"><span class="annot"><a href="Test.ThreadNet.Infra.ShelleyBasedHardFork.html#ShelleyBasedHardForkEras"><span class="hs-identifier hs-var">ShelleyBasedHardForkEras</span></a></span></span><span> </span><span id="local-6989586621679411570"><span class="annot"><a href="#local-6989586621679411570"><span class="hs-identifier hs-type">era1</span></a></span></span><span> </span><span id="local-6989586621679411569"><span class="annot"><a href="#local-6989586621679411569"><span class="hs-identifier hs-type">era2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-72"></span><span>    </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-shelley-0.1.0.0/noopt/doc/html/ouroboros-consensus-shelley/src"><span class="hs-identifier hs-type">ShelleyBlock</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679411570"><span class="hs-identifier hs-type">era1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-shelley-0.1.0.0/noopt/doc/html/ouroboros-consensus-shelley/src"><span class="hs-identifier hs-type">ShelleyBlock</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679411569"><span class="hs-identifier hs-type">era2</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-73"></span><span>
</span><span id="line-74"></span><span class="hs-keyword">type</span><span> </span><span id="ShelleyBasedHardForkBlock"><span class="annot"><a href="Test.ThreadNet.Infra.ShelleyBasedHardFork.html#ShelleyBasedHardForkBlock"><span class="hs-identifier hs-var">ShelleyBasedHardForkBlock</span></a></span></span><span> </span><span id="local-6989586621679411568"><span class="annot"><a href="#local-6989586621679411568"><span class="hs-identifier hs-type">era1</span></a></span></span><span> </span><span id="local-6989586621679411567"><span class="annot"><a href="#local-6989586621679411567"><span class="hs-identifier hs-type">era2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-75"></span><span>  </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">HardForkBlock</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Test.ThreadNet.Infra.ShelleyBasedHardFork.html#ShelleyBasedHardForkEras"><span class="hs-identifier hs-type">ShelleyBasedHardForkEras</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679411568"><span class="hs-identifier hs-type">era1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679411567"><span class="hs-identifier hs-type">era2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-76"></span><span>
</span><span id="line-77"></span><span class="hs-comment">{-------------------------------------------------------------------------------
  Pattern synonyms, for encapsulation and legibility
-------------------------------------------------------------------------------}</span><span>
</span><span id="line-80"></span><span>
</span><span id="line-81"></span><span class="hs-keyword">type</span><span> </span><span id="ShelleyBasedHardForkGenTx"><span class="annot"><a href="Test.ThreadNet.Infra.ShelleyBasedHardFork.html#ShelleyBasedHardForkGenTx"><span class="hs-identifier hs-var">ShelleyBasedHardForkGenTx</span></a></span></span><span> </span><span id="local-6989586621679411566"><span class="annot"><a href="#local-6989586621679411566"><span class="hs-identifier hs-type">era1</span></a></span></span><span> </span><span id="local-6989586621679411565"><span class="annot"><a href="#local-6989586621679411565"><span class="hs-identifier hs-type">era2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-82"></span><span>  </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">GenTx</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Test.ThreadNet.Infra.ShelleyBasedHardFork.html#ShelleyBasedHardForkBlock"><span class="hs-identifier hs-type">ShelleyBasedHardForkBlock</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679411566"><span class="hs-identifier hs-type">era1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679411565"><span class="hs-identifier hs-type">era2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-83"></span><span>
</span><span id="line-84"></span><span id="local-6989586621679411814"><span id="local-6989586621679411815"><span class="hs-keyword">pattern</span><span> </span><span class="annot"><a href="Test.ThreadNet.Infra.ShelleyBasedHardFork.html#GenTxShelley1"><span class="hs-identifier hs-type">GenTxShelley1</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-85"></span><span>     </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">GenTx</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-shelley-0.1.0.0/noopt/doc/html/ouroboros-consensus-shelley/src"><span class="hs-identifier hs-type">ShelleyBlock</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679411815"><span class="hs-identifier hs-type">era1</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-86"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Test.ThreadNet.Infra.ShelleyBasedHardFork.html#ShelleyBasedHardForkGenTx"><span class="hs-identifier hs-type">ShelleyBasedHardForkGenTx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679411815"><span class="hs-identifier hs-type">era1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679411814"><span class="hs-identifier hs-type">era2</span></a></span></span></span><span>
</span><span id="line-87"></span><span class="hs-keyword">pattern</span><span> </span><span id="%24bGenTxShelley1"><span id="%24mGenTxShelley1"><span id="GenTxShelley1"><span class="annot"><span class="annottext">$bGenTxShelley1 :: GenTx (ShelleyBlock era1) -&gt; ShelleyBasedHardForkGenTx era1 era2
$mGenTxShelley1 :: forall r era1 era2.
ShelleyBasedHardForkGenTx era1 era2
-&gt; (GenTx (ShelleyBlock era1) -&gt; r) -&gt; (Void# -&gt; r) -&gt; r
</span><a href="Test.ThreadNet.Infra.ShelleyBasedHardFork.html#%24bGenTxShelley1"><span class="hs-identifier hs-var hs-var hs-var">GenTxShelley1</span></a></span></span></span></span><span> </span><span class="annot"><a href="#local-6989586621679411562"><span class="hs-identifier hs-type">tx</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">HardForkGenTx</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">OneEraGenTx</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">Z</span></a></span><span> </span><span id="local-6989586621679411562"><span class="annot"><a href="#local-6989586621679411562"><span class="hs-identifier hs-var">tx</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-88"></span><span>
</span><span id="line-89"></span><span id="local-6989586621679411805"><span id="local-6989586621679411806"><span class="hs-keyword">pattern</span><span> </span><span class="annot"><a href="Test.ThreadNet.Infra.ShelleyBasedHardFork.html#GenTxShelley2"><span class="hs-identifier hs-type">GenTxShelley2</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-90"></span><span>     </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">GenTx</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-shelley-0.1.0.0/noopt/doc/html/ouroboros-consensus-shelley/src"><span class="hs-identifier hs-type">ShelleyBlock</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679411805"><span class="hs-identifier hs-type">era2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-91"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Test.ThreadNet.Infra.ShelleyBasedHardFork.html#ShelleyBasedHardForkGenTx"><span class="hs-identifier hs-type">ShelleyBasedHardForkGenTx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679411806"><span class="hs-identifier hs-type">era1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679411805"><span class="hs-identifier hs-type">era2</span></a></span></span></span><span>
</span><span id="line-92"></span><span class="hs-keyword">pattern</span><span> </span><span id="%24bGenTxShelley2"><span id="%24mGenTxShelley2"><span id="GenTxShelley2"><span class="annot"><span class="annottext">$bGenTxShelley2 :: GenTx (ShelleyBlock era2) -&gt; ShelleyBasedHardForkGenTx era1 era2
$mGenTxShelley2 :: forall r era2 era1.
ShelleyBasedHardForkGenTx era1 era2
-&gt; (GenTx (ShelleyBlock era2) -&gt; r) -&gt; (Void# -&gt; r) -&gt; r
</span><a href="Test.ThreadNet.Infra.ShelleyBasedHardFork.html#%24bGenTxShelley2"><span class="hs-identifier hs-var hs-var hs-var">GenTxShelley2</span></a></span></span></span></span><span> </span><span class="annot"><a href="#local-6989586621679411556"><span class="hs-identifier hs-type">tx</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">HardForkGenTx</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">OneEraGenTx</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">S</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">Z</span></a></span><span> </span><span id="local-6989586621679411556"><span class="annot"><a href="#local-6989586621679411556"><span class="hs-identifier hs-var">tx</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-93"></span><span>
</span><span id="line-94"></span><span class="hs-pragma">{-# COMPLETE</span><span> </span><span class="annot"><a href="Test.ThreadNet.Infra.ShelleyBasedHardFork.html#GenTxShelley1"><span class="hs-pragma hs-type">GenTxShelley1</span></a></span><span class="hs-pragma">,</span><span> </span><span class="annot"><a href="Test.ThreadNet.Infra.ShelleyBasedHardFork.html#GenTxShelley2"><span class="hs-pragma hs-type">GenTxShelley2</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-95"></span><span>
</span><span id="line-96"></span><span id="local-6989586621679411799"><span id="local-6989586621679411800"><span class="hs-keyword">pattern</span><span> </span><span class="annot"><a href="Test.ThreadNet.Infra.ShelleyBasedHardFork.html#ShelleyBasedHardForkNodeToNodeVersion1"><span class="hs-identifier hs-type">ShelleyBasedHardForkNodeToNodeVersion1</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-97"></span><span>     </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">BlockNodeToNodeVersion</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Test.ThreadNet.Infra.ShelleyBasedHardFork.html#ShelleyBasedHardForkBlock"><span class="hs-identifier hs-type">ShelleyBasedHardForkBlock</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679411800"><span class="hs-identifier hs-type">era1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679411799"><span class="hs-identifier hs-type">era2</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-98"></span><span class="hs-keyword">pattern</span><span> </span><span id="%24bShelleyBasedHardForkNodeToNodeVersion1"><span id="%24mShelleyBasedHardForkNodeToNodeVersion1"><span id="ShelleyBasedHardForkNodeToNodeVersion1"><span class="annot"><span class="annottext">$bShelleyBasedHardForkNodeToNodeVersion1 :: BlockNodeToNodeVersion (ShelleyBasedHardForkBlock era1 era2)
$mShelleyBasedHardForkNodeToNodeVersion1 :: forall r era1 era2.
BlockNodeToNodeVersion (ShelleyBasedHardForkBlock era1 era2)
-&gt; (Void# -&gt; r) -&gt; (Void# -&gt; r) -&gt; r
</span><a href="Test.ThreadNet.Infra.ShelleyBasedHardFork.html#%24bShelleyBasedHardForkNodeToNodeVersion1"><span class="hs-identifier hs-var hs-var hs-var">ShelleyBasedHardForkNodeToNodeVersion1</span></a></span></span></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-99"></span><span>    </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">HardForkNodeToNodeEnabled</span></a></span><span>
</span><span id="line-100"></span><span>      </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">HardForkSpecificNodeToNodeVersion1</span></a></span><span>
</span><span id="line-101"></span><span>      </span><span class="hs-special">(</span><span>  </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">EraNodeToNodeEnabled</span></a></span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-shelley-0.1.0.0/noopt/doc/html/ouroboros-consensus-shelley/src"><span class="hs-identifier hs-type">ShelleyNodeToNodeVersion1</span></a></span><span>
</span><span id="line-102"></span><span>      </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-operator hs-type">:*</span></a></span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">EraNodeToNodeEnabled</span></a></span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-shelley-0.1.0.0/noopt/doc/html/ouroboros-consensus-shelley/src"><span class="hs-identifier hs-type">ShelleyNodeToNodeVersion1</span></a></span><span>
</span><span id="line-103"></span><span>      </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-operator hs-type">:*</span></a></span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">Nil</span></a></span><span>
</span><span id="line-104"></span><span>      </span><span class="hs-special">)</span><span>
</span><span id="line-105"></span><span>
</span><span id="line-106"></span><span id="local-6989586621679411791"><span id="local-6989586621679411792"><span class="hs-keyword">pattern</span><span> </span><span class="annot"><a href="Test.ThreadNet.Infra.ShelleyBasedHardFork.html#ShelleyBasedHardForkNodeToClientVersion1"><span class="hs-identifier hs-type">ShelleyBasedHardForkNodeToClientVersion1</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-107"></span><span>     </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">BlockNodeToClientVersion</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Test.ThreadNet.Infra.ShelleyBasedHardFork.html#ShelleyBasedHardForkBlock"><span class="hs-identifier hs-type">ShelleyBasedHardForkBlock</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679411792"><span class="hs-identifier hs-type">era1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679411791"><span class="hs-identifier hs-type">era2</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-108"></span><span class="hs-keyword">pattern</span><span> </span><span id="%24bShelleyBasedHardForkNodeToClientVersion1"><span id="%24mShelleyBasedHardForkNodeToClientVersion1"><span id="ShelleyBasedHardForkNodeToClientVersion1"><span class="annot"><span class="annottext">$bShelleyBasedHardForkNodeToClientVersion1 :: BlockNodeToClientVersion (ShelleyBasedHardForkBlock era1 era2)
$mShelleyBasedHardForkNodeToClientVersion1 :: forall r era1 era2.
BlockNodeToClientVersion (ShelleyBasedHardForkBlock era1 era2)
-&gt; (Void# -&gt; r) -&gt; (Void# -&gt; r) -&gt; r
</span><a href="Test.ThreadNet.Infra.ShelleyBasedHardFork.html#%24bShelleyBasedHardForkNodeToClientVersion1"><span class="hs-identifier hs-var hs-var hs-var">ShelleyBasedHardForkNodeToClientVersion1</span></a></span></span></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-109"></span><span>    </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">HardForkNodeToClientEnabled</span></a></span><span>
</span><span id="line-110"></span><span>      </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">HardForkSpecificNodeToClientVersion2</span></a></span><span>
</span><span id="line-111"></span><span>      </span><span class="hs-special">(</span><span>  </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">EraNodeToClientEnabled</span></a></span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-shelley-0.1.0.0/noopt/doc/html/ouroboros-consensus-shelley/src"><span class="hs-identifier hs-type">ShelleyNodeToClientVersion2</span></a></span><span>
</span><span id="line-112"></span><span>      </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-operator hs-type">:*</span></a></span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">EraNodeToClientEnabled</span></a></span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-shelley-0.1.0.0/noopt/doc/html/ouroboros-consensus-shelley/src"><span class="hs-identifier hs-type">ShelleyNodeToClientVersion2</span></a></span><span>
</span><span id="line-113"></span><span>      </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-operator hs-type">:*</span></a></span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">Nil</span></a></span><span>
</span><span id="line-114"></span><span>      </span><span class="hs-special">)</span><span>
</span><span id="line-115"></span><span>
</span><span id="line-116"></span><span class="hs-comment">{-------------------------------------------------------------------------------
  Consensus instances
-------------------------------------------------------------------------------}</span><span>
</span><span id="line-119"></span><span>
</span><span id="line-120"></span><span class="hs-keyword">type</span><span> </span><span id="ShelleyBasedHardForkConstraints"><span class="annot"><a href="Test.ThreadNet.Infra.ShelleyBasedHardFork.html#ShelleyBasedHardForkConstraints"><span class="hs-identifier hs-var">ShelleyBasedHardForkConstraints</span></a></span></span><span> </span><span id="local-6989586621679411538"><span class="annot"><a href="#local-6989586621679411538"><span class="hs-identifier hs-type">era1</span></a></span></span><span> </span><span id="local-6989586621679411537"><span class="annot"><a href="#local-6989586621679411537"><span class="hs-identifier hs-type">era2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-121"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-shelley-0.1.0.0/noopt/doc/html/ouroboros-consensus-shelley/src"><span class="hs-identifier hs-type">ShelleyBasedEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679411538"><span class="hs-identifier hs-type">era1</span></a></span><span>
</span><span id="line-122"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-shelley-0.1.0.0/noopt/doc/html/ouroboros-consensus-shelley/src"><span class="hs-identifier hs-type">ShelleyBasedEra</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679411537"><span class="hs-identifier hs-type">era2</span></a></span><span>
</span><span id="line-123"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">TxLimits</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-shelley-0.1.0.0/noopt/doc/html/ouroboros-consensus-shelley/src"><span class="hs-identifier hs-type">ShelleyBlock</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679411538"><span class="hs-identifier hs-type">era1</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-124"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">TxLimits</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-shelley-0.1.0.0/noopt/doc/html/ouroboros-consensus-shelley/src"><span class="hs-identifier hs-type">ShelleyBlock</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679411537"><span class="hs-identifier hs-type">era2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-125"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-shelley-0.1.0.0/noopt/doc/html/ouroboros-consensus-shelley/src"><span class="hs-identifier hs-type">EraCrypto</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679411538"><span class="hs-identifier hs-type">era1</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">~</span></span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-shelley-0.1.0.0/noopt/doc/html/ouroboros-consensus-shelley/src"><span class="hs-identifier hs-type">EraCrypto</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679411537"><span class="hs-identifier hs-type">era2</span></a></span><span>
</span><span id="line-126"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SL.PreviousEra</span></span><span> </span><span class="annot"><a href="#local-6989586621679411537"><span class="hs-identifier hs-type">era2</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">~</span></span><span> </span><span class="annot"><a href="#local-6989586621679411538"><span class="hs-identifier hs-type">era1</span></a></span><span>
</span><span id="line-127"></span><span>
</span><span id="line-128"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SL.TranslateEra</span></span><span>       </span><span class="annot"><a href="#local-6989586621679411537"><span class="hs-identifier hs-type">era2</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">SL.NewEpochState</span></span><span>
</span><span id="line-129"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SL.TranslateEra</span></span><span>       </span><span class="annot"><a href="#local-6989586621679411537"><span class="hs-identifier hs-type">era2</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">SL.ShelleyGenesis</span></span><span>
</span><span id="line-130"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SL.TranslateEra</span></span><span>       </span><span class="annot"><a href="#local-6989586621679411537"><span class="hs-identifier hs-type">era2</span></a></span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-shelley-0.1.0.0/noopt/doc/html/ouroboros-consensus-shelley/src"><span class="hs-identifier hs-type">WrapTx</span></a></span><span>
</span><span id="line-131"></span><span>
</span><span id="line-132"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SL.TranslationError</span></span><span>   </span><span class="annot"><a href="#local-6989586621679411537"><span class="hs-identifier hs-type">era2</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">SL.NewEpochState</span></span><span>  </span><span class="annot"><span class="hs-glyph hs-type">~</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Void</span></span><span>
</span><span id="line-133"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SL.TranslationError</span></span><span>   </span><span class="annot"><a href="#local-6989586621679411537"><span class="hs-identifier hs-type">era2</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">SL.ShelleyGenesis</span></span><span> </span><span class="annot"><span class="hs-glyph hs-type">~</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Void</span></span><span>
</span><span id="line-134"></span><span>
</span><span id="line-135"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SL.TranslationContext</span></span><span> </span><span class="annot"><a href="#local-6989586621679411538"><span class="hs-identifier hs-type">era1</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">~</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-136"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-137"></span><span>
</span><span id="line-138"></span><span id="local-6989586621679411534"><span id="local-6989586621679411535"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679411513"><span id="local-6989586621679411515"><span id="local-6989586621679411517"><span id="local-6989586621679411519"><span id="local-6989586621679411521"><span id="local-6989586621679411523"><span class="annot"><a href="Test.ThreadNet.Infra.ShelleyBasedHardFork.html#ShelleyBasedHardForkConstraints"><span class="hs-identifier hs-type">ShelleyBasedHardForkConstraints</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679411535"><span class="hs-identifier hs-type">era1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679411534"><span class="hs-identifier hs-type">era2</span></a></span><span>
</span><span id="line-139"></span><span>      </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">SerialiseHFC</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Test.ThreadNet.Infra.ShelleyBasedHardFork.html#ShelleyBasedHardForkEras"><span class="hs-identifier hs-type">ShelleyBasedHardForkEras</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679411535"><span class="hs-identifier hs-type">era1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679411534"><span class="hs-identifier hs-type">era2</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span></span></span><span>
</span><span id="line-140"></span><span>   </span><span class="hs-comment">-- use defaults</span><span>
</span><span id="line-141"></span><span>
</span><span id="line-142"></span><span id="local-6989586621679411510"><span id="local-6989586621679411511"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Test.ThreadNet.Infra.ShelleyBasedHardFork.html#ShelleyBasedHardForkConstraints"><span class="hs-identifier hs-type">ShelleyBasedHardForkConstraints</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679411511"><span class="hs-identifier hs-type">era1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679411510"><span class="hs-identifier hs-type">era2</span></a></span><span>
</span><span id="line-143"></span><span>      </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">CanHardFork</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Test.ThreadNet.Infra.ShelleyBasedHardFork.html#ShelleyBasedHardForkEras"><span class="hs-identifier hs-type">ShelleyBasedHardForkEras</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679411511"><span class="hs-identifier hs-type">era1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679411510"><span class="hs-identifier hs-type">era2</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-144"></span><span>  </span><span id="local-6989586621679411502"><span class="annot"><span class="annottext">hardForkEraTranslation :: EraTranslation (ShelleyBasedHardForkEras era1 era2)
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">hardForkEraTranslation</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">EraTranslation :: forall (xs :: [*]).
InPairs (RequiringBoth WrapLedgerConfig (Translate LedgerState)) xs
-&gt; InPairs
     (RequiringBoth WrapConsensusConfig (Translate WrapChainDepState))
     xs
-&gt; InPairs
     (RequiringBoth
        WrapLedgerConfig (TranslateForecast LedgerState WrapLedgerView))
     xs
-&gt; EraTranslation xs
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">EraTranslation</span></a></span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-145"></span><span>        </span><span class="annot"><span class="annottext">translateLedgerState :: InPairs
  (RequiringBoth WrapLedgerConfig (Translate LedgerState))
  (ShelleyBasedHardForkEras era1 era2)
</span><a href="#local-6989586621679411499"><span class="hs-identifier hs-var">translateLedgerState</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RequiringBoth
  WrapLedgerConfig
  (Translate LedgerState)
  (ShelleyBlock era1)
  (ShelleyBlock era2)
-&gt; InPairs
     (RequiringBoth WrapLedgerConfig (Translate LedgerState))
     '[ShelleyBlock era2]
-&gt; InPairs
     (RequiringBoth WrapLedgerConfig (Translate LedgerState))
     (ShelleyBasedHardForkEras era1 era2)
forall k (f :: k -&gt; k -&gt; *) (x :: k) (y :: k) (zs :: [k]).
f x y -&gt; InPairs f (y : zs) -&gt; InPairs f (x : y : zs)
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var">PCons</span></a></span><span> </span><span class="annot"><span class="annottext">RequiringBoth
  WrapLedgerConfig
  (Translate LedgerState)
  (ShelleyBlock era1)
  (ShelleyBlock era2)
</span><a href="#local-6989586621679411497"><span class="hs-identifier hs-var">translateLedgerState</span></a></span><span>                </span><span class="annot"><span class="annottext">InPairs
  (RequiringBoth WrapLedgerConfig (Translate LedgerState))
  '[ShelleyBlock era2]
forall k (f :: k -&gt; k -&gt; *) (x :: k). InPairs f '[x]
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var">PNil</span></a></span><span>
</span><span id="line-146"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">translateChainDepState :: InPairs
  (RequiringBoth WrapConsensusConfig (Translate WrapChainDepState))
  (ShelleyBasedHardForkEras era1 era2)
</span><a href="#local-6989586621679411495"><span class="hs-identifier hs-var">translateChainDepState</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RequiringBoth
  WrapConsensusConfig
  (Translate WrapChainDepState)
  (ShelleyBlock era1)
  (ShelleyBlock era2)
-&gt; InPairs
     (RequiringBoth WrapConsensusConfig (Translate WrapChainDepState))
     '[ShelleyBlock era2]
-&gt; InPairs
     (RequiringBoth WrapConsensusConfig (Translate WrapChainDepState))
     (ShelleyBasedHardForkEras era1 era2)
forall k (f :: k -&gt; k -&gt; *) (x :: k) (y :: k) (zs :: [k]).
f x y -&gt; InPairs f (y : zs) -&gt; InPairs f (x : y : zs)
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var">PCons</span></a></span><span> </span><span class="annot"><span class="annottext">RequiringBoth
  WrapConsensusConfig
  (Translate WrapChainDepState)
  (ShelleyBlock era1)
  (ShelleyBlock era2)
forall eraFrom eraTo.
(EraCrypto eraFrom ~ EraCrypto eraTo) =&gt;
RequiringBoth
  WrapConsensusConfig
  (Translate WrapChainDepState)
  (ShelleyBlock eraFrom)
  (ShelleyBlock eraTo)
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-shelley-0.1.0.0/noopt/doc/html/ouroboros-consensus-shelley/src"><span class="hs-identifier hs-var">translateChainDepStateAcrossShelley</span></a></span><span> </span><span class="annot"><span class="annottext">InPairs
  (RequiringBoth WrapConsensusConfig (Translate WrapChainDepState))
  '[ShelleyBlock era2]
forall k (f :: k -&gt; k -&gt; *) (x :: k). InPairs f '[x]
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var">PNil</span></a></span><span>
</span><span id="line-147"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">translateLedgerView :: InPairs
  (RequiringBoth
     WrapLedgerConfig (TranslateForecast LedgerState WrapLedgerView))
  (ShelleyBasedHardForkEras era1 era2)
</span><a href="#local-6989586621679411494"><span class="hs-identifier hs-var">translateLedgerView</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RequiringBoth
  WrapLedgerConfig
  (TranslateForecast LedgerState WrapLedgerView)
  (ShelleyBlock era1)
  (ShelleyBlock era2)
-&gt; InPairs
     (RequiringBoth
        WrapLedgerConfig (TranslateForecast LedgerState WrapLedgerView))
     '[ShelleyBlock era2]
-&gt; InPairs
     (RequiringBoth
        WrapLedgerConfig (TranslateForecast LedgerState WrapLedgerView))
     (ShelleyBasedHardForkEras era1 era2)
forall k (f :: k -&gt; k -&gt; *) (x :: k) (y :: k) (zs :: [k]).
f x y -&gt; InPairs f (y : zs) -&gt; InPairs f (x : y : zs)
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var">PCons</span></a></span><span> </span><span class="annot"><span class="annottext">RequiringBoth
  WrapLedgerConfig
  (TranslateForecast LedgerState WrapLedgerView)
  (ShelleyBlock era1)
  (ShelleyBlock era2)
</span><a href="#local-6989586621679411493"><span class="hs-identifier hs-var">translateLedgerView</span></a></span><span>                 </span><span class="annot"><span class="annottext">InPairs
  (RequiringBoth
     WrapLedgerConfig (TranslateForecast LedgerState WrapLedgerView))
  '[ShelleyBlock era2]
forall k (f :: k -&gt; k -&gt; *) (x :: k). InPairs f '[x]
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var">PNil</span></a></span><span>
</span><span id="line-148"></span><span>      </span><span class="hs-special">}</span><span>
</span><span id="line-149"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-150"></span><span>      </span><span class="annot"><a href="#local-6989586621679411497"><span class="hs-identifier hs-type">translateLedgerState</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-151"></span><span>           </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">InPairs.RequiringBoth</span></a></span><span>
</span><span id="line-152"></span><span>             </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">WrapLedgerConfig</span></a></span><span>
</span><span id="line-153"></span><span>             </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">HFC.Translate</span></a></span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">LedgerState</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-154"></span><span>             </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-shelley-0.1.0.0/noopt/doc/html/ouroboros-consensus-shelley/src"><span class="hs-identifier hs-type">ShelleyBlock</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679411511"><span class="hs-identifier hs-type">era1</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-155"></span><span>             </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-shelley-0.1.0.0/noopt/doc/html/ouroboros-consensus-shelley/src"><span class="hs-identifier hs-type">ShelleyBlock</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679411510"><span class="hs-identifier hs-type">era2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-156"></span><span>      </span><span id="local-6989586621679411497"><span class="annot"><span class="annottext">translateLedgerState :: RequiringBoth
  WrapLedgerConfig
  (Translate LedgerState)
  (ShelleyBlock era1)
  (ShelleyBlock era2)
</span><a href="#local-6989586621679411497"><span class="hs-identifier hs-var hs-var">translateLedgerState</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-157"></span><span>          </span><span class="annot"><span class="annottext">(WrapLedgerConfig (ShelleyBlock era1)
 -&gt; WrapLedgerConfig (ShelleyBlock era2)
 -&gt; Translate LedgerState (ShelleyBlock era1) (ShelleyBlock era2))
-&gt; RequiringBoth
     WrapLedgerConfig
     (Translate LedgerState)
     (ShelleyBlock era1)
     (ShelleyBlock era2)
forall k (h :: k -&gt; *) (f :: k -&gt; k -&gt; *) (x :: k) (y :: k).
(h x -&gt; h y -&gt; f x y) -&gt; RequiringBoth h f x y
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var">InPairs.RequireBoth</span></a></span><span>
</span><span id="line-158"></span><span>        </span><span class="annot"><span class="annottext">((WrapLedgerConfig (ShelleyBlock era1)
  -&gt; WrapLedgerConfig (ShelleyBlock era2)
  -&gt; Translate LedgerState (ShelleyBlock era1) (ShelleyBlock era2))
 -&gt; RequiringBoth
      WrapLedgerConfig
      (Translate LedgerState)
      (ShelleyBlock era1)
      (ShelleyBlock era2))
-&gt; (WrapLedgerConfig (ShelleyBlock era1)
    -&gt; WrapLedgerConfig (ShelleyBlock era2)
    -&gt; Translate LedgerState (ShelleyBlock era1) (ShelleyBlock era2))
-&gt; RequiringBoth
     WrapLedgerConfig
     (Translate LedgerState)
     (ShelleyBlock era1)
     (ShelleyBlock era2)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679411491"><span class="annot"><span class="annottext">WrapLedgerConfig (ShelleyBlock era1)
</span><a href="#local-6989586621679411491"><span class="hs-identifier hs-var">_cfg1</span></a></span></span><span> </span><span id="local-6989586621679411490"><span class="annot"><span class="annottext">WrapLedgerConfig (ShelleyBlock era2)
</span><a href="#local-6989586621679411490"><span class="hs-identifier hs-var">cfg2</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(EpochNo
 -&gt; LedgerState (ShelleyBlock era1)
 -&gt; LedgerState (ShelleyBlock era2))
-&gt; Translate LedgerState (ShelleyBlock era1) (ShelleyBlock era2)
forall (f :: * -&gt; *) x y.
(EpochNo -&gt; f x -&gt; f y) -&gt; Translate f x y
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var">HFC.Translate</span></a></span><span>
</span><span id="line-159"></span><span>        </span><span class="annot"><span class="annottext">((EpochNo
  -&gt; LedgerState (ShelleyBlock era1)
  -&gt; LedgerState (ShelleyBlock era2))
 -&gt; Translate LedgerState (ShelleyBlock era1) (ShelleyBlock era2))
-&gt; (EpochNo
    -&gt; LedgerState (ShelleyBlock era1)
    -&gt; LedgerState (ShelleyBlock era2))
-&gt; Translate LedgerState (ShelleyBlock era1) (ShelleyBlock era2)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679411488"><span class="annot"><span class="annottext">EpochNo
</span><a href="#local-6989586621679411488"><span class="hs-identifier hs-var">_epochNo</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-160"></span><span>              </span><span class="annot"><span class="annottext">(:.:) LedgerState ShelleyBlock era2
-&gt; LedgerState (ShelleyBlock era2)
forall l k (f :: l -&gt; *) (g :: k -&gt; l) (p :: k).
(:.:) f g p -&gt; f (g p)
</span><span class="hs-identifier hs-var">unComp</span></span><span>
</span><span id="line-161"></span><span>            </span><span class="annot"><span class="annottext">((:.:) LedgerState ShelleyBlock era2
 -&gt; LedgerState (ShelleyBlock era2))
-&gt; (LedgerState (ShelleyBlock era1)
    -&gt; (:.:) LedgerState ShelleyBlock era2)
-&gt; LedgerState (ShelleyBlock era1)
-&gt; LedgerState (ShelleyBlock era2)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">TranslationContext era2
-&gt; (:.:) LedgerState ShelleyBlock (PreviousEra era2)
-&gt; (:.:) LedgerState ShelleyBlock era2
forall era (f :: * -&gt; *).
(TranslateEra era f, TranslationError era f ~ Void) =&gt;
TranslationContext era -&gt; f (PreviousEra era) -&gt; f era
</span><span class="hs-identifier hs-var">SL.translateEra'</span></span><span>
</span><span id="line-162"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ShelleyLedgerConfig era2 -&gt; TranslationContext era2
forall era. ShelleyLedgerConfig era -&gt; TranslationContext era
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-shelley-0.1.0.0/noopt/doc/html/ouroboros-consensus-shelley/src"><span class="hs-identifier hs-var hs-var">shelleyLedgerTranslationContext</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">WrapLedgerConfig (ShelleyBlock era2)
-&gt; LedgerConfig (ShelleyBlock era2)
forall blk. WrapLedgerConfig blk -&gt; LedgerConfig blk
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var hs-var">unwrapLedgerConfig</span></a></span><span> </span><span class="annot"><span class="annottext">WrapLedgerConfig (ShelleyBlock era2)
</span><a href="#local-6989586621679411490"><span class="hs-identifier hs-var">cfg2</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-163"></span><span>            </span><span class="annot"><span class="annottext">((:.:) LedgerState ShelleyBlock era1
 -&gt; (:.:) LedgerState ShelleyBlock era2)
-&gt; (LedgerState (ShelleyBlock era1)
    -&gt; (:.:) LedgerState ShelleyBlock era1)
-&gt; LedgerState (ShelleyBlock era1)
-&gt; (:.:) LedgerState ShelleyBlock era2
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">LedgerState (ShelleyBlock era1)
-&gt; (:.:) LedgerState ShelleyBlock era1
forall l k (f :: l -&gt; *) (g :: k -&gt; l) (p :: k).
f (g p) -&gt; (:.:) f g p
</span><span class="hs-identifier hs-var">Comp</span></span><span>
</span><span id="line-164"></span><span>
</span><span id="line-165"></span><span>      </span><span class="annot"><a href="#local-6989586621679411493"><span class="hs-identifier hs-type">translateLedgerView</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-166"></span><span>           </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">InPairs.RequiringBoth</span></a></span><span>
</span><span id="line-167"></span><span>              </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">WrapLedgerConfig</span></a></span><span>
</span><span id="line-168"></span><span>              </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">HFC.TranslateForecast</span></a></span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">LedgerState</span></a></span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">WrapLedgerView</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-169"></span><span>              </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-shelley-0.1.0.0/noopt/doc/html/ouroboros-consensus-shelley/src"><span class="hs-identifier hs-type">ShelleyBlock</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679411511"><span class="hs-identifier hs-type">era1</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-170"></span><span>              </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-shelley-0.1.0.0/noopt/doc/html/ouroboros-consensus-shelley/src"><span class="hs-identifier hs-type">ShelleyBlock</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679411510"><span class="hs-identifier hs-type">era2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-171"></span><span>      </span><span id="local-6989586621679411493"><span class="annot"><span class="annottext">translateLedgerView :: RequiringBoth
  WrapLedgerConfig
  (TranslateForecast LedgerState WrapLedgerView)
  (ShelleyBlock era1)
  (ShelleyBlock era2)
</span><a href="#local-6989586621679411493"><span class="hs-identifier hs-var hs-var">translateLedgerView</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-172"></span><span>          </span><span class="annot"><span class="annottext">(WrapLedgerConfig (ShelleyBlock era1)
 -&gt; WrapLedgerConfig (ShelleyBlock era2)
 -&gt; TranslateForecast
      LedgerState WrapLedgerView (ShelleyBlock era1) (ShelleyBlock era2))
-&gt; RequiringBoth
     WrapLedgerConfig
     (TranslateForecast LedgerState WrapLedgerView)
     (ShelleyBlock era1)
     (ShelleyBlock era2)
forall k (h :: k -&gt; *) (f :: k -&gt; k -&gt; *) (x :: k) (y :: k).
(h x -&gt; h y -&gt; f x y) -&gt; RequiringBoth h f x y
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var">InPairs.RequireBoth</span></a></span><span> </span><span class="annot"><span class="annottext">((WrapLedgerConfig (ShelleyBlock era1)
  -&gt; WrapLedgerConfig (ShelleyBlock era2)
  -&gt; TranslateForecast
       LedgerState WrapLedgerView (ShelleyBlock era1) (ShelleyBlock era2))
 -&gt; RequiringBoth
      WrapLedgerConfig
      (TranslateForecast LedgerState WrapLedgerView)
      (ShelleyBlock era1)
      (ShelleyBlock era2))
-&gt; (WrapLedgerConfig (ShelleyBlock era1)
    -&gt; WrapLedgerConfig (ShelleyBlock era2)
    -&gt; TranslateForecast
         LedgerState WrapLedgerView (ShelleyBlock era1) (ShelleyBlock era2))
-&gt; RequiringBoth
     WrapLedgerConfig
     (TranslateForecast LedgerState WrapLedgerView)
     (ShelleyBlock era1)
     (ShelleyBlock era2)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">WrapLedgerConfig</span></a></span><span> </span><span id="local-6989586621679411480"><span class="annot"><span class="annottext">LedgerConfig (ShelleyBlock era1)
</span><a href="#local-6989586621679411480"><span class="hs-identifier hs-var">cfg1</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">WrapLedgerConfig</span></a></span><span> </span><span id="local-6989586621679411479"><span class="annot"><span class="annottext">LedgerConfig (ShelleyBlock era2)
</span><a href="#local-6989586621679411479"><span class="hs-identifier hs-var">cfg2</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-173"></span><span>            </span><span class="annot"><span class="annottext">(Bound
 -&gt; SlotNo
 -&gt; LedgerState (ShelleyBlock era1)
 -&gt; Except
      OutsideForecastRange (Ticked (WrapLedgerView (ShelleyBlock era2))))
-&gt; TranslateForecast
     LedgerState WrapLedgerView (ShelleyBlock era1) (ShelleyBlock era2)
forall (f :: * -&gt; *) (g :: * -&gt; *) x y.
(Bound
 -&gt; SlotNo -&gt; f x -&gt; Except OutsideForecastRange (Ticked (g y)))
-&gt; TranslateForecast f g x y
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var">HFC.TranslateForecast</span></a></span><span> </span><span class="annot"><span class="annottext">((Bound
  -&gt; SlotNo
  -&gt; LedgerState (ShelleyBlock era1)
  -&gt; Except
       OutsideForecastRange (Ticked (WrapLedgerView (ShelleyBlock era2))))
 -&gt; TranslateForecast
      LedgerState WrapLedgerView (ShelleyBlock era1) (ShelleyBlock era2))
-&gt; (Bound
    -&gt; SlotNo
    -&gt; LedgerState (ShelleyBlock era1)
    -&gt; Except
         OutsideForecastRange (Ticked (WrapLedgerView (ShelleyBlock era2))))
-&gt; TranslateForecast
     LedgerState WrapLedgerView (ShelleyBlock era1) (ShelleyBlock era2)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ShelleyLedgerConfig era1
-&gt; ShelleyLedgerConfig era2
-&gt; Bound
-&gt; SlotNo
-&gt; LedgerState (ShelleyBlock era1)
-&gt; Except
     OutsideForecastRange (Ticked (WrapLedgerView (ShelleyBlock era2)))
forall eraFrom eraTo.
(EraCrypto eraFrom ~ EraCrypto eraTo, ShelleyBasedEra eraFrom) =&gt;
ShelleyLedgerConfig eraFrom
-&gt; ShelleyLedgerConfig eraTo
-&gt; Bound
-&gt; SlotNo
-&gt; LedgerState (ShelleyBlock eraFrom)
-&gt; Except
     OutsideForecastRange (Ticked (WrapLedgerView (ShelleyBlock eraTo)))
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-shelley-0.1.0.0/noopt/doc/html/ouroboros-consensus-shelley/src"><span class="hs-identifier hs-var">forecastAcrossShelley</span></a></span><span> </span><span class="annot"><span class="annottext">LedgerConfig (ShelleyBlock era1)
ShelleyLedgerConfig era1
</span><a href="#local-6989586621679411480"><span class="hs-identifier hs-var">cfg1</span></a></span><span> </span><span class="annot"><span class="annottext">LedgerConfig (ShelleyBlock era2)
ShelleyLedgerConfig era2
</span><a href="#local-6989586621679411479"><span class="hs-identifier hs-var">cfg2</span></a></span><span>
</span><span id="line-174"></span><span>
</span><span id="line-175"></span><span>  </span><span id="local-6989586621679411477"><span class="annot"><span class="annottext">hardForkChainSel :: Tails AcrossEraSelection (ShelleyBasedHardForkEras era1 era2)
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">hardForkChainSel</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AcrossEraSelection (ShelleyBlock era1) (ShelleyBlock era2)
-&gt; Tails AcrossEraSelection (ShelleyBasedHardForkEras era1 era2)
forall k (f :: k -&gt; k -&gt; *) (x :: k) (y :: k).
f x y -&gt; Tails f '[x, y]
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var">Tails.mk2</span></a></span><span> </span><span class="annot"><span class="annottext">AcrossEraSelection (ShelleyBlock era1) (ShelleyBlock era2)
forall a b.
(BlockProtocol a ~ BlockProtocol b) =&gt;
AcrossEraSelection a b
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var">SelectSameProtocol</span></a></span><span>
</span><span id="line-176"></span><span>
</span><span id="line-177"></span><span>  </span><span id="local-6989586621679411473"><span class="annot"><span class="annottext">hardForkInjectTxs :: InPairs
  (RequiringBoth
     WrapLedgerConfig (Product2 InjectTx InjectValidatedTx))
  (ShelleyBasedHardForkEras era1 era2)
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">hardForkInjectTxs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-178"></span><span>        </span><span class="annot"><span class="annottext">RequiringBoth
  WrapLedgerConfig
  (Product2 InjectTx InjectValidatedTx)
  (ShelleyBlock era1)
  (ShelleyBlock era2)
-&gt; InPairs
     (RequiringBoth
        WrapLedgerConfig (Product2 InjectTx InjectValidatedTx))
     (ShelleyBasedHardForkEras era1 era2)
forall k (f :: k -&gt; k -&gt; *) (x :: k) (y :: k).
f x y -&gt; InPairs f '[x, y]
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var">InPairs.mk2</span></a></span><span>
</span><span id="line-179"></span><span>      </span><span class="annot"><span class="annottext">(RequiringBoth
   WrapLedgerConfig
   (Product2 InjectTx InjectValidatedTx)
   (ShelleyBlock era1)
   (ShelleyBlock era2)
 -&gt; InPairs
      (RequiringBoth
         WrapLedgerConfig (Product2 InjectTx InjectValidatedTx))
      (ShelleyBasedHardForkEras era1 era2))
-&gt; RequiringBoth
     WrapLedgerConfig
     (Product2 InjectTx InjectValidatedTx)
     (ShelleyBlock era1)
     (ShelleyBlock era2)
-&gt; InPairs
     (RequiringBoth
        WrapLedgerConfig (Product2 InjectTx InjectValidatedTx))
     (ShelleyBasedHardForkEras era1 era2)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(WrapLedgerConfig (ShelleyBlock era1)
 -&gt; WrapLedgerConfig (ShelleyBlock era2)
 -&gt; Product2
      InjectTx InjectValidatedTx (ShelleyBlock era1) (ShelleyBlock era2))
-&gt; RequiringBoth
     WrapLedgerConfig
     (Product2 InjectTx InjectValidatedTx)
     (ShelleyBlock era1)
     (ShelleyBlock era2)
forall k (h :: k -&gt; *) (f :: k -&gt; k -&gt; *) (x :: k) (y :: k).
(h x -&gt; h y -&gt; f x y) -&gt; RequiringBoth h f x y
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var">InPairs.RequireBoth</span></a></span><span> </span><span class="annot"><span class="annottext">((WrapLedgerConfig (ShelleyBlock era1)
  -&gt; WrapLedgerConfig (ShelleyBlock era2)
  -&gt; Product2
       InjectTx InjectValidatedTx (ShelleyBlock era1) (ShelleyBlock era2))
 -&gt; RequiringBoth
      WrapLedgerConfig
      (Product2 InjectTx InjectValidatedTx)
      (ShelleyBlock era1)
      (ShelleyBlock era2))
-&gt; (WrapLedgerConfig (ShelleyBlock era1)
    -&gt; WrapLedgerConfig (ShelleyBlock era2)
    -&gt; Product2
         InjectTx InjectValidatedTx (ShelleyBlock era1) (ShelleyBlock era2))
-&gt; RequiringBoth
     WrapLedgerConfig
     (Product2 InjectTx InjectValidatedTx)
     (ShelleyBlock era1)
     (ShelleyBlock era2)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679411470"><span class="annot"><span class="annottext">WrapLedgerConfig (ShelleyBlock era1)
</span><a href="#local-6989586621679411470"><span class="hs-identifier hs-var">_cfg1</span></a></span></span><span> </span><span id="local-6989586621679411469"><span class="annot"><span class="annottext">WrapLedgerConfig (ShelleyBlock era2)
</span><a href="#local-6989586621679411469"><span class="hs-identifier hs-var">cfg2</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-180"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679411468"><span class="annot"><span class="annottext">ctxt :: TranslationContext era2
</span><a href="#local-6989586621679411468"><span class="hs-identifier hs-var hs-var">ctxt</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ShelleyLedgerConfig era2 -&gt; TranslationContext era2
forall era. ShelleyLedgerConfig era -&gt; TranslationContext era
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-shelley-0.1.0.0/noopt/doc/html/ouroboros-consensus-shelley/src"><span class="hs-identifier hs-var hs-var">shelleyLedgerTranslationContext</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">WrapLedgerConfig (ShelleyBlock era2)
-&gt; LedgerConfig (ShelleyBlock era2)
forall blk. WrapLedgerConfig blk -&gt; LedgerConfig blk
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var hs-var">unwrapLedgerConfig</span></a></span><span> </span><span class="annot"><span class="annottext">WrapLedgerConfig (ShelleyBlock era2)
</span><a href="#local-6989586621679411469"><span class="hs-identifier hs-var">cfg2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-181"></span><span>        </span><span class="hs-keyword">in</span><span>
</span><span id="line-182"></span><span>          </span><span class="annot"><span class="annottext">InjectPolyTx GenTx (ShelleyBlock era1) (ShelleyBlock era2)
-&gt; InjectPolyTx
     WrapValidatedGenTx (ShelleyBlock era1) (ShelleyBlock era2)
-&gt; Product2
     InjectTx InjectValidatedTx (ShelleyBlock era1) (ShelleyBlock era2)
forall (f :: * -&gt; * -&gt; *) (g :: * -&gt; * -&gt; *) x y.
f x y -&gt; g x y -&gt; Product2 f g x y
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var">Pair2</span></a></span><span>
</span><span id="line-183"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(GenTx (ShelleyBlock era1) -&gt; Maybe (GenTx (ShelleyBlock era2)))
-&gt; InjectPolyTx GenTx (ShelleyBlock era1) (ShelleyBlock era2)
forall blk blk'.
(GenTx blk -&gt; Maybe (GenTx blk')) -&gt; InjectTx blk blk'
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var">InjectTx</span></a></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TranslationContext era2
-&gt; GenTx (ShelleyBlock era1) -&gt; Maybe (GenTx (ShelleyBlock era2))
</span><a href="#local-6989586621679411465"><span class="hs-identifier hs-var">translateTx</span></a></span><span>          </span><span class="annot"><span class="annottext">TranslationContext era2
</span><a href="#local-6989586621679411468"><span class="hs-identifier hs-var">ctxt</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-184"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(WrapValidatedGenTx (ShelleyBlock era1)
 -&gt; Maybe (WrapValidatedGenTx (ShelleyBlock era2)))
-&gt; InjectPolyTx
     WrapValidatedGenTx (ShelleyBlock era1) (ShelleyBlock era2)
forall blk blk'.
(WrapValidatedGenTx blk -&gt; Maybe (WrapValidatedGenTx blk'))
-&gt; InjectValidatedTx blk blk'
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var">InjectValidatedTx</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TranslationContext era2
-&gt; WrapValidatedGenTx (ShelleyBlock era1)
-&gt; Maybe (WrapValidatedGenTx (ShelleyBlock era2))
</span><a href="#local-6989586621679411463"><span class="hs-identifier hs-var">translateValidatedTx</span></a></span><span> </span><span class="annot"><span class="annottext">TranslationContext era2
</span><a href="#local-6989586621679411468"><span class="hs-identifier hs-var">ctxt</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-185"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-186"></span><span>      </span><span class="annot"><a href="#local-6989586621679411465"><span class="hs-identifier hs-type">translateTx</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-187"></span><span>           </span><span class="annot"><span class="hs-identifier hs-type">SL.TranslationContext</span></span><span> </span><span class="annot"><a href="#local-6989586621679411510"><span class="hs-identifier hs-type">era2</span></a></span><span>
</span><span id="line-188"></span><span>        </span><span class="hs-glyph">-&gt;</span><span>        </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">GenTx</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-shelley-0.1.0.0/noopt/doc/html/ouroboros-consensus-shelley/src"><span class="hs-identifier hs-type">ShelleyBlock</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679411511"><span class="hs-identifier hs-type">era1</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-189"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">GenTx</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-shelley-0.1.0.0/noopt/doc/html/ouroboros-consensus-shelley/src"><span class="hs-identifier hs-type">ShelleyBlock</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679411510"><span class="hs-identifier hs-type">era2</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-190"></span><span>      </span><span id="local-6989586621679411465"><span class="annot"><span class="annottext">translateTx :: TranslationContext era2
-&gt; GenTx (ShelleyBlock era1) -&gt; Maybe (GenTx (ShelleyBlock era2))
</span><a href="#local-6989586621679411465"><span class="hs-identifier hs-var hs-var">translateTx</span></a></span></span><span> </span><span id="local-6989586621679411462"><span class="annot"><span class="annottext">TranslationContext era2
</span><a href="#local-6989586621679411462"><span class="hs-identifier hs-var">transCtxt</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-191"></span><span>          </span><span class="annot"><span class="annottext">((:.:) GenTx ShelleyBlock era2 -&gt; GenTx (ShelleyBlock era2))
-&gt; Maybe ((:.:) GenTx ShelleyBlock era2)
-&gt; Maybe (GenTx (ShelleyBlock era2))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">(:.:) GenTx ShelleyBlock era2 -&gt; GenTx (ShelleyBlock era2)
forall l k (f :: l -&gt; *) (g :: k -&gt; l) (p :: k).
(:.:) f g p -&gt; f (g p)
</span><span class="hs-identifier hs-var">unComp</span></span><span>
</span><span id="line-192"></span><span>        </span><span class="annot"><span class="annottext">(Maybe ((:.:) GenTx ShelleyBlock era2)
 -&gt; Maybe (GenTx (ShelleyBlock era2)))
-&gt; (GenTx (ShelleyBlock era1)
    -&gt; Maybe ((:.:) GenTx ShelleyBlock era2))
-&gt; GenTx (ShelleyBlock era1)
-&gt; Maybe (GenTx (ShelleyBlock era2))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Either
  (TranslationError era2 WrapTx) ((:.:) GenTx ShelleyBlock era2)
-&gt; Maybe ((:.:) GenTx ShelleyBlock era2)
forall a b. Either a b -&gt; Maybe b
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var">eitherToMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">(Either
   (TranslationError era2 WrapTx) ((:.:) GenTx ShelleyBlock era2)
 -&gt; Maybe ((:.:) GenTx ShelleyBlock era2))
-&gt; (GenTx (ShelleyBlock era1)
    -&gt; Either
         (TranslationError era2 WrapTx) ((:.:) GenTx ShelleyBlock era2))
-&gt; GenTx (ShelleyBlock era1)
-&gt; Maybe ((:.:) GenTx ShelleyBlock era2)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Except
  (TranslationError era2 WrapTx) ((:.:) GenTx ShelleyBlock era2)
-&gt; Either
     (TranslationError era2 WrapTx) ((:.:) GenTx ShelleyBlock era2)
forall e a. Except e a -&gt; Either e a
</span><span class="hs-identifier hs-var">runExcept</span></span><span> </span><span class="annot"><span class="annottext">(Except
   (TranslationError era2 WrapTx) ((:.:) GenTx ShelleyBlock era2)
 -&gt; Either
      (TranslationError era2 WrapTx) ((:.:) GenTx ShelleyBlock era2))
-&gt; (GenTx (ShelleyBlock era1)
    -&gt; Except
         (TranslationError era2 WrapTx) ((:.:) GenTx ShelleyBlock era2))
-&gt; GenTx (ShelleyBlock era1)
-&gt; Either
     (TranslationError era2 WrapTx) ((:.:) GenTx ShelleyBlock era2)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">TranslationContext era2
-&gt; (:.:) GenTx ShelleyBlock (PreviousEra era2)
-&gt; Except
     (TranslationError era2 (GenTx :.: ShelleyBlock))
     ((:.:) GenTx ShelleyBlock era2)
forall era (f :: * -&gt; *).
TranslateEra era f =&gt;
TranslationContext era
-&gt; f (PreviousEra era) -&gt; Except (TranslationError era f) (f era)
</span><span class="hs-identifier hs-var">SL.translateEra</span></span><span> </span><span class="annot"><span class="annottext">TranslationContext era2
</span><a href="#local-6989586621679411462"><span class="hs-identifier hs-var">transCtxt</span></a></span><span>
</span><span id="line-193"></span><span>        </span><span class="annot"><span class="annottext">((:.:) GenTx ShelleyBlock era1
 -&gt; Except
      (TranslationError era2 WrapTx) ((:.:) GenTx ShelleyBlock era2))
-&gt; (GenTx (ShelleyBlock era1) -&gt; (:.:) GenTx ShelleyBlock era1)
-&gt; GenTx (ShelleyBlock era1)
-&gt; Except
     (TranslationError era2 WrapTx) ((:.:) GenTx ShelleyBlock era2)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">GenTx (ShelleyBlock era1) -&gt; (:.:) GenTx ShelleyBlock era1
forall l k (f :: l -&gt; *) (g :: k -&gt; l) (p :: k).
f (g p) -&gt; (:.:) f g p
</span><span class="hs-identifier hs-var">Comp</span></span><span>
</span><span id="line-194"></span><span>
</span><span id="line-195"></span><span>      </span><span class="annot"><a href="#local-6989586621679411463"><span class="hs-identifier hs-type">translateValidatedTx</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-196"></span><span>           </span><span class="annot"><span class="hs-identifier hs-type">SL.TranslationContext</span></span><span> </span><span class="annot"><a href="#local-6989586621679411510"><span class="hs-identifier hs-type">era2</span></a></span><span>
</span><span id="line-197"></span><span>        </span><span class="hs-glyph">-&gt;</span><span>        </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">WrapValidatedGenTx</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-shelley-0.1.0.0/noopt/doc/html/ouroboros-consensus-shelley/src"><span class="hs-identifier hs-type">ShelleyBlock</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679411511"><span class="hs-identifier hs-type">era1</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-198"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">WrapValidatedGenTx</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-shelley-0.1.0.0/noopt/doc/html/ouroboros-consensus-shelley/src"><span class="hs-identifier hs-type">ShelleyBlock</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679411510"><span class="hs-identifier hs-type">era2</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-199"></span><span>      </span><span id="local-6989586621679411463"><span class="annot"><span class="annottext">translateValidatedTx :: TranslationContext era2
-&gt; WrapValidatedGenTx (ShelleyBlock era1)
-&gt; Maybe (WrapValidatedGenTx (ShelleyBlock era2))
</span><a href="#local-6989586621679411463"><span class="hs-identifier hs-var hs-var">translateValidatedTx</span></a></span></span><span> </span><span id="local-6989586621679411460"><span class="annot"><span class="annottext">TranslationContext era2
</span><a href="#local-6989586621679411460"><span class="hs-identifier hs-var">transCtxt</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-200"></span><span>            </span><span class="annot"><span class="annottext">((:.:) WrapValidatedGenTx ShelleyBlock era2
 -&gt; WrapValidatedGenTx (ShelleyBlock era2))
-&gt; Maybe ((:.:) WrapValidatedGenTx ShelleyBlock era2)
-&gt; Maybe (WrapValidatedGenTx (ShelleyBlock era2))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">(:.:) WrapValidatedGenTx ShelleyBlock era2
-&gt; WrapValidatedGenTx (ShelleyBlock era2)
forall l k (f :: l -&gt; *) (g :: k -&gt; l) (p :: k).
(:.:) f g p -&gt; f (g p)
</span><span class="hs-identifier hs-var">unComp</span></span><span>
</span><span id="line-201"></span><span>          </span><span class="annot"><span class="annottext">(Maybe ((:.:) WrapValidatedGenTx ShelleyBlock era2)
 -&gt; Maybe (WrapValidatedGenTx (ShelleyBlock era2)))
-&gt; (WrapValidatedGenTx (ShelleyBlock era1)
    -&gt; Maybe ((:.:) WrapValidatedGenTx ShelleyBlock era2))
-&gt; WrapValidatedGenTx (ShelleyBlock era1)
-&gt; Maybe (WrapValidatedGenTx (ShelleyBlock era2))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Either
  (TranslationError era2 WrapTx)
  ((:.:) WrapValidatedGenTx ShelleyBlock era2)
-&gt; Maybe ((:.:) WrapValidatedGenTx ShelleyBlock era2)
forall a b. Either a b -&gt; Maybe b
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var">eitherToMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">(Either
   (TranslationError era2 WrapTx)
   ((:.:) WrapValidatedGenTx ShelleyBlock era2)
 -&gt; Maybe ((:.:) WrapValidatedGenTx ShelleyBlock era2))
-&gt; (WrapValidatedGenTx (ShelleyBlock era1)
    -&gt; Either
         (TranslationError era2 WrapTx)
         ((:.:) WrapValidatedGenTx ShelleyBlock era2))
-&gt; WrapValidatedGenTx (ShelleyBlock era1)
-&gt; Maybe ((:.:) WrapValidatedGenTx ShelleyBlock era2)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Except
  (TranslationError era2 WrapTx)
  ((:.:) WrapValidatedGenTx ShelleyBlock era2)
-&gt; Either
     (TranslationError era2 WrapTx)
     ((:.:) WrapValidatedGenTx ShelleyBlock era2)
forall e a. Except e a -&gt; Either e a
</span><span class="hs-identifier hs-var">runExcept</span></span><span> </span><span class="annot"><span class="annottext">(Except
   (TranslationError era2 WrapTx)
   ((:.:) WrapValidatedGenTx ShelleyBlock era2)
 -&gt; Either
      (TranslationError era2 WrapTx)
      ((:.:) WrapValidatedGenTx ShelleyBlock era2))
-&gt; (WrapValidatedGenTx (ShelleyBlock era1)
    -&gt; Except
         (TranslationError era2 WrapTx)
         ((:.:) WrapValidatedGenTx ShelleyBlock era2))
-&gt; WrapValidatedGenTx (ShelleyBlock era1)
-&gt; Either
     (TranslationError era2 WrapTx)
     ((:.:) WrapValidatedGenTx ShelleyBlock era2)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">TranslationContext era2
-&gt; (:.:) WrapValidatedGenTx ShelleyBlock (PreviousEra era2)
-&gt; Except
     (TranslationError era2 (WrapValidatedGenTx :.: ShelleyBlock))
     ((:.:) WrapValidatedGenTx ShelleyBlock era2)
forall era (f :: * -&gt; *).
TranslateEra era f =&gt;
TranslationContext era
-&gt; f (PreviousEra era) -&gt; Except (TranslationError era f) (f era)
</span><span class="hs-identifier hs-var">SL.translateEra</span></span><span> </span><span class="annot"><span class="annottext">TranslationContext era2
</span><a href="#local-6989586621679411460"><span class="hs-identifier hs-var">transCtxt</span></a></span><span>
</span><span id="line-202"></span><span>          </span><span class="annot"><span class="annottext">((:.:) WrapValidatedGenTx ShelleyBlock era1
 -&gt; Except
      (TranslationError era2 WrapTx)
      ((:.:) WrapValidatedGenTx ShelleyBlock era2))
-&gt; (WrapValidatedGenTx (ShelleyBlock era1)
    -&gt; (:.:) WrapValidatedGenTx ShelleyBlock era1)
-&gt; WrapValidatedGenTx (ShelleyBlock era1)
-&gt; Except
     (TranslationError era2 WrapTx)
     ((:.:) WrapValidatedGenTx ShelleyBlock era2)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">WrapValidatedGenTx (ShelleyBlock era1)
-&gt; (:.:) WrapValidatedGenTx ShelleyBlock era1
forall l k (f :: l -&gt; *) (g :: k -&gt; l) (p :: k).
f (g p) -&gt; (:.:) f g p
</span><span class="hs-identifier hs-var">Comp</span></span></span></span><span>
</span><span id="line-203"></span><span>
</span><span id="line-204"></span><span id="local-6989586621679411458"><span id="local-6989586621679411459"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Test.ThreadNet.Infra.ShelleyBasedHardFork.html#ShelleyBasedHardForkConstraints"><span class="hs-identifier hs-type">ShelleyBasedHardForkConstraints</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679411459"><span class="hs-identifier hs-type">era1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679411458"><span class="hs-identifier hs-type">era2</span></a></span><span>
</span><span id="line-205"></span><span>      </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">SupportedNetworkProtocolVersion</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Test.ThreadNet.Infra.ShelleyBasedHardFork.html#ShelleyBasedHardForkBlock"><span class="hs-identifier hs-type">ShelleyBasedHardForkBlock</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679411459"><span class="hs-identifier hs-type">era1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679411458"><span class="hs-identifier hs-type">era2</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-206"></span><span>  </span><span id="local-6989586621679411452"><span class="annot"><span class="annottext">supportedNodeToNodeVersions :: Proxy (ShelleyBasedHardForkBlock era1 era2)
-&gt; Map
     NodeToNodeVersion
     (BlockNodeToNodeVersion (ShelleyBasedHardForkBlock era1 era2))
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">supportedNodeToNodeVersions</span></a></span></span><span> </span><span class="annot"><span class="annottext">Proxy (ShelleyBasedHardForkBlock era1 era2)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(NodeToNodeVersion,
  HardForkNodeToNodeVersion '[ShelleyBlock era1, ShelleyBlock era2])]
-&gt; Map
     NodeToNodeVersion
     (HardForkNodeToNodeVersion '[ShelleyBlock era1, ShelleyBlock era2])
forall k a. Ord k =&gt; [(k, a)] -&gt; Map k a
</span><span class="hs-identifier hs-var">Map.fromList</span></span><span> </span><span class="annot"><span class="annottext">([(NodeToNodeVersion,
   HardForkNodeToNodeVersion '[ShelleyBlock era1, ShelleyBlock era2])]
 -&gt; Map
      NodeToNodeVersion
      (HardForkNodeToNodeVersion
         '[ShelleyBlock era1, ShelleyBlock era2]))
-&gt; [(NodeToNodeVersion,
     HardForkNodeToNodeVersion '[ShelleyBlock era1, ShelleyBlock era2])]
-&gt; Map
     NodeToNodeVersion
     (HardForkNodeToNodeVersion '[ShelleyBlock era1, ShelleyBlock era2])
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-207"></span><span>      </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NodeToNodeVersion
forall a. Bounded a =&gt; a
</span><span class="hs-identifier hs-var">maxBound</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">HardForkNodeToNodeVersion '[ShelleyBlock era1, ShelleyBlock era2]
forall era1 era2.
BlockNodeToNodeVersion (ShelleyBasedHardForkBlock era1 era2)
</span><a href="Test.ThreadNet.Infra.ShelleyBasedHardFork.html#ShelleyBasedHardForkNodeToNodeVersion1"><span class="hs-identifier hs-var">ShelleyBasedHardForkNodeToNodeVersion1</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-208"></span><span>      </span><span class="hs-special">]</span><span>
</span><span id="line-209"></span><span>
</span><span id="line-210"></span><span>  </span><span id="local-6989586621679411448"><span class="annot"><span class="annottext">supportedNodeToClientVersions :: Proxy (ShelleyBasedHardForkBlock era1 era2)
-&gt; Map
     NodeToClientVersion
     (BlockNodeToClientVersion (ShelleyBasedHardForkBlock era1 era2))
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">supportedNodeToClientVersions</span></a></span></span><span> </span><span class="annot"><span class="annottext">Proxy (ShelleyBasedHardForkBlock era1 era2)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(NodeToClientVersion,
  HardForkNodeToClientVersion
    '[ShelleyBlock era1, ShelleyBlock era2])]
-&gt; Map
     NodeToClientVersion
     (HardForkNodeToClientVersion
        '[ShelleyBlock era1, ShelleyBlock era2])
forall k a. Ord k =&gt; [(k, a)] -&gt; Map k a
</span><span class="hs-identifier hs-var">Map.fromList</span></span><span> </span><span class="annot"><span class="annottext">([(NodeToClientVersion,
   HardForkNodeToClientVersion
     '[ShelleyBlock era1, ShelleyBlock era2])]
 -&gt; Map
      NodeToClientVersion
      (HardForkNodeToClientVersion
         '[ShelleyBlock era1, ShelleyBlock era2]))
-&gt; [(NodeToClientVersion,
     HardForkNodeToClientVersion
       '[ShelleyBlock era1, ShelleyBlock era2])]
-&gt; Map
     NodeToClientVersion
     (HardForkNodeToClientVersion
        '[ShelleyBlock era1, ShelleyBlock era2])
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-211"></span><span>      </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NodeToClientVersion
forall a. Bounded a =&gt; a
</span><span class="hs-identifier hs-var">maxBound</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">HardForkNodeToClientVersion '[ShelleyBlock era1, ShelleyBlock era2]
forall era1 era2.
BlockNodeToClientVersion (ShelleyBasedHardForkBlock era1 era2)
</span><a href="Test.ThreadNet.Infra.ShelleyBasedHardFork.html#ShelleyBasedHardForkNodeToClientVersion1"><span class="hs-identifier hs-var">ShelleyBasedHardForkNodeToClientVersion1</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-212"></span><span>      </span><span class="hs-special">]</span><span>
</span><span id="line-213"></span><span>
</span><span id="line-214"></span><span>  </span><span id="local-6989586621679411446"><span class="annot"><span class="annottext">latestReleasedNodeVersion :: Proxy (ShelleyBasedHardForkBlock era1 era2)
-&gt; (Maybe NodeToNodeVersion, Maybe NodeToClientVersion)
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">latestReleasedNodeVersion</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy (ShelleyBasedHardForkBlock era1 era2)
-&gt; (Maybe NodeToNodeVersion, Maybe NodeToClientVersion)
forall blk.
SupportedNetworkProtocolVersion blk =&gt;
Proxy blk -&gt; (Maybe NodeToNodeVersion, Maybe NodeToClientVersion)
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var">latestReleasedNodeVersionDefault</span></a></span></span></span><span>
</span><span id="line-215"></span><span>
</span><span id="line-216"></span><span class="hs-comment">{-------------------------------------------------------------------------------
  Protocol info
-------------------------------------------------------------------------------}</span><span>
</span><span id="line-219"></span><span>
</span><span id="line-220"></span><span class="annot"><a href="Test.ThreadNet.Infra.ShelleyBasedHardFork.html#protocolInfoShelleyBasedHardFork"><span class="hs-identifier hs-type">protocolInfoShelleyBasedHardFork</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-221"></span><span>     </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679411443"><span class="annot"><a href="#local-6989586621679411443"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span id="local-6989586621679411442"><span class="annot"><a href="#local-6989586621679411442"><span class="hs-identifier hs-type">era1</span></a></span></span><span> </span><span id="local-6989586621679411441"><span class="annot"><a href="#local-6989586621679411441"><span class="hs-identifier hs-type">era2</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">IOLike</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679411443"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Test.ThreadNet.Infra.ShelleyBasedHardFork.html#ShelleyBasedHardForkConstraints"><span class="hs-identifier hs-type">ShelleyBasedHardForkConstraints</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679411442"><span class="hs-identifier hs-type">era1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679411441"><span class="hs-identifier hs-type">era2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-222"></span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-shelley-0.1.0.0/noopt/doc/html/ouroboros-consensus-shelley/src"><span class="hs-identifier hs-type">ProtocolParamsShelleyBased</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679411442"><span class="hs-identifier hs-type">era1</span></a></span><span>
</span><span id="line-223"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SL.ProtVer</span></span><span>
</span><span id="line-224"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SL.ProtVer</span></span><span>
</span><span id="line-225"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-cardano-0.1.0.0/noopt/doc/html/ouroboros-consensus-cardano/src"><span class="hs-identifier hs-type">ProtocolTransitionParamsShelleyBased</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679411441"><span class="hs-identifier hs-type">era2</span></a></span><span>
</span><span id="line-226"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">ProtocolInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679411443"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Test.ThreadNet.Infra.ShelleyBasedHardFork.html#ShelleyBasedHardForkBlock"><span class="hs-identifier hs-type">ShelleyBasedHardForkBlock</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679411442"><span class="hs-identifier hs-type">era1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679411441"><span class="hs-identifier hs-type">era2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-227"></span><span id="protocolInfoShelleyBasedHardFork"><span class="annot"><span class="annottext">protocolInfoShelleyBasedHardFork :: ProtocolParamsShelleyBased era1
-&gt; ProtVer
-&gt; ProtVer
-&gt; ProtocolTransitionParamsShelleyBased era2
-&gt; ProtocolInfo m (ShelleyBasedHardForkBlock era1 era2)
</span><a href="Test.ThreadNet.Infra.ShelleyBasedHardFork.html#protocolInfoShelleyBasedHardFork"><span class="hs-identifier hs-var hs-var">protocolInfoShelleyBasedHardFork</span></a></span></span><span> </span><span id="local-6989586621679411440"><span class="annot"><span class="annottext">ProtocolParamsShelleyBased era1
</span><a href="#local-6989586621679411440"><span class="hs-identifier hs-var">protocolParamsShelleyBased</span></a></span></span><span>
</span><span id="line-228"></span><span>                                 </span><span id="local-6989586621679411439"><span class="annot"><span class="annottext">ProtVer
</span><a href="#local-6989586621679411439"><span class="hs-identifier hs-var">protVer1</span></a></span></span><span>
</span><span id="line-229"></span><span>                                 </span><span id="local-6989586621679411438"><span class="annot"><span class="annottext">ProtVer
</span><a href="#local-6989586621679411438"><span class="hs-identifier hs-var">protVer2</span></a></span></span><span>
</span><span id="line-230"></span><span>                                 </span><span id="local-6989586621679411437"><span class="annot"><span class="annottext">ProtocolTransitionParamsShelleyBased era2
</span><a href="#local-6989586621679411437"><span class="hs-identifier hs-var">protocolTransitionParams</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-231"></span><span>    </span><span class="annot"><span class="annottext">ProtocolInfo m (ShelleyBlock era1)
-&gt; EraParams
-&gt; (ConsensusConfig (BlockProtocol (ShelleyBlock era1))
    -&gt; PartialConsensusConfig (BlockProtocol (ShelleyBlock era1)))
-&gt; (LedgerConfig (ShelleyBlock era1)
    -&gt; PartialLedgerConfig (ShelleyBlock era1))
-&gt; ProtocolInfo m (ShelleyBlock era2)
-&gt; EraParams
-&gt; (ConsensusConfig (BlockProtocol (ShelleyBlock era2))
    -&gt; PartialConsensusConfig (BlockProtocol (ShelleyBlock era2)))
-&gt; (LedgerConfig (ShelleyBlock era2)
    -&gt; PartialLedgerConfig (ShelleyBlock era2))
-&gt; ProtocolInfo m (ShelleyBasedHardForkBlock era1 era2)
forall (m :: * -&gt; *) blk1 blk2.
(CanHardFork '[blk1, blk2], Monad m) =&gt;
ProtocolInfo m blk1
-&gt; EraParams
-&gt; (ConsensusConfig (BlockProtocol blk1)
    -&gt; PartialConsensusConfig (BlockProtocol blk1))
-&gt; (LedgerConfig blk1 -&gt; PartialLedgerConfig blk1)
-&gt; ProtocolInfo m blk2
-&gt; EraParams
-&gt; (ConsensusConfig (BlockProtocol blk2)
    -&gt; PartialConsensusConfig (BlockProtocol blk2))
-&gt; (LedgerConfig blk2 -&gt; PartialLedgerConfig blk2)
-&gt; ProtocolInfo m (HardForkBlock '[blk1, blk2])
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var">protocolInfoBinary</span></a></span><span>
</span><span id="line-232"></span><span>      </span><span class="hs-comment">-- Era 1</span><span>
</span><span id="line-233"></span><span>      </span><span class="annot"><span class="annottext">ProtocolInfo m (ShelleyBlock era1)
</span><a href="#local-6989586621679411435"><span class="hs-identifier hs-var">protocolInfo1</span></a></span><span>
</span><span id="line-234"></span><span>      </span><span class="annot"><span class="annottext">EraParams
</span><a href="#local-6989586621679411434"><span class="hs-identifier hs-var">eraParams1</span></a></span><span>
</span><span id="line-235"></span><span>      </span><span class="annot"><span class="annottext">ConsensusConfig (BlockProtocol (ShelleyBlock era1))
-&gt; PartialConsensusConfig (BlockProtocol (ShelleyBlock era1))
forall c. ConsensusConfig (TPraos c) -&gt; TPraosParams
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-shelley-0.1.0.0/noopt/doc/html/ouroboros-consensus-shelley/src"><span class="hs-identifier hs-var hs-var">tpraosParams</span></a></span><span>
</span><span id="line-236"></span><span>      </span><span class="annot"><span class="annottext">LedgerConfig (ShelleyBlock era1)
-&gt; PartialLedgerConfig (ShelleyBlock era1)
</span><a href="#local-6989586621679411432"><span class="hs-identifier hs-var">toPartialLedgerConfig1</span></a></span><span>
</span><span id="line-237"></span><span>      </span><span class="hs-comment">-- Era 2</span><span>
</span><span id="line-238"></span><span>      </span><span class="annot"><span class="annottext">ProtocolInfo m (ShelleyBlock era2)
</span><a href="#local-6989586621679411431"><span class="hs-identifier hs-var">protocolInfo2</span></a></span><span>
</span><span id="line-239"></span><span>      </span><span class="annot"><span class="annottext">EraParams
</span><a href="#local-6989586621679411430"><span class="hs-identifier hs-var">eraParams2</span></a></span><span>
</span><span id="line-240"></span><span>      </span><span class="annot"><span class="annottext">ConsensusConfig (BlockProtocol (ShelleyBlock era2))
-&gt; PartialConsensusConfig (BlockProtocol (ShelleyBlock era2))
forall c. ConsensusConfig (TPraos c) -&gt; TPraosParams
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-shelley-0.1.0.0/noopt/doc/html/ouroboros-consensus-shelley/src"><span class="hs-identifier hs-var hs-var">tpraosParams</span></a></span><span>
</span><span id="line-241"></span><span>      </span><span class="annot"><span class="annottext">LedgerConfig (ShelleyBlock era2)
-&gt; PartialLedgerConfig (ShelleyBlock era2)
</span><a href="#local-6989586621679411429"><span class="hs-identifier hs-var">toPartialLedgerConfig2</span></a></span><span>
</span><span id="line-242"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-243"></span><span>    </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-shelley-0.1.0.0/noopt/doc/html/ouroboros-consensus-shelley/src"><span class="hs-identifier hs-type">ProtocolParamsShelleyBased</span></a></span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-244"></span><span>        </span><span id="local-6989586621679411427"><span class="annot"><span class="annottext">ShelleyGenesis era1
$sel:shelleyBasedGenesis:ProtocolParamsShelleyBased :: forall era. ProtocolParamsShelleyBased era -&gt; ShelleyGenesis era
shelleyBasedGenesis :: ShelleyGenesis era1
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-shelley-0.1.0.0/noopt/doc/html/ouroboros-consensus-shelley/src"><span class="hs-identifier hs-var hs-var">shelleyBasedGenesis</span></a></span></span><span>
</span><span id="line-245"></span><span>      </span><span class="hs-special">,</span><span> </span><span id="local-6989586621679411425"><span class="annot"><span class="annottext">Nonce
$sel:shelleyBasedInitialNonce:ProtocolParamsShelleyBased :: forall era. ProtocolParamsShelleyBased era -&gt; Nonce
shelleyBasedInitialNonce :: Nonce
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-shelley-0.1.0.0/noopt/doc/html/ouroboros-consensus-shelley/src"><span class="hs-identifier hs-var hs-var">shelleyBasedInitialNonce</span></a></span></span><span>
</span><span id="line-246"></span><span>      </span><span class="hs-special">,</span><span> </span><span id="local-6989586621679411423"><span class="annot"><span class="annottext">[TPraosLeaderCredentials (EraCrypto era1)]
$sel:shelleyBasedLeaderCredentials:ProtocolParamsShelleyBased :: forall era.
ProtocolParamsShelleyBased era
-&gt; [TPraosLeaderCredentials (EraCrypto era)]
shelleyBasedLeaderCredentials :: [TPraosLeaderCredentials (EraCrypto era1)]
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-shelley-0.1.0.0/noopt/doc/html/ouroboros-consensus-shelley/src"><span class="hs-identifier hs-var hs-var">shelleyBasedLeaderCredentials</span></a></span></span><span>
</span><span id="line-247"></span><span>      </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ProtocolParamsShelleyBased era1
</span><a href="#local-6989586621679411440"><span class="hs-identifier hs-var">protocolParamsShelleyBased</span></a></span><span>
</span><span id="line-248"></span><span>
</span><span id="line-249"></span><span>    </span><span class="hs-comment">-- Era 1</span><span>
</span><span id="line-250"></span><span>
</span><span id="line-251"></span><span>    </span><span class="annot"><a href="#local-6989586621679411421"><span class="hs-identifier hs-type">genesis1</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SL.ShelleyGenesis</span></span><span> </span><span class="annot"><a href="#local-6989586621679411442"><span class="hs-identifier hs-type">era1</span></a></span><span>
</span><span id="line-252"></span><span>    </span><span id="local-6989586621679411421"><span class="annot"><span class="annottext">genesis1 :: ShelleyGenesis era1
</span><a href="#local-6989586621679411421"><span class="hs-identifier hs-var hs-var">genesis1</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ShelleyGenesis era1
</span><a href="#local-6989586621679411427"><span class="hs-identifier hs-var">shelleyBasedGenesis</span></a></span><span>
</span><span id="line-253"></span><span>
</span><span id="line-254"></span><span>    </span><span class="annot"><a href="#local-6989586621679411435"><span class="hs-identifier hs-type">protocolInfo1</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">ProtocolInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679411443"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-shelley-0.1.0.0/noopt/doc/html/ouroboros-consensus-shelley/src"><span class="hs-identifier hs-type">ShelleyBlock</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679411442"><span class="hs-identifier hs-type">era1</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-255"></span><span>    </span><span id="local-6989586621679411435"><span class="annot"><span class="annottext">protocolInfo1 :: ProtocolInfo m (ShelleyBlock era1)
</span><a href="#local-6989586621679411435"><span class="hs-identifier hs-var hs-var">protocolInfo1</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-256"></span><span>        </span><span class="annot"><span class="annottext">ProtocolParamsShelleyBased era1
-&gt; TranslationContext era1
-&gt; ProtVer
-&gt; Overrides (ShelleyBlock era1)
-&gt; ProtocolInfo m (ShelleyBlock era1)
forall (m :: * -&gt; *) era.
(IOLike m, ShelleyBasedEra era, TxLimits (ShelleyBlock era)) =&gt;
ProtocolParamsShelleyBased era
-&gt; TranslationContext era
-&gt; ProtVer
-&gt; Overrides (ShelleyBlock era)
-&gt; ProtocolInfo m (ShelleyBlock era)
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-shelley-0.1.0.0/noopt/doc/html/ouroboros-consensus-shelley/src"><span class="hs-identifier hs-var">protocolInfoShelleyBased</span></a></span><span>
</span><span id="line-257"></span><span>          </span><span class="annot"><span class="annottext">ProtocolParamsShelleyBased era1
</span><a href="#local-6989586621679411440"><span class="hs-identifier hs-var">protocolParamsShelleyBased</span></a></span><span>
</span><span id="line-258"></span><span>          </span><span class="hs-special">(</span><span class="hs-special">)</span><span>  </span><span class="hs-comment">-- trivial translation context</span><span>
</span><span id="line-259"></span><span>          </span><span class="annot"><span class="annottext">ProtVer
</span><a href="#local-6989586621679411439"><span class="hs-identifier hs-var">protVer1</span></a></span><span>
</span><span id="line-260"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxMeasure (ShelleyBlock era1) -&gt; Overrides (ShelleyBlock era1)
forall blk. TxMeasure blk -&gt; Overrides blk
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var">TxLimits.mkOverrides</span></a></span><span> </span><span class="annot"><span class="annottext">TxMeasure (ShelleyBlock era1)
forall a. BoundedMeasure a =&gt; a
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var">TxLimits.noOverridesMeasure</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-261"></span><span>
</span><span id="line-262"></span><span>    </span><span class="annot"><a href="#local-6989586621679411434"><span class="hs-identifier hs-type">eraParams1</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">History.EraParams</span></a></span><span>
</span><span id="line-263"></span><span>    </span><span id="local-6989586621679411434"><span class="annot"><span class="annottext">eraParams1 :: EraParams
</span><a href="#local-6989586621679411434"><span class="hs-identifier hs-var hs-var">eraParams1</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ShelleyGenesis era1 -&gt; EraParams
forall era. ShelleyGenesis era -&gt; EraParams
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-shelley-0.1.0.0/noopt/doc/html/ouroboros-consensus-shelley/src"><span class="hs-identifier hs-var">shelleyEraParams</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyGenesis era1
</span><a href="#local-6989586621679411421"><span class="hs-identifier hs-var">genesis1</span></a></span><span>
</span><span id="line-264"></span><span>
</span><span id="line-265"></span><span>    </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-cardano-0.1.0.0/noopt/doc/html/ouroboros-consensus-cardano/src"><span class="hs-identifier hs-type">ProtocolTransitionParamsShelleyBased</span></a></span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-266"></span><span>        </span><span class="annot"><span class="annottext">transitionTranslationContext :: forall era.
ProtocolTransitionParamsShelleyBased era -&gt; TranslationContext era
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-cardano-0.1.0.0/noopt/doc/html/ouroboros-consensus-cardano/src"><span class="hs-identifier hs-var">transitionTranslationContext</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621679411414"><span class="annot"><span class="annottext">TranslationContext era2
</span><a href="#local-6989586621679411414"><span class="hs-identifier hs-var">transCtxt2</span></a></span></span><span>
</span><span id="line-267"></span><span>      </span><span class="hs-special">,</span><span> </span><span id="local-6989586621679411413"><span class="annot"><span class="annottext">TriggerHardFork
transitionTrigger :: forall era.
ProtocolTransitionParamsShelleyBased era -&gt; TriggerHardFork
transitionTrigger :: TriggerHardFork
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-cardano-0.1.0.0/noopt/doc/html/ouroboros-consensus-cardano/src"><span class="hs-identifier hs-var hs-var">transitionTrigger</span></a></span></span><span>
</span><span id="line-268"></span><span>      </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ProtocolTransitionParamsShelleyBased era2
</span><a href="#local-6989586621679411437"><span class="hs-identifier hs-var">protocolTransitionParams</span></a></span><span>
</span><span id="line-269"></span><span>
</span><span id="line-270"></span><span>    </span><span class="annot"><a href="#local-6989586621679411432"><span class="hs-identifier hs-type">toPartialLedgerConfig1</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-271"></span><span>         </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">LedgerConfig</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-shelley-0.1.0.0/noopt/doc/html/ouroboros-consensus-shelley/src"><span class="hs-identifier hs-type">ShelleyBlock</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679411442"><span class="hs-identifier hs-type">era1</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-272"></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">PartialLedgerConfig</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-shelley-0.1.0.0/noopt/doc/html/ouroboros-consensus-shelley/src"><span class="hs-identifier hs-type">ShelleyBlock</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679411442"><span class="hs-identifier hs-type">era1</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-273"></span><span>    </span><span id="local-6989586621679411432"><span class="annot"><span class="annottext">toPartialLedgerConfig1 :: LedgerConfig (ShelleyBlock era1)
-&gt; PartialLedgerConfig (ShelleyBlock era1)
</span><a href="#local-6989586621679411432"><span class="hs-identifier hs-var hs-var">toPartialLedgerConfig1</span></a></span></span><span> </span><span id="local-6989586621679411411"><span class="annot"><span class="annottext">LedgerConfig (ShelleyBlock era1)
</span><a href="#local-6989586621679411411"><span class="hs-identifier hs-var">cfg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ShelleyPartialLedgerConfig :: forall era.
ShelleyLedgerConfig era
-&gt; TriggerHardFork -&gt; ShelleyPartialLedgerConfig era
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-shelley-0.1.0.0/noopt/doc/html/ouroboros-consensus-shelley/src"><span class="hs-identifier hs-type">ShelleyPartialLedgerConfig</span></a></span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-274"></span><span>          </span><span class="annot"><span class="annottext">shelleyLedgerConfig :: ShelleyLedgerConfig era1
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-shelley-0.1.0.0/noopt/doc/html/ouroboros-consensus-shelley/src"><span class="hs-identifier hs-var">shelleyLedgerConfig</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LedgerConfig (ShelleyBlock era1)
ShelleyLedgerConfig era1
</span><a href="#local-6989586621679411411"><span class="hs-identifier hs-var">cfg</span></a></span><span>
</span><span id="line-275"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">shelleyTriggerHardFork :: TriggerHardFork
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-shelley-0.1.0.0/noopt/doc/html/ouroboros-consensus-shelley/src"><span class="hs-identifier hs-var">shelleyTriggerHardFork</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TriggerHardFork
</span><a href="#local-6989586621679411413"><span class="hs-identifier hs-var">transitionTrigger</span></a></span><span>
</span><span id="line-276"></span><span>        </span><span class="hs-special">}</span><span>
</span><span id="line-277"></span><span>
</span><span id="line-278"></span><span>    </span><span class="hs-comment">-- Era 2</span><span>
</span><span id="line-279"></span><span>
</span><span id="line-280"></span><span>    </span><span class="annot"><a href="#local-6989586621679411407"><span class="hs-identifier hs-type">genesis2</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">SL.ShelleyGenesis</span></span><span> </span><span class="annot"><a href="#local-6989586621679411441"><span class="hs-identifier hs-type">era2</span></a></span><span>
</span><span id="line-281"></span><span>    </span><span id="local-6989586621679411407"><span class="annot"><span class="annottext">genesis2 :: ShelleyGenesis era2
</span><a href="#local-6989586621679411407"><span class="hs-identifier hs-var hs-var">genesis2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TranslationContext era2
-&gt; ShelleyGenesis (PreviousEra era2) -&gt; ShelleyGenesis era2
forall era (f :: * -&gt; *).
(TranslateEra era f, TranslationError era f ~ Void) =&gt;
TranslationContext era -&gt; f (PreviousEra era) -&gt; f era
</span><span class="hs-identifier hs-var">SL.translateEra'</span></span><span> </span><span class="annot"><span class="annottext">TranslationContext era2
</span><a href="#local-6989586621679411414"><span class="hs-identifier hs-var">transCtxt2</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyGenesis era1
ShelleyGenesis (PreviousEra era2)
</span><a href="#local-6989586621679411421"><span class="hs-identifier hs-var">genesis1</span></a></span><span>
</span><span id="line-282"></span><span>
</span><span id="line-283"></span><span>    </span><span class="annot"><a href="#local-6989586621679411431"><span class="hs-identifier hs-type">protocolInfo2</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">ProtocolInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679411443"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-shelley-0.1.0.0/noopt/doc/html/ouroboros-consensus-shelley/src"><span class="hs-identifier hs-type">ShelleyBlock</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679411441"><span class="hs-identifier hs-type">era2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-284"></span><span>    </span><span id="local-6989586621679411431"><span class="annot"><span class="annottext">protocolInfo2 :: ProtocolInfo m (ShelleyBlock era2)
</span><a href="#local-6989586621679411431"><span class="hs-identifier hs-var hs-var">protocolInfo2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-285"></span><span>        </span><span class="annot"><span class="annottext">ProtocolParamsShelleyBased era2
-&gt; TranslationContext era2
-&gt; ProtVer
-&gt; Overrides (ShelleyBlock era2)
-&gt; ProtocolInfo m (ShelleyBlock era2)
forall (m :: * -&gt; *) era.
(IOLike m, ShelleyBasedEra era, TxLimits (ShelleyBlock era)) =&gt;
ProtocolParamsShelleyBased era
-&gt; TranslationContext era
-&gt; ProtVer
-&gt; Overrides (ShelleyBlock era)
-&gt; ProtocolInfo m (ShelleyBlock era)
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-shelley-0.1.0.0/noopt/doc/html/ouroboros-consensus-shelley/src"><span class="hs-identifier hs-var">protocolInfoShelleyBased</span></a></span><span>
</span><span id="line-286"></span><span>          </span><span class="annot"><span class="annottext">ProtocolParamsShelleyBased :: forall era.
ShelleyGenesis era
-&gt; Nonce
-&gt; [TPraosLeaderCredentials (EraCrypto era)]
-&gt; ProtocolParamsShelleyBased era
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-shelley-0.1.0.0/noopt/doc/html/ouroboros-consensus-shelley/src"><span class="hs-identifier hs-type">ProtocolParamsShelleyBased</span></a></span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-287"></span><span>              </span><span class="annot"><span class="annottext">$sel:shelleyBasedGenesis:ProtocolParamsShelleyBased :: ShelleyGenesis era2
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-shelley-0.1.0.0/noopt/doc/html/ouroboros-consensus-shelley/src"><span class="hs-identifier hs-var">shelleyBasedGenesis</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ShelleyGenesis era2
</span><a href="#local-6989586621679411407"><span class="hs-identifier hs-var">genesis2</span></a></span><span>
</span><span id="line-288"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Nonce
$sel:shelleyBasedInitialNonce:ProtocolParamsShelleyBased :: Nonce
shelleyBasedInitialNonce :: Nonce
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-shelley-0.1.0.0/noopt/doc/html/ouroboros-consensus-shelley/src"><span class="hs-identifier hs-var hs-var">shelleyBasedInitialNonce</span></a></span><span>
</span><span id="line-289"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[TPraosLeaderCredentials (EraCrypto era1)]
[TPraosLeaderCredentials (Crypto era2)]
$sel:shelleyBasedLeaderCredentials:ProtocolParamsShelleyBased :: [TPraosLeaderCredentials (Crypto era2)]
shelleyBasedLeaderCredentials :: [TPraosLeaderCredentials (EraCrypto era1)]
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-shelley-0.1.0.0/noopt/doc/html/ouroboros-consensus-shelley/src"><span class="hs-identifier hs-var hs-var">shelleyBasedLeaderCredentials</span></a></span><span>
</span><span id="line-290"></span><span>            </span><span class="hs-special">}</span><span>
</span><span id="line-291"></span><span>          </span><span class="annot"><span class="annottext">TranslationContext era2
</span><a href="#local-6989586621679411414"><span class="hs-identifier hs-var">transCtxt2</span></a></span><span>
</span><span id="line-292"></span><span>          </span><span class="annot"><span class="annottext">ProtVer
</span><a href="#local-6989586621679411438"><span class="hs-identifier hs-var">protVer2</span></a></span><span>
</span><span id="line-293"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TxMeasure (ShelleyBlock era2) -&gt; Overrides (ShelleyBlock era2)
forall blk. TxMeasure blk -&gt; Overrides blk
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var">TxLimits.mkOverrides</span></a></span><span> </span><span class="annot"><span class="annottext">TxMeasure (ShelleyBlock era2)
forall a. BoundedMeasure a =&gt; a
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var">TxLimits.noOverridesMeasure</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-294"></span><span>
</span><span id="line-295"></span><span>    </span><span class="annot"><a href="#local-6989586621679411430"><span class="hs-identifier hs-type">eraParams2</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">History.EraParams</span></a></span><span>
</span><span id="line-296"></span><span>    </span><span id="local-6989586621679411430"><span class="annot"><span class="annottext">eraParams2 :: EraParams
</span><a href="#local-6989586621679411430"><span class="hs-identifier hs-var hs-var">eraParams2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ShelleyGenesis era2 -&gt; EraParams
forall era. ShelleyGenesis era -&gt; EraParams
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-shelley-0.1.0.0/noopt/doc/html/ouroboros-consensus-shelley/src"><span class="hs-identifier hs-var">shelleyEraParams</span></a></span><span> </span><span class="annot"><span class="annottext">ShelleyGenesis era2
</span><a href="#local-6989586621679411407"><span class="hs-identifier hs-var">genesis2</span></a></span><span>
</span><span id="line-297"></span><span>
</span><span id="line-298"></span><span>    </span><span class="annot"><a href="#local-6989586621679411429"><span class="hs-identifier hs-type">toPartialLedgerConfig2</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-299"></span><span>         </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">LedgerConfig</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-shelley-0.1.0.0/noopt/doc/html/ouroboros-consensus-shelley/src"><span class="hs-identifier hs-type">ShelleyBlock</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679411441"><span class="hs-identifier hs-type">era2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-300"></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">PartialLedgerConfig</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-shelley-0.1.0.0/noopt/doc/html/ouroboros-consensus-shelley/src"><span class="hs-identifier hs-type">ShelleyBlock</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679411441"><span class="hs-identifier hs-type">era2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-301"></span><span>    </span><span id="local-6989586621679411429"><span class="annot"><span class="annottext">toPartialLedgerConfig2 :: LedgerConfig (ShelleyBlock era2)
-&gt; PartialLedgerConfig (ShelleyBlock era2)
</span><a href="#local-6989586621679411429"><span class="hs-identifier hs-var hs-var">toPartialLedgerConfig2</span></a></span></span><span> </span><span id="local-6989586621679411406"><span class="annot"><span class="annottext">LedgerConfig (ShelleyBlock era2)
</span><a href="#local-6989586621679411406"><span class="hs-identifier hs-var">cfg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ShelleyPartialLedgerConfig :: forall era.
ShelleyLedgerConfig era
-&gt; TriggerHardFork -&gt; ShelleyPartialLedgerConfig era
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-shelley-0.1.0.0/noopt/doc/html/ouroboros-consensus-shelley/src"><span class="hs-identifier hs-type">ShelleyPartialLedgerConfig</span></a></span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-302"></span><span>          </span><span class="annot"><span class="annottext">shelleyLedgerConfig :: ShelleyLedgerConfig era2
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-shelley-0.1.0.0/noopt/doc/html/ouroboros-consensus-shelley/src"><span class="hs-identifier hs-var">shelleyLedgerConfig</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LedgerConfig (ShelleyBlock era2)
ShelleyLedgerConfig era2
</span><a href="#local-6989586621679411406"><span class="hs-identifier hs-var">cfg</span></a></span><span>
</span><span id="line-303"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">shelleyTriggerHardFork :: TriggerHardFork
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-shelley-0.1.0.0/noopt/doc/html/ouroboros-consensus-shelley/src"><span class="hs-identifier hs-var">shelleyTriggerHardFork</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TriggerHardFork
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-var">TriggerHardForkNever</span></a></span><span>
</span><span id="line-304"></span><span>        </span><span class="hs-special">}</span><span>
</span><span id="line-305"></span><span>
</span><span id="line-306"></span><span class="hs-comment">{-------------------------------------------------------------------------------
  TxGen instance
-------------------------------------------------------------------------------}</span><span>
</span><span id="line-309"></span><span>
</span><span id="line-310"></span><span class="hs-comment">-- | Use a generic implementation for 'TxGen'</span><span>
</span><span id="line-311"></span><span id="local-6989586621679411403"><span id="local-6989586621679411404"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-test-0.1.0.0/noopt/doc/html/ouroboros-consensus-test/src"><span class="hs-identifier hs-type">TxGen</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-shelley-0.1.0.0/noopt/doc/html/ouroboros-consensus-shelley/src"><span class="hs-identifier hs-type">ShelleyBlock</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679411404"><span class="hs-identifier hs-type">era1</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-312"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-test-0.1.0.0/noopt/doc/html/ouroboros-consensus-test/src"><span class="hs-identifier hs-type">TxGen</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-shelley-0.1.0.0/noopt/doc/html/ouroboros-consensus-shelley/src"><span class="hs-identifier hs-type">ShelleyBlock</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679411403"><span class="hs-identifier hs-type">era2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-313"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Test.ThreadNet.Infra.ShelleyBasedHardFork.html#ShelleyBasedHardForkConstraints"><span class="hs-identifier hs-type">ShelleyBasedHardForkConstraints</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679411404"><span class="hs-identifier hs-type">era1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679411403"><span class="hs-identifier hs-type">era2</span></a></span><span>
</span><span id="line-314"></span><span>         </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-test-0.1.0.0/noopt/doc/html/ouroboros-consensus-test/src"><span class="hs-identifier hs-type">TxGen</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Test.ThreadNet.Infra.ShelleyBasedHardFork.html#ShelleyBasedHardForkBlock"><span class="hs-identifier hs-type">ShelleyBasedHardForkBlock</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679411404"><span class="hs-identifier hs-type">era1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679411403"><span class="hs-identifier hs-type">era2</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-315"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="TxGenExtra"><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-test-0.1.0.0/noopt/doc/html/ouroboros-consensus-test/src"><span class="hs-identifier hs-var">TxGenExtra</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Test.ThreadNet.Infra.ShelleyBasedHardFork.html#ShelleyBasedHardForkBlock"><span class="hs-identifier hs-type">ShelleyBasedHardForkBlock</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679411404"><span class="hs-identifier hs-type">era1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679411403"><span class="hs-identifier hs-type">era2</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-316"></span><span>    </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/src"><span class="hs-identifier hs-type">NP</span></a></span><span> </span><span class="annot"><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-test-0.1.0.0/noopt/doc/html/ouroboros-consensus-test/src"><span class="hs-identifier hs-type">WrapTxGenExtra</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Test.ThreadNet.Infra.ShelleyBasedHardFork.html#ShelleyBasedHardForkEras"><span class="hs-identifier hs-type">ShelleyBasedHardForkEras</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679411404"><span class="hs-identifier hs-type">era1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679411403"><span class="hs-identifier hs-type">era2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-317"></span><span>  </span><span id="local-6989586621679411400"><span class="annot"><span class="annottext">testGenTxs :: CoreNodeId
-&gt; NumCoreNodes
-&gt; SlotNo
-&gt; TopLevelConfig (ShelleyBasedHardForkBlock era1 era2)
-&gt; TxGenExtra (ShelleyBasedHardForkBlock era1 era2)
-&gt; LedgerState (ShelleyBasedHardForkBlock era1 era2)
-&gt; Gen [GenTx (ShelleyBasedHardForkBlock era1 era2)]
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-test-0.1.0.0/noopt/doc/html/ouroboros-consensus-test/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">testGenTxs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CoreNodeId
-&gt; NumCoreNodes
-&gt; SlotNo
-&gt; TopLevelConfig (ShelleyBasedHardForkBlock era1 era2)
-&gt; TxGenExtra (ShelleyBasedHardForkBlock era1 era2)
-&gt; LedgerState (ShelleyBasedHardForkBlock era1 era2)
-&gt; Gen [GenTx (ShelleyBasedHardForkBlock era1 era2)]
forall (xs :: [*]).
(All TxGen xs, CanHardFork xs) =&gt;
CoreNodeId
-&gt; NumCoreNodes
-&gt; SlotNo
-&gt; TopLevelConfig (HardForkBlock xs)
-&gt; NP WrapTxGenExtra xs
-&gt; LedgerState (HardForkBlock xs)
-&gt; Gen [GenTx (HardForkBlock xs)]
</span><a href="../file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-test-0.1.0.0/noopt/doc/html/ouroboros-consensus-test/src"><span class="hs-identifier hs-var">testGenTxsHfc</span></a></span></span></span><span>
</span><span id="line-318"></span></pre></body></html>