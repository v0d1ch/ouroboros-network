<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Ouroboros.Consensus.Storage.ImmutableDB.API</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Ouroboros.Consensus.Storage.ImmutableDB.API.html">Source</a></li><li><a href="&quot;../index.html&quot;">Contents</a></li><li><a href="&quot;../doc-index.html&quot;">Index</a></li></ul><p class="caption">ouroboros-consensus-0.1.0.0: Consensus layer for the Ouroboros blockchain protocol</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Ouroboros.Consensus.Storage.ImmutableDB.API</p></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:ImmutableDB">ImmutableDB</a> hash m = <a href="#v:ImmutableDB">ImmutableDB</a> {<ul class="subs"><li><a href="#v:closeDB_">closeDB_</a> &#8759; <a href="Ouroboros-Consensus-Util-CallStack.html#t:HasCallStack" title="Ouroboros.Consensus.Util.CallStack">HasCallStack</a> &#8658; m ()</li><li><a href="#v:isOpen_">isOpen_</a> &#8759; <a href="Ouroboros-Consensus-Util-CallStack.html#t:HasCallStack" title="Ouroboros.Consensus.Util.CallStack">HasCallStack</a> &#8658; m <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li><a href="#v:reopen_">reopen_</a> &#8759; <a href="Ouroboros-Consensus-Util-CallStack.html#t:HasCallStack" title="Ouroboros.Consensus.Util.CallStack">HasCallStack</a> &#8658; <a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html#t:ValidationPolicy" title="Ouroboros.Consensus.Storage.ImmutableDB.Types">ValidationPolicy</a> &#8594; m ()</li><li><a href="#v:getTip_">getTip_</a> &#8759; <a href="Ouroboros-Consensus-Util-CallStack.html#t:HasCallStack" title="Ouroboros.Consensus.Util.CallStack">HasCallStack</a> &#8658; m (<a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html#t:ImmTipWithInfo" title="Ouroboros.Consensus.Storage.ImmutableDB.Types">ImmTipWithInfo</a> hash)</li><li><a href="#v:getBlockComponent_">getBlockComponent_</a> &#8759; &#8704; b. <a href="Ouroboros-Consensus-Util-CallStack.html#t:HasCallStack" title="Ouroboros.Consensus.Util.CallStack">HasCallStack</a> &#8658; <a href="Ouroboros-Consensus-Storage-Common.html#t:BlockComponent" title="Ouroboros.Consensus.Storage.Common">BlockComponent</a> (<a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:ImmutableDB" title="Ouroboros.Consensus.Storage.ImmutableDB.API">ImmutableDB</a> hash m) b &#8594; <a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html#t:SlotNo" title="Ouroboros.Consensus.Storage.ImmutableDB.Types">SlotNo</a> &#8594; m (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> b)</li><li><a href="#v:getEBBComponent_">getEBBComponent_</a> &#8759; &#8704; b. <a href="Ouroboros-Consensus-Util-CallStack.html#t:HasCallStack" title="Ouroboros.Consensus.Util.CallStack">HasCallStack</a> &#8658; <a href="Ouroboros-Consensus-Storage-Common.html#t:BlockComponent" title="Ouroboros.Consensus.Storage.Common">BlockComponent</a> (<a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:ImmutableDB" title="Ouroboros.Consensus.Storage.ImmutableDB.API">ImmutableDB</a> hash m) b &#8594; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-slotting-0.1.0.0/noopt/doc/html/cardano-slotting/Cardano-Slotting-Slot.html#t:EpochNo" title="Cardano.Slotting.Slot">EpochNo</a> &#8594; m (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> b)</li><li><a href="#v:getBlockOrEBBComponent_">getBlockOrEBBComponent_</a> &#8759; &#8704; b. <a href="Ouroboros-Consensus-Util-CallStack.html#t:HasCallStack" title="Ouroboros.Consensus.Util.CallStack">HasCallStack</a> &#8658; <a href="Ouroboros-Consensus-Storage-Common.html#t:BlockComponent" title="Ouroboros.Consensus.Storage.Common">BlockComponent</a> (<a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:ImmutableDB" title="Ouroboros.Consensus.Storage.ImmutableDB.API">ImmutableDB</a> hash m) b &#8594; <a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html#t:SlotNo" title="Ouroboros.Consensus.Storage.ImmutableDB.Types">SlotNo</a> &#8594; hash &#8594; m (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> b)</li><li><a href="#v:appendBlock_">appendBlock_</a> &#8759; <a href="Ouroboros-Consensus-Util-CallStack.html#t:HasCallStack" title="Ouroboros.Consensus.Util.CallStack">HasCallStack</a> &#8658; <a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html#t:SlotNo" title="Ouroboros.Consensus.Storage.ImmutableDB.Types">SlotNo</a> &#8594; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-slotting-0.1.0.0/noopt/doc/html/cardano-slotting/Cardano-Slotting-Block.html#t:BlockNo" title="Cardano.Slotting.Block">BlockNo</a> &#8594; hash &#8594; <a href="Ouroboros-Consensus-Storage-Common.html#t:BinaryInfo" title="Ouroboros.Consensus.Storage.Common">BinaryInfo</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/binary-0.8.6.0/Data-Binary-Builder.html#t:Builder" title="Data.Binary.Builder">Builder</a> &#8594; m ()</li><li><a href="#v:appendEBB_">appendEBB_</a> &#8759; <a href="Ouroboros-Consensus-Util-CallStack.html#t:HasCallStack" title="Ouroboros.Consensus.Util.CallStack">HasCallStack</a> &#8658; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-slotting-0.1.0.0/noopt/doc/html/cardano-slotting/Cardano-Slotting-Slot.html#t:EpochNo" title="Cardano.Slotting.Slot">EpochNo</a> &#8594; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-slotting-0.1.0.0/noopt/doc/html/cardano-slotting/Cardano-Slotting-Block.html#t:BlockNo" title="Cardano.Slotting.Block">BlockNo</a> &#8594; hash &#8594; <a href="Ouroboros-Consensus-Storage-Common.html#t:BinaryInfo" title="Ouroboros.Consensus.Storage.Common">BinaryInfo</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/binary-0.8.6.0/Data-Binary-Builder.html#t:Builder" title="Data.Binary.Builder">Builder</a> &#8594; m ()</li><li><a href="#v:stream_">stream_</a> &#8759; &#8704; b. <a href="Ouroboros-Consensus-Util-CallStack.html#t:HasCallStack" title="Ouroboros.Consensus.Util.CallStack">HasCallStack</a> &#8658; <a href="Ouroboros-Consensus-Util-ResourceRegistry.html#t:ResourceRegistry" title="Ouroboros.Consensus.Util.ResourceRegistry">ResourceRegistry</a> m &#8594; <a href="Ouroboros-Consensus-Storage-Common.html#t:BlockComponent" title="Ouroboros.Consensus.Storage.Common">BlockComponent</a> (<a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:ImmutableDB" title="Ouroboros.Consensus.Storage.ImmutableDB.API">ImmutableDB</a> hash m) b &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> (<a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html#t:SlotNo" title="Ouroboros.Consensus.Storage.ImmutableDB.Types">SlotNo</a>, hash) &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> (<a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html#t:SlotNo" title="Ouroboros.Consensus.Storage.ImmutableDB.Types">SlotNo</a>, hash) &#8594; m (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Either.html#t:Either" title="Data.Either">Either</a> (<a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html#t:WrongBoundError" title="Ouroboros.Consensus.Storage.ImmutableDB.Types">WrongBoundError</a> hash) (<a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:Iterator" title="Ouroboros.Consensus.Storage.ImmutableDB.API">Iterator</a> hash m b))</li></ul>}</li><li class="src short"><a href="#v:closeDB">closeDB</a> &#8759; <a href="Ouroboros-Consensus-Util-CallStack.html#t:HasCallStack" title="Ouroboros.Consensus.Util.CallStack">HasCallStack</a> &#8658; <a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:ImmutableDB" title="Ouroboros.Consensus.Storage.ImmutableDB.API">ImmutableDB</a> hash m &#8594; m ()</li><li class="src short"><a href="#v:isOpen">isOpen</a> &#8759; <a href="Ouroboros-Consensus-Util-CallStack.html#t:HasCallStack" title="Ouroboros.Consensus.Util.CallStack">HasCallStack</a> &#8658; <a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:ImmutableDB" title="Ouroboros.Consensus.Storage.ImmutableDB.API">ImmutableDB</a> hash m &#8594; m <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:reopen">reopen</a> &#8759; <a href="Ouroboros-Consensus-Util-CallStack.html#t:HasCallStack" title="Ouroboros.Consensus.Util.CallStack">HasCallStack</a> &#8658; <a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:ImmutableDB" title="Ouroboros.Consensus.Storage.ImmutableDB.API">ImmutableDB</a> hash m &#8594; <a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html#t:ValidationPolicy" title="Ouroboros.Consensus.Storage.ImmutableDB.Types">ValidationPolicy</a> &#8594; m ()</li><li class="src short"><a href="#v:getTip">getTip</a> &#8759; <a href="Ouroboros-Consensus-Util-CallStack.html#t:HasCallStack" title="Ouroboros.Consensus.Util.CallStack">HasCallStack</a> &#8658; <a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:ImmutableDB" title="Ouroboros.Consensus.Storage.ImmutableDB.API">ImmutableDB</a> hash m &#8594; m (<a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html#t:ImmTipWithInfo" title="Ouroboros.Consensus.Storage.ImmutableDB.Types">ImmTipWithInfo</a> hash)</li><li class="src short"><a href="#v:getBlockComponent">getBlockComponent</a> &#8759; <a href="Ouroboros-Consensus-Util-CallStack.html#t:HasCallStack" title="Ouroboros.Consensus.Util.CallStack">HasCallStack</a> &#8658; <a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:ImmutableDB" title="Ouroboros.Consensus.Storage.ImmutableDB.API">ImmutableDB</a> hash m &#8594; <a href="Ouroboros-Consensus-Storage-Common.html#t:BlockComponent" title="Ouroboros.Consensus.Storage.Common">BlockComponent</a> (<a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:ImmutableDB" title="Ouroboros.Consensus.Storage.ImmutableDB.API">ImmutableDB</a> hash m) b &#8594; <a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html#t:SlotNo" title="Ouroboros.Consensus.Storage.ImmutableDB.Types">SlotNo</a> &#8594; m (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> b)</li><li class="src short"><a href="#v:getEBBComponent">getEBBComponent</a> &#8759; <a href="Ouroboros-Consensus-Util-CallStack.html#t:HasCallStack" title="Ouroboros.Consensus.Util.CallStack">HasCallStack</a> &#8658; <a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:ImmutableDB" title="Ouroboros.Consensus.Storage.ImmutableDB.API">ImmutableDB</a> hash m &#8594; <a href="Ouroboros-Consensus-Storage-Common.html#t:BlockComponent" title="Ouroboros.Consensus.Storage.Common">BlockComponent</a> (<a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:ImmutableDB" title="Ouroboros.Consensus.Storage.ImmutableDB.API">ImmutableDB</a> hash m) b &#8594; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-slotting-0.1.0.0/noopt/doc/html/cardano-slotting/Cardano-Slotting-Slot.html#t:EpochNo" title="Cardano.Slotting.Slot">EpochNo</a> &#8594; m (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> b)</li><li class="src short"><a href="#v:getBlockOrEBBComponent">getBlockOrEBBComponent</a> &#8759; <a href="Ouroboros-Consensus-Util-CallStack.html#t:HasCallStack" title="Ouroboros.Consensus.Util.CallStack">HasCallStack</a> &#8658; <a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:ImmutableDB" title="Ouroboros.Consensus.Storage.ImmutableDB.API">ImmutableDB</a> hash m &#8594; <a href="Ouroboros-Consensus-Storage-Common.html#t:BlockComponent" title="Ouroboros.Consensus.Storage.Common">BlockComponent</a> (<a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:ImmutableDB" title="Ouroboros.Consensus.Storage.ImmutableDB.API">ImmutableDB</a> hash m) b &#8594; <a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html#t:SlotNo" title="Ouroboros.Consensus.Storage.ImmutableDB.Types">SlotNo</a> &#8594; hash &#8594; m (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> b)</li><li class="src short"><a href="#v:appendBlock">appendBlock</a> &#8759; <a href="Ouroboros-Consensus-Util-CallStack.html#t:HasCallStack" title="Ouroboros.Consensus.Util.CallStack">HasCallStack</a> &#8658; <a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:ImmutableDB" title="Ouroboros.Consensus.Storage.ImmutableDB.API">ImmutableDB</a> hash m &#8594; <a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html#t:SlotNo" title="Ouroboros.Consensus.Storage.ImmutableDB.Types">SlotNo</a> &#8594; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-slotting-0.1.0.0/noopt/doc/html/cardano-slotting/Cardano-Slotting-Block.html#t:BlockNo" title="Cardano.Slotting.Block">BlockNo</a> &#8594; hash &#8594; <a href="Ouroboros-Consensus-Storage-Common.html#t:BinaryInfo" title="Ouroboros.Consensus.Storage.Common">BinaryInfo</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/binary-0.8.6.0/Data-Binary-Builder.html#t:Builder" title="Data.Binary.Builder">Builder</a> &#8594; m ()</li><li class="src short"><a href="#v:appendEBB">appendEBB</a> &#8759; <a href="Ouroboros-Consensus-Util-CallStack.html#t:HasCallStack" title="Ouroboros.Consensus.Util.CallStack">HasCallStack</a> &#8658; <a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:ImmutableDB" title="Ouroboros.Consensus.Storage.ImmutableDB.API">ImmutableDB</a> hash m &#8594; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-slotting-0.1.0.0/noopt/doc/html/cardano-slotting/Cardano-Slotting-Slot.html#t:EpochNo" title="Cardano.Slotting.Slot">EpochNo</a> &#8594; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-slotting-0.1.0.0/noopt/doc/html/cardano-slotting/Cardano-Slotting-Block.html#t:BlockNo" title="Cardano.Slotting.Block">BlockNo</a> &#8594; hash &#8594; <a href="Ouroboros-Consensus-Storage-Common.html#t:BinaryInfo" title="Ouroboros.Consensus.Storage.Common">BinaryInfo</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/binary-0.8.6.0/Data-Binary-Builder.html#t:Builder" title="Data.Binary.Builder">Builder</a> &#8594; m ()</li><li class="src short"><a href="#v:stream">stream</a> &#8759; <a href="Ouroboros-Consensus-Util-CallStack.html#t:HasCallStack" title="Ouroboros.Consensus.Util.CallStack">HasCallStack</a> &#8658; <a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:ImmutableDB" title="Ouroboros.Consensus.Storage.ImmutableDB.API">ImmutableDB</a> hash m &#8594; <a href="Ouroboros-Consensus-Util-ResourceRegistry.html#t:ResourceRegistry" title="Ouroboros.Consensus.Util.ResourceRegistry">ResourceRegistry</a> m &#8594; <a href="Ouroboros-Consensus-Storage-Common.html#t:BlockComponent" title="Ouroboros.Consensus.Storage.Common">BlockComponent</a> (<a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:ImmutableDB" title="Ouroboros.Consensus.Storage.ImmutableDB.API">ImmutableDB</a> hash m) b &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> (<a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html#t:SlotNo" title="Ouroboros.Consensus.Storage.ImmutableDB.Types">SlotNo</a>, hash) &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> (<a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html#t:SlotNo" title="Ouroboros.Consensus.Storage.ImmutableDB.Types">SlotNo</a>, hash) &#8594; m (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Either.html#t:Either" title="Data.Either">Either</a> (<a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html#t:WrongBoundError" title="Ouroboros.Consensus.Storage.ImmutableDB.Types">WrongBoundError</a> hash) (<a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:Iterator" title="Ouroboros.Consensus.Storage.ImmutableDB.API">Iterator</a> hash m b))</li><li class="src short"><span class="keyword">data</span> <a href="#t:Iterator">Iterator</a> hash m a = <a href="#v:Iterator">Iterator</a> {<ul class="subs"><li><a href="#v:iteratorNext">iteratorNext</a> &#8759; <a href="Ouroboros-Consensus-Util-CallStack.html#t:HasCallStack" title="Ouroboros.Consensus.Util.CallStack">HasCallStack</a> &#8658; m (<a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:IteratorResult" title="Ouroboros.Consensus.Storage.ImmutableDB.API">IteratorResult</a> a)</li><li><a href="#v:iteratorPeek">iteratorPeek</a> &#8759; <a href="Ouroboros-Consensus-Util-CallStack.html#t:HasCallStack" title="Ouroboros.Consensus.Util.CallStack">HasCallStack</a> &#8658; m (<a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:IteratorResult" title="Ouroboros.Consensus.Storage.ImmutableDB.API">IteratorResult</a> a)</li><li><a href="#v:iteratorHasNext">iteratorHasNext</a> &#8759; <a href="Ouroboros-Consensus-Util-CallStack.html#t:HasCallStack" title="Ouroboros.Consensus.Util.CallStack">HasCallStack</a> &#8658; m (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-slotting-0.1.0.0/noopt/doc/html/cardano-slotting/Cardano-Slotting-Slot.html#t:EpochNo" title="Cardano.Slotting.Slot">EpochNo</a> <a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html#t:SlotNo" title="Ouroboros.Consensus.Storage.ImmutableDB.Types">SlotNo</a>, hash))</li><li><a href="#v:iteratorClose">iteratorClose</a> &#8759; <a href="Ouroboros-Consensus-Util-CallStack.html#t:HasCallStack" title="Ouroboros.Consensus.Util.CallStack">HasCallStack</a> &#8658; m ()</li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:IteratorResult">IteratorResult</a> a<ul class="subs"><li>= <a href="#v:IteratorExhausted">IteratorExhausted</a></li><li>| <a href="#v:IteratorResult">IteratorResult</a> a</li></ul></li><li class="src short"><a href="#v:traverseIterator">traverseIterator</a> &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m &#8658; (a &#8594; m b) &#8594; <a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:Iterator" title="Ouroboros.Consensus.Storage.ImmutableDB.API">Iterator</a> hash m a &#8594; <a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:Iterator" title="Ouroboros.Consensus.Storage.ImmutableDB.API">Iterator</a> hash m b</li><li class="src short"><a href="#v:iteratorToList">iteratorToList</a> &#8759; (<a href="Ouroboros-Consensus-Util-CallStack.html#t:HasCallStack" title="Ouroboros.Consensus.Util.CallStack">HasCallStack</a>, <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m) &#8658; <a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:Iterator" title="Ouroboros.Consensus.Storage.ImmutableDB.API">Iterator</a> hash m a &#8594; m [a]</li><li class="src short">module <a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html">Ouroboros.Consensus.Storage.ImmutableDB.Types</a></li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ImmutableDB" class="def">ImmutableDB</a> hash m <a href="src/Ouroboros.Consensus.Storage.ImmutableDB.API.html#ImmutableDB" class="link">Source</a> <a href="#t:ImmutableDB" class="selflink">#</a></p><div class="doc"><p>API for the <code><a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:ImmutableDB" title="Ouroboros.Consensus.Storage.ImmutableDB.API">ImmutableDB</a></code>.</p><p>The <code><a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:ImmutableDB" title="Ouroboros.Consensus.Storage.ImmutableDB.API">ImmutableDB</a></code> stores binary blobs in <code><a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html#t:SlotNo" title="Ouroboros.Consensus.Storage.ImmutableDB.Types">SlotNo</a></code>s, i.e. the blocks of a
 chain.</p><p>The database is append-only, so you cannot append a blob to a slot in the
 past. You can, however, skip slots, e.g., append to slot 0 and then to slot
 5, but afterwards, you can no longer append to slots 1-4. You can only
 store at most one blob in each slot. It is not allowed to store an empty
 blob in a slot (we would need a way to distinguish an empty blob from an
 empty slot).</p><p>The blob stored in a slot can be queried with <code>getBinaryBlob</code>. Blobs can be
 efficiently streamed using <code><a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:Iterator" title="Ouroboros.Consensus.Storage.ImmutableDB.API">Iterator</a></code>s, see <code>streamBinaryBlobs</code>.</p><p>An Epoch Boundary Block (EBB) can be appended to the start of each epoch
 using <code><a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#v:appendEBB" title="Ouroboros.Consensus.Storage.ImmutableDB.API">appendEBB</a></code>.</p><p>The <code>Tip</code> of the database can be queried with <code><a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#v:getTip" title="Ouroboros.Consensus.Storage.ImmutableDB.API">getTip</a></code>. This tip will
 always point to a filled slot or an EBB that is present.</p><p>It is possible to delete blobs from the database using <code>deleteAfter</code>.</p><p>The database can be explicitly closed, but can also be automatically closed
 in case of an <code><a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html#t:ImmutableDBError" title="Ouroboros.Consensus.Storage.ImmutableDB.Types">ImmutableDBError</a></code>.
 Use <code><a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#v:reopen" title="Ouroboros.Consensus.Storage.ImmutableDB.API">reopen</a></code> to reopen the database.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:ImmutableDB" class="def">ImmutableDB</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:closeDB_" class="def">closeDB_</a> &#8759; <a href="Ouroboros-Consensus-Util-CallStack.html#t:HasCallStack" title="Ouroboros.Consensus.Util.CallStack">HasCallStack</a> &#8658; m ()</dfn><div class="doc"><p>Close the database.</p><p>Idempotent.</p><p><strong>Note</strong>: Use <code>withDB</code> instead of this function.</p></div></li><li><dfn class="src"><a id="v:isOpen_" class="def">isOpen_</a> &#8759; <a href="Ouroboros-Consensus-Util-CallStack.html#t:HasCallStack" title="Ouroboros.Consensus.Util.CallStack">HasCallStack</a> &#8658; m <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></dfn><div class="doc"><p>Return <code><a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Bool.html#v:True" title="Data.Bool">True</a></code> when the database is open.</p></div></li><li><dfn class="src"><a id="v:reopen_" class="def">reopen_</a> &#8759; <a href="Ouroboros-Consensus-Util-CallStack.html#t:HasCallStack" title="Ouroboros.Consensus.Util.CallStack">HasCallStack</a> &#8658; <a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html#t:ValidationPolicy" title="Ouroboros.Consensus.Storage.ImmutableDB.Types">ValidationPolicy</a> &#8594; m ()</dfn><div class="doc"><p>When the database was closed, manually or because of an
 <code><a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html#t:ImmutableDBError" title="Ouroboros.Consensus.Storage.ImmutableDB.Types">ImmutableDBError</a></code> during an
 operation, recover using the given <code><a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html#t:ValidationPolicy" title="Ouroboros.Consensus.Storage.ImmutableDB.Types">ValidationPolicy</a></code> and reopen it at
 the most recent epoch.</p><p>During validation, the database will be truncated to the last valid
 block or EBB stored in it. The tip of the database will never point to
 an unfilled slot or missing EBB.</p><p>Throws an <code><a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html#v:OpenDBError" title="Ouroboros.Consensus.Storage.ImmutableDB.Types">OpenDBError</a></code> if the database is open.</p></div></li><li><dfn class="src"><a id="v:getTip_" class="def">getTip_</a> &#8759; <a href="Ouroboros-Consensus-Util-CallStack.html#t:HasCallStack" title="Ouroboros.Consensus.Util.CallStack">HasCallStack</a> &#8658; m (<a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html#t:ImmTipWithInfo" title="Ouroboros.Consensus.Storage.ImmutableDB.Types">ImmTipWithInfo</a> hash)</dfn><div class="doc"><p>Return the tip of the database.</p><p>The tip of the database will never point to an unfilled slot or missing
 EBB.</p><p>Throws a <code><a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html#v:ClosedDBError" title="Ouroboros.Consensus.Storage.ImmutableDB.Types">ClosedDBError</a></code> if the database is closed.</p></div></li><li><dfn class="src"><a id="v:getBlockComponent_" class="def">getBlockComponent_</a> &#8759; &#8704; b. <a href="Ouroboros-Consensus-Util-CallStack.html#t:HasCallStack" title="Ouroboros.Consensus.Util.CallStack">HasCallStack</a> &#8658; <a href="Ouroboros-Consensus-Storage-Common.html#t:BlockComponent" title="Ouroboros.Consensus.Storage.Common">BlockComponent</a> (<a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:ImmutableDB" title="Ouroboros.Consensus.Storage.ImmutableDB.API">ImmutableDB</a> hash m) b &#8594; <a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html#t:SlotNo" title="Ouroboros.Consensus.Storage.ImmutableDB.Types">SlotNo</a> &#8594; m (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> b)</dfn><div class="doc"><p>Get the block component of the block at the given <code><a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html#t:SlotNo" title="Ouroboros.Consensus.Storage.ImmutableDB.Types">SlotNo</a></code>.</p><p>Returns <code><a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Maybe.html#v:Nothing" title="GHC.Maybe">Nothing</a></code> if no blob was stored at the given slot.</p><p>Throws a <code><a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html#v:ReadFutureSlotError" title="Ouroboros.Consensus.Storage.ImmutableDB.Types">ReadFutureSlotError</a></code> if the requested slot is in the future,
 i.e &gt; the result of <code><a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#v:getTip" title="Ouroboros.Consensus.Storage.ImmutableDB.API">getTip</a></code>.</p><p>Throws a <code><a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html#v:ClosedDBError" title="Ouroboros.Consensus.Storage.ImmutableDB.Types">ClosedDBError</a></code> if the database is closed.</p></div></li><li><dfn class="src"><a id="v:getEBBComponent_" class="def">getEBBComponent_</a> &#8759; &#8704; b. <a href="Ouroboros-Consensus-Util-CallStack.html#t:HasCallStack" title="Ouroboros.Consensus.Util.CallStack">HasCallStack</a> &#8658; <a href="Ouroboros-Consensus-Storage-Common.html#t:BlockComponent" title="Ouroboros.Consensus.Storage.Common">BlockComponent</a> (<a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:ImmutableDB" title="Ouroboros.Consensus.Storage.ImmutableDB.API">ImmutableDB</a> hash m) b &#8594; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-slotting-0.1.0.0/noopt/doc/html/cardano-slotting/Cardano-Slotting-Slot.html#t:EpochNo" title="Cardano.Slotting.Slot">EpochNo</a> &#8594; m (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> b)</dfn><div class="doc"><p>Get the block component of the EBB (Epoch Boundary Block) of the
 given epoch.</p><p>Returns <code><a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Maybe.html#v:Nothing" title="GHC.Maybe">Nothing</a></code> if no EEB was stored for the given epoch.</p><p>Throws a <code><a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html#v:ReadFutureEBBError" title="Ouroboros.Consensus.Storage.ImmutableDB.Types">ReadFutureEBBError</a></code> if the requested EBB is in the future.</p><p>Throws a <code><a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html#v:ClosedDBError" title="Ouroboros.Consensus.Storage.ImmutableDB.Types">ClosedDBError</a></code> if the database is closed.</p></div></li><li><dfn class="src"><a id="v:getBlockOrEBBComponent_" class="def">getBlockOrEBBComponent_</a> &#8759; &#8704; b. <a href="Ouroboros-Consensus-Util-CallStack.html#t:HasCallStack" title="Ouroboros.Consensus.Util.CallStack">HasCallStack</a> &#8658; <a href="Ouroboros-Consensus-Storage-Common.html#t:BlockComponent" title="Ouroboros.Consensus.Storage.Common">BlockComponent</a> (<a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:ImmutableDB" title="Ouroboros.Consensus.Storage.ImmutableDB.API">ImmutableDB</a> hash m) b &#8594; <a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html#t:SlotNo" title="Ouroboros.Consensus.Storage.ImmutableDB.Types">SlotNo</a> &#8594; hash &#8594; m (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> b)</dfn><div class="doc"><p>Get the block component of the block or EBB at the given slot with
 the given hash.</p><p>Also return <code><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-slotting-0.1.0.0/noopt/doc/html/cardano-slotting/Cardano-Slotting-Slot.html#t:EpochNo" title="Cardano.Slotting.Slot">EpochNo</a></code> in case of an EBB or the given <code><a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html#t:SlotNo" title="Ouroboros.Consensus.Storage.ImmutableDB.Types">SlotNo</a></code> in case
 of a regular block.</p><p>If the slot is empty, <code><a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Maybe.html#v:Nothing" title="GHC.Maybe">Nothing</a></code> is returned. If the slot is not empty,
 but the block (and or the EBB) in it doesn't have the given hash,
 <code><a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Maybe.html#v:Nothing" title="GHC.Maybe">Nothing</a></code> is also returned.</p><p>Throws a <code><a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html#v:ReadFutureSlotError" title="Ouroboros.Consensus.Storage.ImmutableDB.Types">ReadFutureSlotError</a></code> if the requested slot is in the future.</p><p>Throws a <code><a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html#v:ClosedDBError" title="Ouroboros.Consensus.Storage.ImmutableDB.Types">ClosedDBError</a></code> if the database is closed.</p></div></li><li><dfn class="src"><a id="v:appendBlock_" class="def">appendBlock_</a> &#8759; <a href="Ouroboros-Consensus-Util-CallStack.html#t:HasCallStack" title="Ouroboros.Consensus.Util.CallStack">HasCallStack</a> &#8658; <a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html#t:SlotNo" title="Ouroboros.Consensus.Storage.ImmutableDB.Types">SlotNo</a> &#8594; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-slotting-0.1.0.0/noopt/doc/html/cardano-slotting/Cardano-Slotting-Block.html#t:BlockNo" title="Cardano.Slotting.Block">BlockNo</a> &#8594; hash &#8594; <a href="Ouroboros-Consensus-Storage-Common.html#t:BinaryInfo" title="Ouroboros.Consensus.Storage.Common">BinaryInfo</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/binary-0.8.6.0/Data-Binary-Builder.html#t:Builder" title="Data.Binary.Builder">Builder</a> &#8594; m ()</dfn><div class="doc"><p>Appends a block at the given slot.</p><p>Throws an <code><a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html#v:AppendToSlotInThePastError" title="Ouroboros.Consensus.Storage.ImmutableDB.Types">AppendToSlotInThePastError</a></code> if the given slot is &lt;= the
 result of <code><a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#v:getTip" title="Ouroboros.Consensus.Storage.ImmutableDB.API">getTip</a></code>.</p><p>Throws a <code><a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html#v:ClosedDBError" title="Ouroboros.Consensus.Storage.ImmutableDB.Types">ClosedDBError</a></code> if the database is closed.</p><p>TODO the given binary blob may not be empty.</p></div></li><li><dfn class="src"><a id="v:appendEBB_" class="def">appendEBB_</a> &#8759; <a href="Ouroboros-Consensus-Util-CallStack.html#t:HasCallStack" title="Ouroboros.Consensus.Util.CallStack">HasCallStack</a> &#8658; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-slotting-0.1.0.0/noopt/doc/html/cardano-slotting/Cardano-Slotting-Slot.html#t:EpochNo" title="Cardano.Slotting.Slot">EpochNo</a> &#8594; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-slotting-0.1.0.0/noopt/doc/html/cardano-slotting/Cardano-Slotting-Block.html#t:BlockNo" title="Cardano.Slotting.Block">BlockNo</a> &#8594; hash &#8594; <a href="Ouroboros-Consensus-Storage-Common.html#t:BinaryInfo" title="Ouroboros.Consensus.Storage.Common">BinaryInfo</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/binary-0.8.6.0/Data-Binary-Builder.html#t:Builder" title="Data.Binary.Builder">Builder</a> &#8594; m ()</dfn><div class="doc"><p>Appends a block as the EBB of the given epoch.</p><p>The EEB can only be added before regular blobs are appended to the
 current epoch.</p><p>Throws an <code><a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html#v:AppendToEBBInThePastError" title="Ouroboros.Consensus.Storage.ImmutableDB.Types">AppendToEBBInThePastError</a></code> if the given epoch is before the
 current or if the blobs have already been appended to the current
 epoch.</p><p>Throws a <code><a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html#v:ClosedDBError" title="Ouroboros.Consensus.Storage.ImmutableDB.Types">ClosedDBError</a></code> if the database is closed.</p><p>TODO the given binary blob may not be empty.</p></div></li><li><dfn class="src"><a id="v:stream_" class="def">stream_</a> &#8759; &#8704; b. <a href="Ouroboros-Consensus-Util-CallStack.html#t:HasCallStack" title="Ouroboros.Consensus.Util.CallStack">HasCallStack</a> &#8658; <a href="Ouroboros-Consensus-Util-ResourceRegistry.html#t:ResourceRegistry" title="Ouroboros.Consensus.Util.ResourceRegistry">ResourceRegistry</a> m &#8594; <a href="Ouroboros-Consensus-Storage-Common.html#t:BlockComponent" title="Ouroboros.Consensus.Storage.Common">BlockComponent</a> (<a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:ImmutableDB" title="Ouroboros.Consensus.Storage.ImmutableDB.API">ImmutableDB</a> hash m) b &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> (<a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html#t:SlotNo" title="Ouroboros.Consensus.Storage.ImmutableDB.Types">SlotNo</a>, hash) &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> (<a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html#t:SlotNo" title="Ouroboros.Consensus.Storage.ImmutableDB.Types">SlotNo</a>, hash) &#8594; m (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Either.html#t:Either" title="Data.Either">Either</a> (<a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html#t:WrongBoundError" title="Ouroboros.Consensus.Storage.ImmutableDB.Types">WrongBoundError</a> hash) (<a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:Iterator" title="Ouroboros.Consensus.Storage.ImmutableDB.API">Iterator</a> hash m b))</dfn><div class="doc"><p>Return an <code><a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:Iterator" title="Ouroboros.Consensus.Storage.ImmutableDB.API">Iterator</a></code> to efficiently stream binary blocks out of the
 database.</p><p>Optionally, a start position (first argument) and/or a stop position
 (second argument) can be given that will be used to determine which
 range of blocks should be streamed.</p><p>The start and stop position are of type <code>(SlotNo, hash)</code>. Both are
 inclusive bounds. The <code><a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html#t:SlotNo" title="Ouroboros.Consensus.Storage.ImmutableDB.Types">SlotNo</a></code> can refer to an EBB, in which case the
 <code>hash</code> is used to distinguish it from the regular block in the same
 slot. When there is no block (or EBB) in the given slot with the given
 hash, a <code><a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html#t:WrongBoundError" title="Ouroboros.Consensus.Storage.ImmutableDB.Types">WrongBoundError</a></code> is returned.</p><p>When no start position is given, streaming wil start from the first
 block in the database. When no stop position is given, streaming will
 stop at the tip of the database at the time of opening the iterator.
 This means that appends happening while streaming will not be visible
 to the iterator.</p><p>Slots that do not store a block are skipped by the iterator.</p><p>Throws an <code><a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html#v:InvalidIteratorRangeError" title="Ouroboros.Consensus.Storage.ImmutableDB.Types">InvalidIteratorRangeError</a></code> if the start of the range is
 greater than the end of the range.</p><p>NOTE: <code><a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html#t:WrongBoundError" title="Ouroboros.Consensus.Storage.ImmutableDB.Types">WrongBoundError</a></code> is returned, but <code><a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html#v:InvalidIteratorRangeError" title="Ouroboros.Consensus.Storage.ImmutableDB.Types">InvalidIteratorRangeError</a></code> is
 thrown. This is because the former is expected to occur during normal
 operation: the user doesn't know upfront if those blocks can be
 streamed or not. Checking it beforehand would be expensive and
 inefficient, and <code>streamBlocks</code> is the best place to do it anyway. The
 latter exception indicates incorrect usage and should not happen during
 normal operation.</p><p>Throws a <code><a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html#v:ReadFutureSlotError" title="Ouroboros.Consensus.Storage.ImmutableDB.Types">ReadFutureSlotError</a></code> if the start or end <code><a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html#t:SlotNo" title="Ouroboros.Consensus.Storage.ImmutableDB.Types">SlotNo</a></code> are in the
 future.</p><p>Throws a <code><a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html#v:ClosedDBError" title="Ouroboros.Consensus.Storage.ImmutableDB.Types">ClosedDBError</a></code> if the database is closed.</p><p>The iterator is automatically closed when exhausted, and can be
 prematurely closed with <code><a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#v:iteratorClose" title="Ouroboros.Consensus.Storage.ImmutableDB.API">iteratorClose</a></code>.</p></div></li></ul></div></td></tr></table></div><div class="subs instances"><details id="i:ImmutableDB" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ImmutableDB:NoUnexpectedThunks:1"></span> <a href="Ouroboros-Consensus-Util-IOLike.html#t:NoUnexpectedThunks" title="Ouroboros.Consensus.Util.IOLike">NoUnexpectedThunks</a> (<a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:ImmutableDB" title="Ouroboros.Consensus.Storage.ImmutableDB.API">ImmutableDB</a> hash m)</span> <a href="src/Ouroboros.Consensus.Storage.ImmutableDB.API.html#line-220" class="link">Source</a> <a href="#t:ImmutableDB" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ImmutableDB:NoUnexpectedThunks:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html">Ouroboros.Consensus.Storage.ImmutableDB.API</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:noUnexpectedThunks">noUnexpectedThunks</a> &#8759; [<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a>] &#8594; <a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:ImmutableDB" title="Ouroboros.Consensus.Storage.ImmutableDB.API">ImmutableDB</a> hash m &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-prelude-0.1.0.0/noopt/doc/html/cardano-prelude/Cardano-Prelude-GHC-Heap-NormalForm-Classy.html#t:ThunkInfo" title="Cardano.Prelude.GHC.Heap.NormalForm.Classy">ThunkInfo</a> <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-prelude-0.1.0.0/noopt/doc/html/cardano-prelude/src" class="link">Source</a> <a href="#v:noUnexpectedThunks" class="selflink">#</a></p><p class="src"><a href="#v:whnfNoUnexpectedThunks">whnfNoUnexpectedThunks</a> &#8759; [<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a>] &#8594; <a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:ImmutableDB" title="Ouroboros.Consensus.Storage.ImmutableDB.API">ImmutableDB</a> hash m &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-prelude-0.1.0.0/noopt/doc/html/cardano-prelude/Cardano-Prelude-GHC-Heap-NormalForm-Classy.html#t:ThunkInfo" title="Cardano.Prelude.GHC.Heap.NormalForm.Classy">ThunkInfo</a> <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-prelude-0.1.0.0/noopt/doc/html/cardano-prelude/src" class="link">Source</a> <a href="#v:whnfNoUnexpectedThunks" class="selflink">#</a></p><p class="src"><a href="#v:showTypeOf">showTypeOf</a> &#8759; <a href="Ouroboros-Consensus-Util-RedundantConstraints.html#t:Proxy" title="Ouroboros.Consensus.Util.RedundantConstraints">Proxy</a> (<a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:ImmutableDB" title="Ouroboros.Consensus.Storage.ImmutableDB.API">ImmutableDB</a> hash m) &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-prelude-0.1.0.0/noopt/doc/html/cardano-prelude/src" class="link">Source</a> <a href="#v:showTypeOf" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ImmutableDB:DB:2"></span> <a href="Ouroboros-Consensus-Storage-Common.html#t:DB" title="Ouroboros.Consensus.Storage.Common">DB</a> (<a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:ImmutableDB" title="Ouroboros.Consensus.Storage.ImmutableDB.API">ImmutableDB</a> hash m)</span> <a href="src/Ouroboros.Consensus.Storage.ImmutableDB.API.html#line-222" class="link">Source</a> <a href="#t:ImmutableDB" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ImmutableDB:DB:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html">Ouroboros.Consensus.Storage.ImmutableDB.API</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="Ouroboros-Consensus-Storage-Common.html#t:DBBlock" title="Ouroboros.Consensus.Storage.Common">DBBlock</a> (<a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:ImmutableDB" title="Ouroboros.Consensus.Storage.ImmutableDB.API">ImmutableDB</a> hash m) &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> <a href="src/Ouroboros.Consensus.Storage.Common.html#DBBlock" class="link">Source</a> <a href="#t:DBBlock" class="selflink">#</a></p><p class="src"><span class="keyword">type</span> <a href="Ouroboros-Consensus-Storage-Common.html#t:DBHeader" title="Ouroboros.Consensus.Storage.Common">DBHeader</a> (<a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:ImmutableDB" title="Ouroboros.Consensus.Storage.ImmutableDB.API">ImmutableDB</a> hash m) &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> <a href="src/Ouroboros.Consensus.Storage.Common.html#DBHeader" class="link">Source</a> <a href="#t:DBHeader" class="selflink">#</a></p><p class="src"><span class="keyword">type</span> <a href="Ouroboros-Consensus-Storage-Common.html#t:DBHeaderHash" title="Ouroboros.Consensus.Storage.Common">DBHeaderHash</a> (<a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:ImmutableDB" title="Ouroboros.Consensus.Storage.ImmutableDB.API">ImmutableDB</a> hash m) &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> <a href="src/Ouroboros.Consensus.Storage.Common.html#DBHeaderHash" class="link">Source</a> <a href="#t:DBHeaderHash" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ImmutableDB:DBBlock:3"></span> <span class="keyword">type</span> <a href="Ouroboros-Consensus-Storage-Common.html#t:DBBlock" title="Ouroboros.Consensus.Storage.Common">DBBlock</a> (<a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:ImmutableDB" title="Ouroboros.Consensus.Storage.ImmutableDB.API">ImmutableDB</a> hash m)</span> <a href="src/Ouroboros.Consensus.Storage.ImmutableDB.API.html#line-225" class="link">Source</a> <a href="#t:ImmutableDB" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ImmutableDB:DBBlock:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html">Ouroboros.Consensus.Storage.ImmutableDB.API</a></p> <div class="src"><span class="keyword">type</span> <a href="Ouroboros-Consensus-Storage-Common.html#t:DBBlock" title="Ouroboros.Consensus.Storage.Common">DBBlock</a> (<a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:ImmutableDB" title="Ouroboros.Consensus.Storage.ImmutableDB.API">ImmutableDB</a> hash m) = ()</div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ImmutableDB:DBHeader:4"></span> <span class="keyword">type</span> <a href="Ouroboros-Consensus-Storage-Common.html#t:DBHeader" title="Ouroboros.Consensus.Storage.Common">DBHeader</a> (<a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:ImmutableDB" title="Ouroboros.Consensus.Storage.ImmutableDB.API">ImmutableDB</a> hash m)</span> <a href="src/Ouroboros.Consensus.Storage.ImmutableDB.API.html#line-226" class="link">Source</a> <a href="#t:ImmutableDB" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ImmutableDB:DBHeader:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html">Ouroboros.Consensus.Storage.ImmutableDB.API</a></p> <div class="src"><span class="keyword">type</span> <a href="Ouroboros-Consensus-Storage-Common.html#t:DBHeader" title="Ouroboros.Consensus.Storage.Common">DBHeader</a> (<a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:ImmutableDB" title="Ouroboros.Consensus.Storage.ImmutableDB.API">ImmutableDB</a> hash m) = ()</div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ImmutableDB:DBHeaderHash:5"></span> <span class="keyword">type</span> <a href="Ouroboros-Consensus-Storage-Common.html#t:DBHeaderHash" title="Ouroboros.Consensus.Storage.Common">DBHeaderHash</a> (<a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:ImmutableDB" title="Ouroboros.Consensus.Storage.ImmutableDB.API">ImmutableDB</a> hash m)</span> <a href="src/Ouroboros.Consensus.Storage.ImmutableDB.API.html#line-227" class="link">Source</a> <a href="#t:ImmutableDB" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ImmutableDB:DBHeaderHash:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html">Ouroboros.Consensus.Storage.ImmutableDB.API</a></p> <div class="src"><span class="keyword">type</span> <a href="Ouroboros-Consensus-Storage-Common.html#t:DBHeaderHash" title="Ouroboros.Consensus.Storage.Common">DBHeaderHash</a> (<a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:ImmutableDB" title="Ouroboros.Consensus.Storage.ImmutableDB.API">ImmutableDB</a> hash m) = hash</div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:closeDB" class="def">closeDB</a> &#8759; <a href="Ouroboros-Consensus-Util-CallStack.html#t:HasCallStack" title="Ouroboros.Consensus.Util.CallStack">HasCallStack</a> &#8658; <a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:ImmutableDB" title="Ouroboros.Consensus.Storage.ImmutableDB.API">ImmutableDB</a> hash m &#8594; m () <a href="src/Ouroboros.Consensus.Storage.ImmutableDB.API.html#closeDB" class="link">Source</a> <a href="#v:closeDB" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:isOpen" class="def">isOpen</a> &#8759; <a href="Ouroboros-Consensus-Util-CallStack.html#t:HasCallStack" title="Ouroboros.Consensus.Util.CallStack">HasCallStack</a> &#8658; <a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:ImmutableDB" title="Ouroboros.Consensus.Storage.ImmutableDB.API">ImmutableDB</a> hash m &#8594; m <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/Ouroboros.Consensus.Storage.ImmutableDB.API.html#isOpen" class="link">Source</a> <a href="#v:isOpen" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:reopen" class="def">reopen</a> &#8759; <a href="Ouroboros-Consensus-Util-CallStack.html#t:HasCallStack" title="Ouroboros.Consensus.Util.CallStack">HasCallStack</a> &#8658; <a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:ImmutableDB" title="Ouroboros.Consensus.Storage.ImmutableDB.API">ImmutableDB</a> hash m &#8594; <a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html#t:ValidationPolicy" title="Ouroboros.Consensus.Storage.ImmutableDB.Types">ValidationPolicy</a> &#8594; m () <a href="src/Ouroboros.Consensus.Storage.ImmutableDB.API.html#reopen" class="link">Source</a> <a href="#v:reopen" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:getTip" class="def">getTip</a> &#8759; <a href="Ouroboros-Consensus-Util-CallStack.html#t:HasCallStack" title="Ouroboros.Consensus.Util.CallStack">HasCallStack</a> &#8658; <a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:ImmutableDB" title="Ouroboros.Consensus.Storage.ImmutableDB.API">ImmutableDB</a> hash m &#8594; m (<a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html#t:ImmTipWithInfo" title="Ouroboros.Consensus.Storage.ImmutableDB.Types">ImmTipWithInfo</a> hash) <a href="src/Ouroboros.Consensus.Storage.ImmutableDB.API.html#getTip" class="link">Source</a> <a href="#v:getTip" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:getBlockComponent" class="def">getBlockComponent</a> &#8759; <a href="Ouroboros-Consensus-Util-CallStack.html#t:HasCallStack" title="Ouroboros.Consensus.Util.CallStack">HasCallStack</a> &#8658; <a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:ImmutableDB" title="Ouroboros.Consensus.Storage.ImmutableDB.API">ImmutableDB</a> hash m &#8594; <a href="Ouroboros-Consensus-Storage-Common.html#t:BlockComponent" title="Ouroboros.Consensus.Storage.Common">BlockComponent</a> (<a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:ImmutableDB" title="Ouroboros.Consensus.Storage.ImmutableDB.API">ImmutableDB</a> hash m) b &#8594; <a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html#t:SlotNo" title="Ouroboros.Consensus.Storage.ImmutableDB.Types">SlotNo</a> &#8594; m (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> b) <a href="src/Ouroboros.Consensus.Storage.ImmutableDB.API.html#getBlockComponent" class="link">Source</a> <a href="#v:getBlockComponent" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:getEBBComponent" class="def">getEBBComponent</a> &#8759; <a href="Ouroboros-Consensus-Util-CallStack.html#t:HasCallStack" title="Ouroboros.Consensus.Util.CallStack">HasCallStack</a> &#8658; <a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:ImmutableDB" title="Ouroboros.Consensus.Storage.ImmutableDB.API">ImmutableDB</a> hash m &#8594; <a href="Ouroboros-Consensus-Storage-Common.html#t:BlockComponent" title="Ouroboros.Consensus.Storage.Common">BlockComponent</a> (<a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:ImmutableDB" title="Ouroboros.Consensus.Storage.ImmutableDB.API">ImmutableDB</a> hash m) b &#8594; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-slotting-0.1.0.0/noopt/doc/html/cardano-slotting/Cardano-Slotting-Slot.html#t:EpochNo" title="Cardano.Slotting.Slot">EpochNo</a> &#8594; m (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> b) <a href="src/Ouroboros.Consensus.Storage.ImmutableDB.API.html#getEBBComponent" class="link">Source</a> <a href="#v:getEBBComponent" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:getBlockOrEBBComponent" class="def">getBlockOrEBBComponent</a> &#8759; <a href="Ouroboros-Consensus-Util-CallStack.html#t:HasCallStack" title="Ouroboros.Consensus.Util.CallStack">HasCallStack</a> &#8658; <a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:ImmutableDB" title="Ouroboros.Consensus.Storage.ImmutableDB.API">ImmutableDB</a> hash m &#8594; <a href="Ouroboros-Consensus-Storage-Common.html#t:BlockComponent" title="Ouroboros.Consensus.Storage.Common">BlockComponent</a> (<a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:ImmutableDB" title="Ouroboros.Consensus.Storage.ImmutableDB.API">ImmutableDB</a> hash m) b &#8594; <a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html#t:SlotNo" title="Ouroboros.Consensus.Storage.ImmutableDB.Types">SlotNo</a> &#8594; hash &#8594; m (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> b) <a href="src/Ouroboros.Consensus.Storage.ImmutableDB.API.html#getBlockOrEBBComponent" class="link">Source</a> <a href="#v:getBlockOrEBBComponent" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:appendBlock" class="def">appendBlock</a> &#8759; <a href="Ouroboros-Consensus-Util-CallStack.html#t:HasCallStack" title="Ouroboros.Consensus.Util.CallStack">HasCallStack</a> &#8658; <a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:ImmutableDB" title="Ouroboros.Consensus.Storage.ImmutableDB.API">ImmutableDB</a> hash m &#8594; <a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html#t:SlotNo" title="Ouroboros.Consensus.Storage.ImmutableDB.Types">SlotNo</a> &#8594; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-slotting-0.1.0.0/noopt/doc/html/cardano-slotting/Cardano-Slotting-Block.html#t:BlockNo" title="Cardano.Slotting.Block">BlockNo</a> &#8594; hash &#8594; <a href="Ouroboros-Consensus-Storage-Common.html#t:BinaryInfo" title="Ouroboros.Consensus.Storage.Common">BinaryInfo</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/binary-0.8.6.0/Data-Binary-Builder.html#t:Builder" title="Data.Binary.Builder">Builder</a> &#8594; m () <a href="src/Ouroboros.Consensus.Storage.ImmutableDB.API.html#appendBlock" class="link">Source</a> <a href="#v:appendBlock" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:appendEBB" class="def">appendEBB</a> &#8759; <a href="Ouroboros-Consensus-Util-CallStack.html#t:HasCallStack" title="Ouroboros.Consensus.Util.CallStack">HasCallStack</a> &#8658; <a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:ImmutableDB" title="Ouroboros.Consensus.Storage.ImmutableDB.API">ImmutableDB</a> hash m &#8594; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-slotting-0.1.0.0/noopt/doc/html/cardano-slotting/Cardano-Slotting-Slot.html#t:EpochNo" title="Cardano.Slotting.Slot">EpochNo</a> &#8594; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-slotting-0.1.0.0/noopt/doc/html/cardano-slotting/Cardano-Slotting-Block.html#t:BlockNo" title="Cardano.Slotting.Block">BlockNo</a> &#8594; hash &#8594; <a href="Ouroboros-Consensus-Storage-Common.html#t:BinaryInfo" title="Ouroboros.Consensus.Storage.Common">BinaryInfo</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/binary-0.8.6.0/Data-Binary-Builder.html#t:Builder" title="Data.Binary.Builder">Builder</a> &#8594; m () <a href="src/Ouroboros.Consensus.Storage.ImmutableDB.API.html#appendEBB" class="link">Source</a> <a href="#v:appendEBB" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:stream" class="def">stream</a> &#8759; <a href="Ouroboros-Consensus-Util-CallStack.html#t:HasCallStack" title="Ouroboros.Consensus.Util.CallStack">HasCallStack</a> &#8658; <a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:ImmutableDB" title="Ouroboros.Consensus.Storage.ImmutableDB.API">ImmutableDB</a> hash m &#8594; <a href="Ouroboros-Consensus-Util-ResourceRegistry.html#t:ResourceRegistry" title="Ouroboros.Consensus.Util.ResourceRegistry">ResourceRegistry</a> m &#8594; <a href="Ouroboros-Consensus-Storage-Common.html#t:BlockComponent" title="Ouroboros.Consensus.Storage.Common">BlockComponent</a> (<a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:ImmutableDB" title="Ouroboros.Consensus.Storage.ImmutableDB.API">ImmutableDB</a> hash m) b &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> (<a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html#t:SlotNo" title="Ouroboros.Consensus.Storage.ImmutableDB.Types">SlotNo</a>, hash) &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> (<a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html#t:SlotNo" title="Ouroboros.Consensus.Storage.ImmutableDB.Types">SlotNo</a>, hash) &#8594; m (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Either.html#t:Either" title="Data.Either">Either</a> (<a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html#t:WrongBoundError" title="Ouroboros.Consensus.Storage.ImmutableDB.Types">WrongBoundError</a> hash) (<a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:Iterator" title="Ouroboros.Consensus.Storage.ImmutableDB.API">Iterator</a> hash m b)) <a href="src/Ouroboros.Consensus.Storage.ImmutableDB.API.html#stream" class="link">Source</a> <a href="#v:stream" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Iterator" class="def">Iterator</a> hash m a <a href="src/Ouroboros.Consensus.Storage.ImmutableDB.API.html#Iterator" class="link">Source</a> <a href="#t:Iterator" class="selflink">#</a></p><div class="doc"><p>An <code><a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:Iterator" title="Ouroboros.Consensus.Storage.ImmutableDB.API">Iterator</a></code> is a handle which can be used to efficiently stream binary
 blobs. Slots not containing a blob and missing EBBs are skipped.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Iterator" class="def">Iterator</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:iteratorNext" class="def">iteratorNext</a> &#8759; <a href="Ouroboros-Consensus-Util-CallStack.html#t:HasCallStack" title="Ouroboros.Consensus.Util.CallStack">HasCallStack</a> &#8658; m (<a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:IteratorResult" title="Ouroboros.Consensus.Storage.ImmutableDB.API">IteratorResult</a> a)</dfn><div class="doc"><p>Steps an <code><a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:Iterator" title="Ouroboros.Consensus.Storage.ImmutableDB.API">Iterator</a></code> yielding an <code><a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:IteratorResult" title="Ouroboros.Consensus.Storage.ImmutableDB.API">IteratorResult</a></code>.</p><p>After returning the blob as an <code><a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:IteratorResult" title="Ouroboros.Consensus.Storage.ImmutableDB.API">IteratorResult</a></code>, the iterator is
 advanced to the next non-empty slot or non-empty EBB.</p><p>Throws a <code><a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html#v:ClosedDBError" title="Ouroboros.Consensus.Storage.ImmutableDB.Types">ClosedDBError</a></code> if the database is closed.</p><p>TODO NOTE(adn): This works under the assumption that the user is the
 exclusive owner of the iterator.</p><p>The iterator is automatically closed when exhausted
 (<code><a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#v:IteratorExhausted" title="Ouroboros.Consensus.Storage.ImmutableDB.API">IteratorExhausted</a></code>), and can be prematurely closed with
 <code><a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#v:iteratorClose" title="Ouroboros.Consensus.Storage.ImmutableDB.API">iteratorClose</a></code>.</p></div></li><li><dfn class="src"><a id="v:iteratorPeek" class="def">iteratorPeek</a> &#8759; <a href="Ouroboros-Consensus-Util-CallStack.html#t:HasCallStack" title="Ouroboros.Consensus.Util.CallStack">HasCallStack</a> &#8658; m (<a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:IteratorResult" title="Ouroboros.Consensus.Storage.ImmutableDB.API">IteratorResult</a> a)</dfn><div class="doc"><p>Read the blob the <code><a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:Iterator" title="Ouroboros.Consensus.Storage.ImmutableDB.API">Iterator</a></code> is currently pointing.</p><p>This operation is idempotent.</p><p>The next time <code><a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#v:iteratorNext" title="Ouroboros.Consensus.Storage.ImmutableDB.API">iteratorNext</a></code> is called, the same <code><a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:IteratorResult" title="Ouroboros.Consensus.Storage.ImmutableDB.API">IteratorResult</a></code> will
 be returned.</p><p>Throws a <code><a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html#v:ClosedDBError" title="Ouroboros.Consensus.Storage.ImmutableDB.Types">ClosedDBError</a></code> if the database is closed.</p></div></li><li><dfn class="src"><a id="v:iteratorHasNext" class="def">iteratorHasNext</a> &#8759; <a href="Ouroboros-Consensus-Util-CallStack.html#t:HasCallStack" title="Ouroboros.Consensus.Util.CallStack">HasCallStack</a> &#8658; m (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-slotting-0.1.0.0/noopt/doc/html/cardano-slotting/Cardano-Slotting-Slot.html#t:EpochNo" title="Cardano.Slotting.Slot">EpochNo</a> <a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html#t:SlotNo" title="Ouroboros.Consensus.Storage.ImmutableDB.Types">SlotNo</a>, hash))</dfn><div class="doc"><p>Return the epoch number (in case of an EBB) or slot number and hash
 of the next blob, if there is a next. Return <code><a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Maybe.html#v:Nothing" title="GHC.Maybe">Nothing</a></code> if not.</p><p>This operation is idempotent.</p></div></li><li><dfn class="src"><a id="v:iteratorClose" class="def">iteratorClose</a> &#8759; <a href="Ouroboros-Consensus-Util-CallStack.html#t:HasCallStack" title="Ouroboros.Consensus.Util.CallStack">HasCallStack</a> &#8658; m ()</dfn><div class="doc"><p>Dispose of the <code><a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:Iterator" title="Ouroboros.Consensus.Storage.ImmutableDB.API">Iterator</a></code> by closing any open handles.</p><p>Idempotent operation.</p></div></li></ul></div></td></tr></table></div><div class="subs instances"><details id="i:Iterator" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Iterator:Functor:1"></span> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> m &#8658; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> (<a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:Iterator" title="Ouroboros.Consensus.Storage.ImmutableDB.API">Iterator</a> hash m)</span> <a href="src/Ouroboros.Consensus.Storage.ImmutableDB.API.html#line-267" class="link">Source</a> <a href="#t:Iterator" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Iterator:Functor:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html">Ouroboros.Consensus.Storage.ImmutableDB.API</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fmap">fmap</a> &#8759; (a &#8594; b) &#8594; <a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:Iterator" title="Ouroboros.Consensus.Storage.ImmutableDB.API">Iterator</a> hash m a &#8594; <a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:Iterator" title="Ouroboros.Consensus.Storage.ImmutableDB.API">Iterator</a> hash m b <a href="#v:fmap" class="selflink">#</a></p><p class="src"><a href="#v:-60--36-">(&lt;$)</a> &#8759; a &#8594; <a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:Iterator" title="Ouroboros.Consensus.Storage.ImmutableDB.API">Iterator</a> hash m b &#8594; <a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:Iterator" title="Ouroboros.Consensus.Storage.ImmutableDB.API">Iterator</a> hash m a <a href="#v:-60--36-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Iterator:NoUnexpectedThunks:2"></span> <a href="Ouroboros-Consensus-Util-IOLike.html#t:NoUnexpectedThunks" title="Ouroboros.Consensus.Util.IOLike">NoUnexpectedThunks</a> (<a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:Iterator" title="Ouroboros.Consensus.Storage.ImmutableDB.API">Iterator</a> hash m a)</span> <a href="src/Ouroboros.Consensus.Storage.ImmutableDB.API.html#line-270" class="link">Source</a> <a href="#t:Iterator" class="selflink">#</a></td><td class="doc"><p>This only contains actions, we don't check anything</p></td></tr><tr><td colspan="2"><details id="i:id:Iterator:NoUnexpectedThunks:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html">Ouroboros.Consensus.Storage.ImmutableDB.API</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:noUnexpectedThunks">noUnexpectedThunks</a> &#8759; [<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a>] &#8594; <a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:Iterator" title="Ouroboros.Consensus.Storage.ImmutableDB.API">Iterator</a> hash m a &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-prelude-0.1.0.0/noopt/doc/html/cardano-prelude/Cardano-Prelude-GHC-Heap-NormalForm-Classy.html#t:ThunkInfo" title="Cardano.Prelude.GHC.Heap.NormalForm.Classy">ThunkInfo</a> <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-prelude-0.1.0.0/noopt/doc/html/cardano-prelude/src" class="link">Source</a> <a href="#v:noUnexpectedThunks" class="selflink">#</a></p><p class="src"><a href="#v:whnfNoUnexpectedThunks">whnfNoUnexpectedThunks</a> &#8759; [<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a>] &#8594; <a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:Iterator" title="Ouroboros.Consensus.Storage.ImmutableDB.API">Iterator</a> hash m a &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-prelude-0.1.0.0/noopt/doc/html/cardano-prelude/Cardano-Prelude-GHC-Heap-NormalForm-Classy.html#t:ThunkInfo" title="Cardano.Prelude.GHC.Heap.NormalForm.Classy">ThunkInfo</a> <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-prelude-0.1.0.0/noopt/doc/html/cardano-prelude/src" class="link">Source</a> <a href="#v:whnfNoUnexpectedThunks" class="selflink">#</a></p><p class="src"><a href="#v:showTypeOf">showTypeOf</a> &#8759; <a href="Ouroboros-Consensus-Util-RedundantConstraints.html#t:Proxy" title="Ouroboros.Consensus.Util.RedundantConstraints">Proxy</a> (<a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:Iterator" title="Ouroboros.Consensus.Storage.ImmutableDB.API">Iterator</a> hash m a) &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-prelude-0.1.0.0/noopt/doc/html/cardano-prelude/src" class="link">Source</a> <a href="#v:showTypeOf" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:IteratorResult" class="def">IteratorResult</a> a <a href="src/Ouroboros.Consensus.Storage.ImmutableDB.API.html#IteratorResult" class="link">Source</a> <a href="#t:IteratorResult" class="selflink">#</a></p><div class="doc"><p>The result of stepping an <code><a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:Iterator" title="Ouroboros.Consensus.Storage.ImmutableDB.API">Iterator</a></code>.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:IteratorExhausted" class="def">IteratorExhausted</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:IteratorResult" class="def">IteratorResult</a> a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><details id="i:IteratorResult" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:IteratorResult:Functor:1"></span> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> <a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:IteratorResult" title="Ouroboros.Consensus.Storage.ImmutableDB.API">IteratorResult</a></span> <a href="src/Ouroboros.Consensus.Storage.ImmutableDB.API.html#line-292" class="link">Source</a> <a href="#t:IteratorResult" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:IteratorResult:Functor:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html">Ouroboros.Consensus.Storage.ImmutableDB.API</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fmap">fmap</a> &#8759; (a &#8594; b) &#8594; <a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:IteratorResult" title="Ouroboros.Consensus.Storage.ImmutableDB.API">IteratorResult</a> a &#8594; <a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:IteratorResult" title="Ouroboros.Consensus.Storage.ImmutableDB.API">IteratorResult</a> b <a href="#v:fmap" class="selflink">#</a></p><p class="src"><a href="#v:-60--36-">(&lt;$)</a> &#8759; a &#8594; <a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:IteratorResult" title="Ouroboros.Consensus.Storage.ImmutableDB.API">IteratorResult</a> b &#8594; <a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:IteratorResult" title="Ouroboros.Consensus.Storage.ImmutableDB.API">IteratorResult</a> a <a href="#v:-60--36-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:IteratorResult:Foldable:2"></span> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Foldable.html#t:Foldable" title="Data.Foldable">Foldable</a> <a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:IteratorResult" title="Ouroboros.Consensus.Storage.ImmutableDB.API">IteratorResult</a></span> <a href="src/Ouroboros.Consensus.Storage.ImmutableDB.API.html#line-292" class="link">Source</a> <a href="#t:IteratorResult" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:IteratorResult:Foldable:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html">Ouroboros.Consensus.Storage.ImmutableDB.API</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fold">fold</a> &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> m &#8658; <a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:IteratorResult" title="Ouroboros.Consensus.Storage.ImmutableDB.API">IteratorResult</a> m &#8594; m <a href="#v:fold" class="selflink">#</a></p><p class="src"><a href="#v:foldMap">foldMap</a> &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> m &#8658; (a &#8594; m) &#8594; <a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:IteratorResult" title="Ouroboros.Consensus.Storage.ImmutableDB.API">IteratorResult</a> a &#8594; m <a href="#v:foldMap" class="selflink">#</a></p><p class="src"><a href="#v:foldr">foldr</a> &#8759; (a &#8594; b &#8594; b) &#8594; b &#8594; <a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:IteratorResult" title="Ouroboros.Consensus.Storage.ImmutableDB.API">IteratorResult</a> a &#8594; b <a href="#v:foldr" class="selflink">#</a></p><p class="src"><a href="#v:foldr-39-">foldr'</a> &#8759; (a &#8594; b &#8594; b) &#8594; b &#8594; <a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:IteratorResult" title="Ouroboros.Consensus.Storage.ImmutableDB.API">IteratorResult</a> a &#8594; b <a href="#v:foldr-39-" class="selflink">#</a></p><p class="src"><a href="#v:foldl">foldl</a> &#8759; (b &#8594; a &#8594; b) &#8594; b &#8594; <a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:IteratorResult" title="Ouroboros.Consensus.Storage.ImmutableDB.API">IteratorResult</a> a &#8594; b <a href="#v:foldl" class="selflink">#</a></p><p class="src"><a href="#v:foldl-39-">foldl'</a> &#8759; (b &#8594; a &#8594; b) &#8594; b &#8594; <a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:IteratorResult" title="Ouroboros.Consensus.Storage.ImmutableDB.API">IteratorResult</a> a &#8594; b <a href="#v:foldl-39-" class="selflink">#</a></p><p class="src"><a href="#v:foldr1">foldr1</a> &#8759; (a &#8594; a &#8594; a) &#8594; <a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:IteratorResult" title="Ouroboros.Consensus.Storage.ImmutableDB.API">IteratorResult</a> a &#8594; a <a href="#v:foldr1" class="selflink">#</a></p><p class="src"><a href="#v:foldl1">foldl1</a> &#8759; (a &#8594; a &#8594; a) &#8594; <a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:IteratorResult" title="Ouroboros.Consensus.Storage.ImmutableDB.API">IteratorResult</a> a &#8594; a <a href="#v:foldl1" class="selflink">#</a></p><p class="src"><a href="#v:toList">toList</a> &#8759; <a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:IteratorResult" title="Ouroboros.Consensus.Storage.ImmutableDB.API">IteratorResult</a> a &#8594; [a] <a href="#v:toList" class="selflink">#</a></p><p class="src"><a href="#v:null">null</a> &#8759; <a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:IteratorResult" title="Ouroboros.Consensus.Storage.ImmutableDB.API">IteratorResult</a> a &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:null" class="selflink">#</a></p><p class="src"><a href="#v:length">length</a> &#8759; <a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:IteratorResult" title="Ouroboros.Consensus.Storage.ImmutableDB.API">IteratorResult</a> a &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="#v:length" class="selflink">#</a></p><p class="src"><a href="#v:elem">elem</a> &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> a &#8658; a &#8594; <a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:IteratorResult" title="Ouroboros.Consensus.Storage.ImmutableDB.API">IteratorResult</a> a &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:elem" class="selflink">#</a></p><p class="src"><a href="#v:maximum">maximum</a> &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> a &#8658; <a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:IteratorResult" title="Ouroboros.Consensus.Storage.ImmutableDB.API">IteratorResult</a> a &#8594; a <a href="#v:maximum" class="selflink">#</a></p><p class="src"><a href="#v:minimum">minimum</a> &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> a &#8658; <a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:IteratorResult" title="Ouroboros.Consensus.Storage.ImmutableDB.API">IteratorResult</a> a &#8594; a <a href="#v:minimum" class="selflink">#</a></p><p class="src"><a href="#v:sum">sum</a> &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Prelude.html#t:Num" title="Prelude">Num</a> a &#8658; <a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:IteratorResult" title="Ouroboros.Consensus.Storage.ImmutableDB.API">IteratorResult</a> a &#8594; a <a href="#v:sum" class="selflink">#</a></p><p class="src"><a href="#v:product">product</a> &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Prelude.html#t:Num" title="Prelude">Num</a> a &#8658; <a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:IteratorResult" title="Ouroboros.Consensus.Storage.ImmutableDB.API">IteratorResult</a> a &#8594; a <a href="#v:product" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:IteratorResult:Traversable:3"></span> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> <a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:IteratorResult" title="Ouroboros.Consensus.Storage.ImmutableDB.API">IteratorResult</a></span> <a href="src/Ouroboros.Consensus.Storage.ImmutableDB.API.html#line-292" class="link">Source</a> <a href="#t:IteratorResult" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:IteratorResult:Traversable:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html">Ouroboros.Consensus.Storage.ImmutableDB.API</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:traverse">traverse</a> &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> f &#8658; (a &#8594; f b) &#8594; <a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:IteratorResult" title="Ouroboros.Consensus.Storage.ImmutableDB.API">IteratorResult</a> a &#8594; f (<a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:IteratorResult" title="Ouroboros.Consensus.Storage.ImmutableDB.API">IteratorResult</a> b) <a href="#v:traverse" class="selflink">#</a></p><p class="src"><a href="#v:sequenceA">sequenceA</a> &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> f &#8658; <a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:IteratorResult" title="Ouroboros.Consensus.Storage.ImmutableDB.API">IteratorResult</a> (f a) &#8594; f (<a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:IteratorResult" title="Ouroboros.Consensus.Storage.ImmutableDB.API">IteratorResult</a> a) <a href="#v:sequenceA" class="selflink">#</a></p><p class="src"><a href="#v:mapM">mapM</a> &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m &#8658; (a &#8594; m b) &#8594; <a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:IteratorResult" title="Ouroboros.Consensus.Storage.ImmutableDB.API">IteratorResult</a> a &#8594; m (<a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:IteratorResult" title="Ouroboros.Consensus.Storage.ImmutableDB.API">IteratorResult</a> b) <a href="#v:mapM" class="selflink">#</a></p><p class="src"><a href="#v:sequence">sequence</a> &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m &#8658; <a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:IteratorResult" title="Ouroboros.Consensus.Storage.ImmutableDB.API">IteratorResult</a> (m a) &#8594; m (<a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:IteratorResult" title="Ouroboros.Consensus.Storage.ImmutableDB.API">IteratorResult</a> a) <a href="#v:sequence" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:IteratorResult:Eq:4"></span> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> a &#8658; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:IteratorResult" title="Ouroboros.Consensus.Storage.ImmutableDB.API">IteratorResult</a> a)</span> <a href="src/Ouroboros.Consensus.Storage.ImmutableDB.API.html#line-292" class="link">Source</a> <a href="#t:IteratorResult" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:IteratorResult:Eq:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html">Ouroboros.Consensus.Storage.ImmutableDB.API</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> &#8759; <a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:IteratorResult" title="Ouroboros.Consensus.Storage.ImmutableDB.API">IteratorResult</a> a &#8594; <a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:IteratorResult" title="Ouroboros.Consensus.Storage.ImmutableDB.API">IteratorResult</a> a &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> &#8759; <a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:IteratorResult" title="Ouroboros.Consensus.Storage.ImmutableDB.API">IteratorResult</a> a &#8594; <a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:IteratorResult" title="Ouroboros.Consensus.Storage.ImmutableDB.API">IteratorResult</a> a &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:IteratorResult:Show:5"></span> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> a &#8658; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:IteratorResult" title="Ouroboros.Consensus.Storage.ImmutableDB.API">IteratorResult</a> a)</span> <a href="src/Ouroboros.Consensus.Storage.ImmutableDB.API.html#line-292" class="link">Source</a> <a href="#t:IteratorResult" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:IteratorResult:Show:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html">Ouroboros.Consensus.Storage.ImmutableDB.API</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> &#8594; <a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:IteratorResult" title="Ouroboros.Consensus.Storage.ImmutableDB.API">IteratorResult</a> a &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> &#8759; <a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:IteratorResult" title="Ouroboros.Consensus.Storage.ImmutableDB.API">IteratorResult</a> a &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> &#8759; [<a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:IteratorResult" title="Ouroboros.Consensus.Storage.ImmutableDB.API">IteratorResult</a> a] &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:IteratorResult:Generic:6"></span> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#t:Generic" title="GHC.Generics">Generic</a> (<a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:IteratorResult" title="Ouroboros.Consensus.Storage.ImmutableDB.API">IteratorResult</a> a)</span> <a href="src/Ouroboros.Consensus.Storage.ImmutableDB.API.html#line-292" class="link">Source</a> <a href="#t:IteratorResult" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:IteratorResult:Generic:6"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html">Ouroboros.Consensus.Storage.ImmutableDB.API</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:IteratorResult" title="Ouroboros.Consensus.Storage.ImmutableDB.API">IteratorResult</a> a) &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> <a href="#t:Rep" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:from">from</a> &#8759; <a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:IteratorResult" title="Ouroboros.Consensus.Storage.ImmutableDB.API">IteratorResult</a> a &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:IteratorResult" title="Ouroboros.Consensus.Storage.ImmutableDB.API">IteratorResult</a> a) x <a href="#v:from" class="selflink">#</a></p><p class="src"><a href="#v:to">to</a> &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:IteratorResult" title="Ouroboros.Consensus.Storage.ImmutableDB.API">IteratorResult</a> a) x &#8594; <a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:IteratorResult" title="Ouroboros.Consensus.Storage.ImmutableDB.API">IteratorResult</a> a <a href="#v:to" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:IteratorResult:Rep:7"></span> <span class="keyword">type</span> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:IteratorResult" title="Ouroboros.Consensus.Storage.ImmutableDB.API">IteratorResult</a> a)</span> <a href="src/Ouroboros.Consensus.Storage.ImmutableDB.API.html#line-292" class="link">Source</a> <a href="#t:IteratorResult" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:IteratorResult:Rep:7"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html">Ouroboros.Consensus.Storage.ImmutableDB.API</a></p> <div class="src"><span class="keyword">type</span> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:IteratorResult" title="Ouroboros.Consensus.Storage.ImmutableDB.API">IteratorResult</a> a) = <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#t:D1" title="GHC.Generics">D1</a> (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#v:MetaData" title="GHC.Generics">MetaData</a> &quot;IteratorResult&quot; &quot;Ouroboros.Consensus.Storage.ImmutableDB.API&quot; &quot;ouroboros-consensus-0.1.0.0-inplace&quot; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Bool.html#v:False" title="Data.Bool">False</a>) (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#t:C1" title="GHC.Generics">C1</a> (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#v:MetaCons" title="GHC.Generics">MetaCons</a> &quot;IteratorExhausted&quot; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#v:PrefixI" title="GHC.Generics">PrefixI</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Bool.html#v:False" title="Data.Bool">False</a>) (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#t:U1" title="GHC.Generics">U1</a> &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#t::-43-:" title="GHC.Generics">:+:</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#t:C1" title="GHC.Generics">C1</a> (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#v:MetaCons" title="GHC.Generics">MetaCons</a> &quot;IteratorResult&quot; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#v:PrefixI" title="GHC.Generics">PrefixI</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Bool.html#v:False" title="Data.Bool">False</a>) (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#t:S1" title="GHC.Generics">S1</a> (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#v:MetaSel" title="GHC.Generics">MetaSel</a> (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Maybe.html#v:Nothing" title="GHC.Maybe">Nothing</a> &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-TypeLits.html#t:Symbol" title="GHC.TypeLits">Symbol</a>) <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#v:NoSourceUnpackedness" title="GHC.Generics">NoSourceUnpackedness</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#v:NoSourceStrictness" title="GHC.Generics">NoSourceStrictness</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#v:DecidedLazy" title="GHC.Generics">DecidedLazy</a>) (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Generics.html#t:Rec0" title="GHC.Generics">Rec0</a> a)))</div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:traverseIterator" class="def">traverseIterator</a> &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m &#8658; (a &#8594; m b) &#8594; <a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:Iterator" title="Ouroboros.Consensus.Storage.ImmutableDB.API">Iterator</a> hash m a &#8594; <a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:Iterator" title="Ouroboros.Consensus.Storage.ImmutableDB.API">Iterator</a> hash m b <a href="src/Ouroboros.Consensus.Storage.ImmutableDB.API.html#traverseIterator" class="link">Source</a> <a href="#v:traverseIterator" class="selflink">#</a></p><div class="doc"><p>Variant of <code><a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Traversable.html#v:traverse" title="Data.Traversable">traverse</a></code> instantiated to <code><code><a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:Iterator" title="Ouroboros.Consensus.Storage.ImmutableDB.API">Iterator</a></code> hash m</code> that executes
 the monadic function when calling <code><a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#v:iteratorNext" title="Ouroboros.Consensus.Storage.ImmutableDB.API">iteratorNext</a></code> and <code><a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#v:iteratorPeek" title="Ouroboros.Consensus.Storage.ImmutableDB.API">iteratorPeek</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:iteratorToList" class="def">iteratorToList</a> &#8759; (<a href="Ouroboros-Consensus-Util-CallStack.html#t:HasCallStack" title="Ouroboros.Consensus.Util.CallStack">HasCallStack</a>, <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m) &#8658; <a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:Iterator" title="Ouroboros.Consensus.Storage.ImmutableDB.API">Iterator</a> hash m a &#8594; m [a] <a href="src/Ouroboros.Consensus.Storage.ImmutableDB.API.html#iteratorToList" class="link">Source</a> <a href="#v:iteratorToList" class="selflink">#</a></p><div class="doc"><p>Consume an <code><a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:Iterator" title="Ouroboros.Consensus.Storage.ImmutableDB.API">Iterator</a></code> by stepping until it is exhausted. A list of all
 the <code><a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:IteratorResult" title="Ouroboros.Consensus.Storage.ImmutableDB.API">IteratorResult</a></code>s (excluding the final <code><a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#v:IteratorExhausted" title="Ouroboros.Consensus.Storage.ImmutableDB.API">IteratorExhausted</a></code>) produced by
 the <code><a href="Ouroboros-Consensus-Storage-ImmutableDB-API.html#t:Iterator" title="Ouroboros.Consensus.Storage.ImmutableDB.API">Iterator</a></code> is returned.</p></div></div><div class="top"><p class="src">module <a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html">Ouroboros.Consensus.Storage.ImmutableDB.Types</a></p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.22.0</p></div></body></html>