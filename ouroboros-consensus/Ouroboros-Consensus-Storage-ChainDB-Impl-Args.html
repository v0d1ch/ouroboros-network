<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Ouroboros.Consensus.Storage.ChainDB.Impl.Args</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Ouroboros.Consensus.Storage.ChainDB.Impl.Args.html">Source</a></li><li><a href="&quot;../index.html&quot;">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">ouroboros-consensus-0.1.0.0: Consensus layer for the Ouroboros blockchain protocol</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Ouroboros.Consensus.Storage.ChainDB.Impl.Args</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Internal</a></li></ul></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:ChainDbArgs">ChainDbArgs</a> m blk = (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> h1, <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> h2, <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> h3) &#8658; <a href="#v:ChainDbArgs">ChainDbArgs</a> {<ul class="subs"><li><a href="#v:cdbDecodeHash">cdbDecodeHash</a> &#8759; &#8704; s. Decoder s (<a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/ouroboros-network-0.1.0.0/noopt/doc/html/ouroboros-network/Ouroboros-Network-Block.html#t:HeaderHash" title="Ouroboros.Network.Block">HeaderHash</a> blk)</li><li><a href="#v:cdbDecodeBlock">cdbDecodeBlock</a> &#8759; &#8704; s. Decoder s (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/bytestring-0.10.8.2/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a> &#8594; blk)</li><li><a href="#v:cdbDecodeHeader">cdbDecodeHeader</a> &#8759; &#8704; s. Decoder s (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/bytestring-0.10.8.2/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a> &#8594; <a href="Ouroboros-Consensus-Block-Abstract.html#t:Header" title="Ouroboros.Consensus.Block.Abstract">Header</a> blk)</li><li><a href="#v:cdbDecodeLedger">cdbDecodeLedger</a> &#8759; &#8704; s. Decoder s (<a href="Ouroboros-Consensus-Ledger-Abstract.html#t:LedgerState" title="Ouroboros.Consensus.Ledger.Abstract">LedgerState</a> blk)</li><li><a href="#v:cdbDecodeTipInfo">cdbDecodeTipInfo</a> &#8759; &#8704; s. Decoder s (<a href="Ouroboros-Consensus-HeaderValidation.html#t:TipInfo" title="Ouroboros.Consensus.HeaderValidation">TipInfo</a> blk)</li><li><a href="#v:cdbDecodeConsensusState">cdbDecodeConsensusState</a> &#8759; &#8704; s. Decoder s (<a href="Ouroboros-Consensus-Protocol-Abstract.html#t:ConsensusState" title="Ouroboros.Consensus.Protocol.Abstract">ConsensusState</a> (<a href="Ouroboros-Consensus-Block-Abstract.html#t:BlockProtocol" title="Ouroboros.Consensus.Block.Abstract">BlockProtocol</a> blk))</li><li><a href="#v:cdbEncodeHash">cdbEncodeHash</a> &#8759; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/ouroboros-network-0.1.0.0/noopt/doc/html/ouroboros-network/Ouroboros-Network-Block.html#t:HeaderHash" title="Ouroboros.Network.Block">HeaderHash</a> blk &#8594; Encoding</li><li><a href="#v:cdbEncodeBlock">cdbEncodeBlock</a> &#8759; blk &#8594; <a href="Ouroboros-Consensus-Storage-Common.html#t:BinaryInfo" title="Ouroboros.Consensus.Storage.Common">BinaryInfo</a> Encoding</li><li><a href="#v:cdbEncodeHeader">cdbEncodeHeader</a> &#8759; <a href="Ouroboros-Consensus-Block-Abstract.html#t:Header" title="Ouroboros.Consensus.Block.Abstract">Header</a> blk &#8594; Encoding</li><li><a href="#v:cdbEncodeLedger">cdbEncodeLedger</a> &#8759; <a href="Ouroboros-Consensus-Ledger-Abstract.html#t:LedgerState" title="Ouroboros.Consensus.Ledger.Abstract">LedgerState</a> blk &#8594; Encoding</li><li><a href="#v:cdbEncodeTipInfo">cdbEncodeTipInfo</a> &#8759; <a href="Ouroboros-Consensus-HeaderValidation.html#t:TipInfo" title="Ouroboros.Consensus.HeaderValidation">TipInfo</a> blk &#8594; Encoding</li><li><a href="#v:cdbEncodeConsensusState">cdbEncodeConsensusState</a> &#8759; <a href="Ouroboros-Consensus-Protocol-Abstract.html#t:ConsensusState" title="Ouroboros.Consensus.Protocol.Abstract">ConsensusState</a> (<a href="Ouroboros-Consensus-Block-Abstract.html#t:BlockProtocol" title="Ouroboros.Consensus.Block.Abstract">BlockProtocol</a> blk) &#8594; Encoding</li><li><a href="#v:cdbHasFSImmDb">cdbHasFSImmDb</a> &#8759; <a href="Ouroboros-Consensus-Storage-FS-API.html#t:HasFS" title="Ouroboros.Consensus.Storage.FS.API">HasFS</a> m h1</li><li><a href="#v:cdbHasFSVolDb">cdbHasFSVolDb</a> &#8759; <a href="Ouroboros-Consensus-Storage-FS-API.html#t:HasFS" title="Ouroboros.Consensus.Storage.FS.API">HasFS</a> m h2</li><li><a href="#v:cdbHasFSLgrDB">cdbHasFSLgrDB</a> &#8759; <a href="Ouroboros-Consensus-Storage-FS-API.html#t:HasFS" title="Ouroboros.Consensus.Storage.FS.API">HasFS</a> m h3</li><li><a href="#v:cdbImmValidation">cdbImmValidation</a> &#8759; <a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html#t:ValidationPolicy" title="Ouroboros.Consensus.Storage.ImmutableDB.Types">ValidationPolicy</a></li><li><a href="#v:cdbVolValidation">cdbVolValidation</a> &#8759; <a href="Ouroboros-Consensus-Storage-VolatileDB-Types.html#t:BlockValidationPolicy" title="Ouroboros.Consensus.Storage.VolatileDB.Types">BlockValidationPolicy</a></li><li><a href="#v:cdbBlocksPerFile">cdbBlocksPerFile</a> &#8759; <a href="Ouroboros-Consensus-Storage-VolatileDB-Types.html#t:BlocksPerFile" title="Ouroboros.Consensus.Storage.VolatileDB.Types">BlocksPerFile</a></li><li><a href="#v:cdbParamsLgrDB">cdbParamsLgrDB</a> &#8759; <a href="Ouroboros-Consensus-Storage-LedgerDB-InMemory.html#t:LedgerDbParams" title="Ouroboros.Consensus.Storage.LedgerDB.InMemory">LedgerDbParams</a></li><li><a href="#v:cdbDiskPolicy">cdbDiskPolicy</a> &#8759; <a href="Ouroboros-Consensus-Storage-LedgerDB-DiskPolicy.html#t:DiskPolicy" title="Ouroboros.Consensus.Storage.LedgerDB.DiskPolicy">DiskPolicy</a></li><li><a href="#v:cdbTopLevelConfig">cdbTopLevelConfig</a> &#8759; <a href="Ouroboros-Consensus-Config.html#t:TopLevelConfig" title="Ouroboros.Consensus.Config">TopLevelConfig</a> blk</li><li><a href="#v:cdbChunkInfo">cdbChunkInfo</a> &#8759; <a href="Ouroboros-Consensus-Storage-ImmutableDB-Chunks-Internal.html#t:ChunkInfo" title="Ouroboros.Consensus.Storage.ImmutableDB.Chunks.Internal">ChunkInfo</a></li><li><a href="#v:cdbHashInfo">cdbHashInfo</a> &#8759; <a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html#t:HashInfo" title="Ouroboros.Consensus.Storage.ImmutableDB.Types">HashInfo</a> (<a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/ouroboros-network-0.1.0.0/noopt/doc/html/ouroboros-network/Ouroboros-Network-Block.html#t:HeaderHash" title="Ouroboros.Network.Block">HeaderHash</a> blk)</li><li><a href="#v:cdbIsEBB">cdbIsEBB</a> &#8759; <a href="Ouroboros-Consensus-Block-Abstract.html#t:Header" title="Ouroboros.Consensus.Block.Abstract">Header</a> blk &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-slotting-0.1.0.0/noopt/doc/html/cardano-slotting/Cardano-Slotting-Slot.html#t:EpochNo" title="Cardano.Slotting.Slot">EpochNo</a></li><li><a href="#v:cdbCheckIntegrity">cdbCheckIntegrity</a> &#8759; blk &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li><a href="#v:cdbGenesis">cdbGenesis</a> &#8759; m (<a href="Ouroboros-Consensus-Ledger-Extended.html#t:ExtLedgerState" title="Ouroboros.Consensus.Ledger.Extended">ExtLedgerState</a> blk)</li><li><a href="#v:cdbBlockchainTime">cdbBlockchainTime</a> &#8759; <a href="Ouroboros-Consensus-BlockchainTime-API.html#t:BlockchainTime" title="Ouroboros.Consensus.BlockchainTime.API">BlockchainTime</a> m</li><li><a href="#v:cdbAddHdrEnv">cdbAddHdrEnv</a> &#8759; <a href="Ouroboros-Consensus-Block-EBB.html#t:IsEBB" title="Ouroboros.Consensus.Block.EBB">IsEBB</a> &#8594; <a href="Ouroboros-Consensus-Storage-Common.html#t:SizeInBytes" title="Ouroboros.Consensus.Storage.Common">SizeInBytes</a> &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/bytestring-0.10.8.2/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a> &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/bytestring-0.10.8.2/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a></li><li><a href="#v:cdbImmDbCacheConfig">cdbImmDbCacheConfig</a> &#8759; <a href="Ouroboros-Consensus-Storage-ImmutableDB-Impl-Index-Cache.html#t:CacheConfig" title="Ouroboros.Consensus.Storage.ImmutableDB.Impl.Index.Cache">CacheConfig</a></li><li><a href="#v:cdbTracer">cdbTracer</a> &#8759; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/contra-tracer-0.1.0.0/noopt/doc/html/contra-tracer/Control-Tracer.html#t:Tracer" title="Control.Tracer">Tracer</a> m (<a href="Ouroboros-Consensus-Storage-ChainDB-Impl-Types.html#t:TraceEvent" title="Ouroboros.Consensus.Storage.ChainDB.Impl.Types">TraceEvent</a> blk)</li><li><a href="#v:cdbTraceLedger">cdbTraceLedger</a> &#8759; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/contra-tracer-0.1.0.0/noopt/doc/html/contra-tracer/Control-Tracer.html#t:Tracer" title="Control.Tracer">Tracer</a> m (<a href="Ouroboros-Consensus-Storage-ChainDB-Impl-LgrDB.html#t:LedgerDB" title="Ouroboros.Consensus.Storage.ChainDB.Impl.LgrDB">LedgerDB</a> blk)</li><li><a href="#v:cdbRegistry">cdbRegistry</a> &#8759; <a href="Ouroboros-Consensus-Util-ResourceRegistry.html#t:ResourceRegistry" title="Ouroboros.Consensus.Util.ResourceRegistry">ResourceRegistry</a> m</li><li><a href="#v:cdbGcDelay">cdbGcDelay</a> &#8759; <a href="Ouroboros-Consensus-Util-IOLike.html#t:DiffTime" title="Ouroboros.Consensus.Util.IOLike">DiffTime</a></li><li><a href="#v:cdbGcInterval">cdbGcInterval</a> &#8759; <a href="Ouroboros-Consensus-Util-IOLike.html#t:DiffTime" title="Ouroboros.Consensus.Util.IOLike">DiffTime</a></li><li><a href="#v:cdbBlocksToAddSize">cdbBlocksToAddSize</a> &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Word.html#t:Word" title="Data.Word">Word</a></li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:ChainDbSpecificArgs">ChainDbSpecificArgs</a> m blk = <a href="#v:ChainDbSpecificArgs">ChainDbSpecificArgs</a> {<ul class="subs"><li><a href="#v:cdbsTracer">cdbsTracer</a> &#8759; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/contra-tracer-0.1.0.0/noopt/doc/html/contra-tracer/Control-Tracer.html#t:Tracer" title="Control.Tracer">Tracer</a> m (<a href="Ouroboros-Consensus-Storage-ChainDB-Impl-Types.html#t:TraceEvent" title="Ouroboros.Consensus.Storage.ChainDB.Impl.Types">TraceEvent</a> blk)</li><li><a href="#v:cdbsRegistry">cdbsRegistry</a> &#8759; <a href="Ouroboros-Consensus-Util-ResourceRegistry.html#t:ResourceRegistry" title="Ouroboros.Consensus.Util.ResourceRegistry">ResourceRegistry</a> m</li><li><a href="#v:cdbsGcDelay">cdbsGcDelay</a> &#8759; <a href="Ouroboros-Consensus-Util-IOLike.html#t:DiffTime" title="Ouroboros.Consensus.Util.IOLike">DiffTime</a></li><li><a href="#v:cdbsGcInterval">cdbsGcInterval</a> &#8759; <a href="Ouroboros-Consensus-Util-IOLike.html#t:DiffTime" title="Ouroboros.Consensus.Util.IOLike">DiffTime</a></li><li><a href="#v:cdbsBlockchainTime">cdbsBlockchainTime</a> &#8759; <a href="Ouroboros-Consensus-BlockchainTime-API.html#t:BlockchainTime" title="Ouroboros.Consensus.BlockchainTime.API">BlockchainTime</a> m</li><li><a href="#v:cdbsEncodeHeader">cdbsEncodeHeader</a> &#8759; <a href="Ouroboros-Consensus-Block-Abstract.html#t:Header" title="Ouroboros.Consensus.Block.Abstract">Header</a> blk &#8594; Encoding</li><li><a href="#v:cdbsBlocksToAddSize">cdbsBlocksToAddSize</a> &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Word.html#t:Word" title="Data.Word">Word</a></li></ul>}</li><li class="src short"><a href="#v:defaultArgs">defaultArgs</a> &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> &#8594; <a href="Ouroboros-Consensus-Storage-ChainDB-Impl-Args.html#t:ChainDbArgs" title="Ouroboros.Consensus.Storage.ChainDB.Impl.Args">ChainDbArgs</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> blk</li><li class="src short"><a href="#v:fromChainDbArgs">fromChainDbArgs</a> &#8759; <a href="Ouroboros-Consensus-Block-Abstract.html#t:GetHeader" title="Ouroboros.Consensus.Block.Abstract">GetHeader</a> blk &#8658; <a href="Ouroboros-Consensus-Storage-ChainDB-Impl-Args.html#t:ChainDbArgs" title="Ouroboros.Consensus.Storage.ChainDB.Impl.Args">ChainDbArgs</a> m blk &#8594; (<a href="Ouroboros-Consensus-Storage-ChainDB-Impl-ImmDB.html#t:ImmDbArgs" title="Ouroboros.Consensus.Storage.ChainDB.Impl.ImmDB">ImmDbArgs</a> m blk, <a href="Ouroboros-Consensus-Storage-ChainDB-Impl-VolDB.html#t:VolDbArgs" title="Ouroboros.Consensus.Storage.ChainDB.Impl.VolDB">VolDbArgs</a> m blk, <a href="Ouroboros-Consensus-Storage-ChainDB-Impl-LgrDB.html#t:LgrDbArgs" title="Ouroboros.Consensus.Storage.ChainDB.Impl.LgrDB">LgrDbArgs</a> m blk, <a href="Ouroboros-Consensus-Storage-ChainDB-Impl-Args.html#t:ChainDbSpecificArgs" title="Ouroboros.Consensus.Storage.ChainDB.Impl.Args">ChainDbSpecificArgs</a> m blk)</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ChainDbArgs" class="def">ChainDbArgs</a> m blk <a href="src/Ouroboros.Consensus.Storage.ChainDB.Impl.Args.html#ChainDbArgs" class="link">Source</a> <a href="#t:ChainDbArgs" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src">(<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> h1, <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> h2, <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> h3) &#8658; <a id="v:ChainDbArgs" class="def">ChainDbArgs</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:cdbDecodeHash" class="def">cdbDecodeHash</a> &#8759; &#8704; s. Decoder s (<a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/ouroboros-network-0.1.0.0/noopt/doc/html/ouroboros-network/Ouroboros-Network-Block.html#t:HeaderHash" title="Ouroboros.Network.Block">HeaderHash</a> blk)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:cdbDecodeBlock" class="def">cdbDecodeBlock</a> &#8759; &#8704; s. Decoder s (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/bytestring-0.10.8.2/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a> &#8594; blk)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:cdbDecodeHeader" class="def">cdbDecodeHeader</a> &#8759; &#8704; s. Decoder s (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/bytestring-0.10.8.2/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a> &#8594; <a href="Ouroboros-Consensus-Block-Abstract.html#t:Header" title="Ouroboros.Consensus.Block.Abstract">Header</a> blk)</dfn><div class="doc"><p>The given encoding will include the header envelope
 (<code><a href="Ouroboros-Consensus-Storage-ChainDB-Impl-Args.html#v:cdbAddHdrEnv" title="Ouroboros.Consensus.Storage.ChainDB.Impl.Args">cdbAddHdrEnv</a></code>).</p></div></li><li><dfn class="src"><a id="v:cdbDecodeLedger" class="def">cdbDecodeLedger</a> &#8759; &#8704; s. Decoder s (<a href="Ouroboros-Consensus-Ledger-Abstract.html#t:LedgerState" title="Ouroboros.Consensus.Ledger.Abstract">LedgerState</a> blk)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:cdbDecodeTipInfo" class="def">cdbDecodeTipInfo</a> &#8759; &#8704; s. Decoder s (<a href="Ouroboros-Consensus-HeaderValidation.html#t:TipInfo" title="Ouroboros.Consensus.HeaderValidation">TipInfo</a> blk)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:cdbDecodeConsensusState" class="def">cdbDecodeConsensusState</a> &#8759; &#8704; s. Decoder s (<a href="Ouroboros-Consensus-Protocol-Abstract.html#t:ConsensusState" title="Ouroboros.Consensus.Protocol.Abstract">ConsensusState</a> (<a href="Ouroboros-Consensus-Block-Abstract.html#t:BlockProtocol" title="Ouroboros.Consensus.Block.Abstract">BlockProtocol</a> blk))</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:cdbEncodeHash" class="def">cdbEncodeHash</a> &#8759; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/ouroboros-network-0.1.0.0/noopt/doc/html/ouroboros-network/Ouroboros-Network-Block.html#t:HeaderHash" title="Ouroboros.Network.Block">HeaderHash</a> blk &#8594; Encoding</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:cdbEncodeBlock" class="def">cdbEncodeBlock</a> &#8759; blk &#8594; <a href="Ouroboros-Consensus-Storage-Common.html#t:BinaryInfo" title="Ouroboros.Consensus.Storage.Common">BinaryInfo</a> Encoding</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:cdbEncodeHeader" class="def">cdbEncodeHeader</a> &#8759; <a href="Ouroboros-Consensus-Block-Abstract.html#t:Header" title="Ouroboros.Consensus.Block.Abstract">Header</a> blk &#8594; Encoding</dfn><div class="doc"><p>The returned encoding must include the header envelope
 (<code><a href="Ouroboros-Consensus-Storage-ChainDB-Impl-Args.html#v:cdbAddHdrEnv" title="Ouroboros.Consensus.Storage.ChainDB.Impl.Args">cdbAddHdrEnv</a></code>).</p><p>This should be cheap, preferably \( O(1) \), as the Readers will
 often be encoding the in-memory headers. (It is cheap for Byron
 headers, as we store the serialisation in the annotation.)</p></div></li><li><dfn class="src"><a id="v:cdbEncodeLedger" class="def">cdbEncodeLedger</a> &#8759; <a href="Ouroboros-Consensus-Ledger-Abstract.html#t:LedgerState" title="Ouroboros.Consensus.Ledger.Abstract">LedgerState</a> blk &#8594; Encoding</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:cdbEncodeTipInfo" class="def">cdbEncodeTipInfo</a> &#8759; <a href="Ouroboros-Consensus-HeaderValidation.html#t:TipInfo" title="Ouroboros.Consensus.HeaderValidation">TipInfo</a> blk &#8594; Encoding</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:cdbEncodeConsensusState" class="def">cdbEncodeConsensusState</a> &#8759; <a href="Ouroboros-Consensus-Protocol-Abstract.html#t:ConsensusState" title="Ouroboros.Consensus.Protocol.Abstract">ConsensusState</a> (<a href="Ouroboros-Consensus-Block-Abstract.html#t:BlockProtocol" title="Ouroboros.Consensus.Block.Abstract">BlockProtocol</a> blk) &#8594; Encoding</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:cdbHasFSImmDb" class="def">cdbHasFSImmDb</a> &#8759; <a href="Ouroboros-Consensus-Storage-FS-API.html#t:HasFS" title="Ouroboros.Consensus.Storage.FS.API">HasFS</a> m h1</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:cdbHasFSVolDb" class="def">cdbHasFSVolDb</a> &#8759; <a href="Ouroboros-Consensus-Storage-FS-API.html#t:HasFS" title="Ouroboros.Consensus.Storage.FS.API">HasFS</a> m h2</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:cdbHasFSLgrDB" class="def">cdbHasFSLgrDB</a> &#8759; <a href="Ouroboros-Consensus-Storage-FS-API.html#t:HasFS" title="Ouroboros.Consensus.Storage.FS.API">HasFS</a> m h3</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:cdbImmValidation" class="def">cdbImmValidation</a> &#8759; <a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html#t:ValidationPolicy" title="Ouroboros.Consensus.Storage.ImmutableDB.Types">ValidationPolicy</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:cdbVolValidation" class="def">cdbVolValidation</a> &#8759; <a href="Ouroboros-Consensus-Storage-VolatileDB-Types.html#t:BlockValidationPolicy" title="Ouroboros.Consensus.Storage.VolatileDB.Types">BlockValidationPolicy</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:cdbBlocksPerFile" class="def">cdbBlocksPerFile</a> &#8759; <a href="Ouroboros-Consensus-Storage-VolatileDB-Types.html#t:BlocksPerFile" title="Ouroboros.Consensus.Storage.VolatileDB.Types">BlocksPerFile</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:cdbParamsLgrDB" class="def">cdbParamsLgrDB</a> &#8759; <a href="Ouroboros-Consensus-Storage-LedgerDB-InMemory.html#t:LedgerDbParams" title="Ouroboros.Consensus.Storage.LedgerDB.InMemory">LedgerDbParams</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:cdbDiskPolicy" class="def">cdbDiskPolicy</a> &#8759; <a href="Ouroboros-Consensus-Storage-LedgerDB-DiskPolicy.html#t:DiskPolicy" title="Ouroboros.Consensus.Storage.LedgerDB.DiskPolicy">DiskPolicy</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:cdbTopLevelConfig" class="def">cdbTopLevelConfig</a> &#8759; <a href="Ouroboros-Consensus-Config.html#t:TopLevelConfig" title="Ouroboros.Consensus.Config">TopLevelConfig</a> blk</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:cdbChunkInfo" class="def">cdbChunkInfo</a> &#8759; <a href="Ouroboros-Consensus-Storage-ImmutableDB-Chunks-Internal.html#t:ChunkInfo" title="Ouroboros.Consensus.Storage.ImmutableDB.Chunks.Internal">ChunkInfo</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:cdbHashInfo" class="def">cdbHashInfo</a> &#8759; <a href="Ouroboros-Consensus-Storage-ImmutableDB-Types.html#t:HashInfo" title="Ouroboros.Consensus.Storage.ImmutableDB.Types">HashInfo</a> (<a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/ouroboros-network-0.1.0.0/noopt/doc/html/ouroboros-network/Ouroboros-Network-Block.html#t:HeaderHash" title="Ouroboros.Network.Block">HeaderHash</a> blk)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:cdbIsEBB" class="def">cdbIsEBB</a> &#8759; <a href="Ouroboros-Consensus-Block-Abstract.html#t:Header" title="Ouroboros.Consensus.Block.Abstract">Header</a> blk &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-slotting-0.1.0.0/noopt/doc/html/cardano-slotting/Cardano-Slotting-Slot.html#t:EpochNo" title="Cardano.Slotting.Slot">EpochNo</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:cdbCheckIntegrity" class="def">cdbCheckIntegrity</a> &#8759; blk &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:cdbGenesis" class="def">cdbGenesis</a> &#8759; m (<a href="Ouroboros-Consensus-Ledger-Extended.html#t:ExtLedgerState" title="Ouroboros.Consensus.Ledger.Extended">ExtLedgerState</a> blk)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:cdbBlockchainTime" class="def">cdbBlockchainTime</a> &#8759; <a href="Ouroboros-Consensus-BlockchainTime-API.html#t:BlockchainTime" title="Ouroboros.Consensus.BlockchainTime.API">BlockchainTime</a> m</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:cdbAddHdrEnv" class="def">cdbAddHdrEnv</a> &#8759; <a href="Ouroboros-Consensus-Block-EBB.html#t:IsEBB" title="Ouroboros.Consensus.Block.EBB">IsEBB</a> &#8594; <a href="Ouroboros-Consensus-Storage-Common.html#t:SizeInBytes" title="Ouroboros.Consensus.Storage.Common">SizeInBytes</a> &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/bytestring-0.10.8.2/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a> &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/bytestring-0.10.8.2/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a></dfn><div class="doc"><p>The header envelope will only be added after extracting the binary
 header from the binary block. Note that we never have to remove an
 envelope.</p><p>The <code><a href="Ouroboros-Consensus-Storage-Common.html#t:SizeInBytes" title="Ouroboros.Consensus.Storage.Common">SizeInBytes</a></code> is the size of the block.</p></div></li><li><dfn class="src"><a id="v:cdbImmDbCacheConfig" class="def">cdbImmDbCacheConfig</a> &#8759; <a href="Ouroboros-Consensus-Storage-ImmutableDB-Impl-Index-Cache.html#t:CacheConfig" title="Ouroboros.Consensus.Storage.ImmutableDB.Impl.Index.Cache">CacheConfig</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:cdbTracer" class="def">cdbTracer</a> &#8759; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/contra-tracer-0.1.0.0/noopt/doc/html/contra-tracer/Control-Tracer.html#t:Tracer" title="Control.Tracer">Tracer</a> m (<a href="Ouroboros-Consensus-Storage-ChainDB-Impl-Types.html#t:TraceEvent" title="Ouroboros.Consensus.Storage.ChainDB.Impl.Types">TraceEvent</a> blk)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:cdbTraceLedger" class="def">cdbTraceLedger</a> &#8759; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/contra-tracer-0.1.0.0/noopt/doc/html/contra-tracer/Control-Tracer.html#t:Tracer" title="Control.Tracer">Tracer</a> m (<a href="Ouroboros-Consensus-Storage-ChainDB-Impl-LgrDB.html#t:LedgerDB" title="Ouroboros.Consensus.Storage.ChainDB.Impl.LgrDB">LedgerDB</a> blk)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:cdbRegistry" class="def">cdbRegistry</a> &#8759; <a href="Ouroboros-Consensus-Util-ResourceRegistry.html#t:ResourceRegistry" title="Ouroboros.Consensus.Util.ResourceRegistry">ResourceRegistry</a> m</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:cdbGcDelay" class="def">cdbGcDelay</a> &#8759; <a href="Ouroboros-Consensus-Util-IOLike.html#t:DiffTime" title="Ouroboros.Consensus.Util.IOLike">DiffTime</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:cdbGcInterval" class="def">cdbGcInterval</a> &#8759; <a href="Ouroboros-Consensus-Util-IOLike.html#t:DiffTime" title="Ouroboros.Consensus.Util.IOLike">DiffTime</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:cdbBlocksToAddSize" class="def">cdbBlocksToAddSize</a> &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Word.html#t:Word" title="Data.Word">Word</a></dfn><div class="doc"><p>Size of the queue used to store asynchronously added blocks. This
 is the maximum number of blocks that could be kept in memory at the
 same time when the background thread processing the blocks can't keep
 up.</p></div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ChainDbSpecificArgs" class="def">ChainDbSpecificArgs</a> m blk <a href="src/Ouroboros.Consensus.Storage.ChainDB.Impl.Args.html#ChainDbSpecificArgs" class="link">Source</a> <a href="#t:ChainDbSpecificArgs" class="selflink">#</a></p><div class="doc"><p>Arguments specific to the ChainDB, not to the ImmutableDB, VolatileDB, or
 LedgerDB.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:ChainDbSpecificArgs" class="def">ChainDbSpecificArgs</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:cdbsTracer" class="def">cdbsTracer</a> &#8759; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/contra-tracer-0.1.0.0/noopt/doc/html/contra-tracer/Control-Tracer.html#t:Tracer" title="Control.Tracer">Tracer</a> m (<a href="Ouroboros-Consensus-Storage-ChainDB-Impl-Types.html#t:TraceEvent" title="Ouroboros.Consensus.Storage.ChainDB.Impl.Types">TraceEvent</a> blk)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:cdbsRegistry" class="def">cdbsRegistry</a> &#8759; <a href="Ouroboros-Consensus-Util-ResourceRegistry.html#t:ResourceRegistry" title="Ouroboros.Consensus.Util.ResourceRegistry">ResourceRegistry</a> m</dfn><div class="doc"><p>TODO: the ImmutableDB takes a <code><a href="Ouroboros-Consensus-Util-ResourceRegistry.html#t:ResourceRegistry" title="Ouroboros.Consensus.Util.ResourceRegistry">ResourceRegistry</a></code> too, but we're
 using it for ChainDB-specific things. Revisit these arguments.</p></div></li><li><dfn class="src"><a id="v:cdbsGcDelay" class="def">cdbsGcDelay</a> &#8759; <a href="Ouroboros-Consensus-Util-IOLike.html#t:DiffTime" title="Ouroboros.Consensus.Util.IOLike">DiffTime</a></dfn><div class="doc"><p>Delay between copying a block to the ImmutableDB and triggering a
 garbage collection for the corresponding slot on the VolatileDB.</p><p>The goal of the delay is to ensure that the write to the ImmutableDB
 has been flushed to disk before deleting the block from the
 VolatileDB, so that a crash won't result in the loss of the block.</p></div></li><li><dfn class="src"><a id="v:cdbsGcInterval" class="def">cdbsGcInterval</a> &#8759; <a href="Ouroboros-Consensus-Util-IOLike.html#t:DiffTime" title="Ouroboros.Consensus.Util.IOLike">DiffTime</a></dfn><div class="doc"><p>Batch all scheduled GCs so that at most one GC happens every
 <code><a href="Ouroboros-Consensus-Storage-ChainDB-Impl-Args.html#v:cdbsGcInterval" title="Ouroboros.Consensus.Storage.ChainDB.Impl.Args">cdbsGcInterval</a></code>.</p></div></li><li><dfn class="src"><a id="v:cdbsBlockchainTime" class="def">cdbsBlockchainTime</a> &#8759; <a href="Ouroboros-Consensus-BlockchainTime-API.html#t:BlockchainTime" title="Ouroboros.Consensus.BlockchainTime.API">BlockchainTime</a> m</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:cdbsEncodeHeader" class="def">cdbsEncodeHeader</a> &#8759; <a href="Ouroboros-Consensus-Block-Abstract.html#t:Header" title="Ouroboros.Consensus.Block.Abstract">Header</a> blk &#8594; Encoding</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:cdbsBlocksToAddSize" class="def">cdbsBlocksToAddSize</a> &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Word.html#t:Word" title="Data.Word">Word</a></dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><a id="v:defaultArgs" class="def">defaultArgs</a> &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> &#8594; <a href="Ouroboros-Consensus-Storage-ChainDB-Impl-Args.html#t:ChainDbArgs" title="Ouroboros.Consensus.Storage.ChainDB.Impl.Args">ChainDbArgs</a> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> blk <a href="src/Ouroboros.Consensus.Storage.ChainDB.Impl.Args.html#defaultArgs" class="link">Source</a> <a href="#v:defaultArgs" class="selflink">#</a></p><div class="doc"><p>Default arguments for use within IO</p><p>See <code><a href="Ouroboros-Consensus-Storage-ChainDB-Impl-ImmDB.html#v:defaultArgs" title="Ouroboros.Consensus.Storage.ChainDB.Impl.ImmDB">defaultArgs</a></code>, <code><a href="Ouroboros-Consensus-Storage-ChainDB-Impl-VolDB.html#v:defaultArgs" title="Ouroboros.Consensus.Storage.ChainDB.Impl.VolDB">defaultArgs</a></code>, <code><a href="Ouroboros-Consensus-Storage-ChainDB-Impl-LgrDB.html#v:defaultArgs" title="Ouroboros.Consensus.Storage.ChainDB.Impl.LgrDB">defaultArgs</a></code>, and
 <code>defaultSpecificArgs</code> for a list of which fields are not given a default
 and must therefore be set explicitly.</p></div></div><a href="#g:1" id="g:1"><h1>Internal</h1></a><div class="top"><p class="src"><a id="v:fromChainDbArgs" class="def">fromChainDbArgs</a> &#8759; <a href="Ouroboros-Consensus-Block-Abstract.html#t:GetHeader" title="Ouroboros.Consensus.Block.Abstract">GetHeader</a> blk &#8658; <a href="Ouroboros-Consensus-Storage-ChainDB-Impl-Args.html#t:ChainDbArgs" title="Ouroboros.Consensus.Storage.ChainDB.Impl.Args">ChainDbArgs</a> m blk &#8594; (<a href="Ouroboros-Consensus-Storage-ChainDB-Impl-ImmDB.html#t:ImmDbArgs" title="Ouroboros.Consensus.Storage.ChainDB.Impl.ImmDB">ImmDbArgs</a> m blk, <a href="Ouroboros-Consensus-Storage-ChainDB-Impl-VolDB.html#t:VolDbArgs" title="Ouroboros.Consensus.Storage.ChainDB.Impl.VolDB">VolDbArgs</a> m blk, <a href="Ouroboros-Consensus-Storage-ChainDB-Impl-LgrDB.html#t:LgrDbArgs" title="Ouroboros.Consensus.Storage.ChainDB.Impl.LgrDB">LgrDbArgs</a> m blk, <a href="Ouroboros-Consensus-Storage-ChainDB-Impl-Args.html#t:ChainDbSpecificArgs" title="Ouroboros.Consensus.Storage.ChainDB.Impl.Args">ChainDbSpecificArgs</a> m blk) <a href="src/Ouroboros.Consensus.Storage.ChainDB.Impl.Args.html#fromChainDbArgs" class="link">Source</a> <a href="#v:fromChainDbArgs" class="selflink">#</a></p><div class="doc"><p>Internal: split <code><a href="Ouroboros-Consensus-Storage-ChainDB-Impl-Args.html#t:ChainDbArgs" title="Ouroboros.Consensus.Storage.ChainDB.Impl.Args">ChainDbArgs</a></code> into <code>ImmDbArgs</code>, 'VolDbArgs, <code>LgrDbArgs</code>,
 and <code><a href="Ouroboros-Consensus-Storage-ChainDB-Impl-Args.html#t:ChainDbSpecificArgs" title="Ouroboros.Consensus.Storage.ChainDB.Impl.Args">ChainDbSpecificArgs</a></code>.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.22.0</p></div></body></html>