<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Ouroboros.Consensus.Util.STM</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">ouroboros-consensus-0.1.0.0: Consensus layer for the Ouroboros blockchain protocol</span><ul class="links" id="page-menu"><li><a href="src/Ouroboros.Consensus.Util.STM.html">Source</a></li><li><a href="&quot;../index.html&quot;">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Ouroboros.Consensus.Util.STM</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1"><code>Watcher</code></a></li><li><a href="#g:2">Misc</a></li><li><a href="#g:3">Simulate various monad stacks in STM</a></li></ul></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:Watcher">Watcher</a> m a fp = <a href="#v:Watcher">Watcher</a> {<ul class="subs"><li><a href="#v:wFingerprint">wFingerprint</a> &#8759; a &#8594; fp</li><li><a href="#v:wInitial">wInitial</a> &#8759; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> fp</li><li><a href="#v:wNotify">wNotify</a> &#8759; a &#8594; m ()</li><li><a href="#v:wReader">wReader</a> &#8759; <a href="Ouroboros-Consensus-Util-MonadSTM-NormalForm.html#t:STM" title="Ouroboros.Consensus.Util.MonadSTM.NormalForm">STM</a> m a</li></ul>}</li><li class="src short"><a href="#v:forkLinkedWatcher">forkLinkedWatcher</a> &#8759; &#8704; m a fp. (<a href="Ouroboros-Consensus-Util-IOLike.html#t:IOLike" title="Ouroboros.Consensus.Util.IOLike">IOLike</a> m, <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> fp, <a href="Ouroboros-Consensus-Util-CallStack.html#t:HasCallStack" title="Ouroboros.Consensus.Util.CallStack">HasCallStack</a>) &#8658; <a href="Ouroboros-Consensus-Util-ResourceRegistry.html#t:ResourceRegistry" title="Ouroboros.Consensus.Util.ResourceRegistry">ResourceRegistry</a> m &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-String.html#t:String" title="Data.String">String</a> &#8594; <a href="Ouroboros-Consensus-Util-STM.html#t:Watcher" title="Ouroboros.Consensus.Util.STM">Watcher</a> m a fp &#8594; m (<a href="Ouroboros-Consensus-Util-ResourceRegistry.html#t:Thread" title="Ouroboros.Consensus.Util.ResourceRegistry">Thread</a> m <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Void.html#t:Void" title="Data.Void">Void</a>)</li><li class="src short"><a href="#v:withWatcher">withWatcher</a> &#8759; &#8704; m a fp r. (<a href="Ouroboros-Consensus-Util-IOLike.html#t:IOLike" title="Ouroboros.Consensus.Util.IOLike">IOLike</a> m, <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> fp, <a href="Ouroboros-Consensus-Util-CallStack.html#t:HasCallStack" title="Ouroboros.Consensus.Util.CallStack">HasCallStack</a>) &#8658; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-String.html#t:String" title="Data.String">String</a> &#8594; <a href="Ouroboros-Consensus-Util-STM.html#t:Watcher" title="Ouroboros.Consensus.Util.STM">Watcher</a> m a fp &#8594; m r &#8594; m r</li><li class="src short"><span class="keyword">newtype</span> <a href="#t:Fingerprint">Fingerprint</a> = <a href="#v:Fingerprint">Fingerprint</a> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:WithFingerprint">WithFingerprint</a> a = <a href="#v:WithFingerprint">WithFingerprint</a> {<ul class="subs"><li><a href="#v:forgetFingerprint">forgetFingerprint</a> &#8759; !a</li><li><a href="#v:getFingerprint">getFingerprint</a> &#8759; !<a href="Ouroboros-Consensus-Util-STM.html#t:Fingerprint" title="Ouroboros.Consensus.Util.STM">Fingerprint</a></li></ul>}</li><li class="src short"><a href="#v:blockUntilAllJust">blockUntilAllJust</a> &#8759; <a href="Ouroboros-Consensus-Util-MonadSTM-NormalForm.html#t:MonadSTM" title="Ouroboros.Consensus.Util.MonadSTM.NormalForm">MonadSTM</a> m &#8658; [<a href="Ouroboros-Consensus-Util-MonadSTM-NormalForm.html#t:STM" title="Ouroboros.Consensus.Util.MonadSTM.NormalForm">STM</a> m (<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a)] &#8594; <a href="Ouroboros-Consensus-Util-MonadSTM-NormalForm.html#t:STM" title="Ouroboros.Consensus.Util.MonadSTM.NormalForm">STM</a> m [a]</li><li class="src short"><a href="#v:blockUntilChanged">blockUntilChanged</a> &#8759; &#8704; m a b. (<a href="Ouroboros-Consensus-Util-MonadSTM-NormalForm.html#t:MonadSTM" title="Ouroboros.Consensus.Util.MonadSTM.NormalForm">MonadSTM</a> m, <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> b) &#8658; (a &#8594; b) &#8594; b &#8594; <a href="Ouroboros-Consensus-Util-MonadSTM-NormalForm.html#t:STM" title="Ouroboros.Consensus.Util.MonadSTM.NormalForm">STM</a> m a &#8594; <a href="Ouroboros-Consensus-Util-MonadSTM-NormalForm.html#t:STM" title="Ouroboros.Consensus.Util.MonadSTM.NormalForm">STM</a> m (a, b)</li><li class="src short"><a href="#v:blockUntilJust">blockUntilJust</a> &#8759; <a href="Ouroboros-Consensus-Util-MonadSTM-NormalForm.html#t:MonadSTM" title="Ouroboros.Consensus.Util.MonadSTM.NormalForm">MonadSTM</a> m &#8658; <a href="Ouroboros-Consensus-Util-MonadSTM-NormalForm.html#t:STM" title="Ouroboros.Consensus.Util.MonadSTM.NormalForm">STM</a> m (<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a) &#8594; <a href="Ouroboros-Consensus-Util-MonadSTM-NormalForm.html#t:STM" title="Ouroboros.Consensus.Util.MonadSTM.NormalForm">STM</a> m a</li><li class="src short"><a href="#v:runWhenJust">runWhenJust</a> &#8759; <a href="Ouroboros-Consensus-Util-IOLike.html#t:IOLike" title="Ouroboros.Consensus.Util.IOLike">IOLike</a> m &#8658; <a href="Ouroboros-Consensus-Util-ResourceRegistry.html#t:ResourceRegistry" title="Ouroboros.Consensus.Util.ResourceRegistry">ResourceRegistry</a> m &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-String.html#t:String" title="Data.String">String</a> &#8594; <a href="Ouroboros-Consensus-Util-MonadSTM-NormalForm.html#t:STM" title="Ouroboros.Consensus.Util.MonadSTM.NormalForm">STM</a> m (<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a) &#8594; (a &#8594; m ()) &#8594; m ()</li><li class="src short"><span class="keyword">newtype</span> <a href="#t:Sim">Sim</a> n m = <a href="#v:Sim">Sim</a> {<ul class="subs"><li><a href="#v:runSim">runSim</a> &#8759; &#8704; a. n a &#8594; <a href="Ouroboros-Consensus-Util-MonadSTM-NormalForm.html#t:STM" title="Ouroboros.Consensus.Util.MonadSTM.NormalForm">STM</a> m a</li></ul>}</li><li class="src short"><a href="#v:simId">simId</a> &#8759; <a href="Ouroboros-Consensus-Util-STM.html#t:Sim" title="Ouroboros.Consensus.Util.STM">Sim</a> (<a href="Ouroboros-Consensus-Util-MonadSTM-NormalForm.html#t:STM" title="Ouroboros.Consensus.Util.MonadSTM.NormalForm">STM</a> m) m</li><li class="src short"><a href="#v:simStateT">simStateT</a> &#8759; <a href="Ouroboros-Consensus-Util-IOLike.html#t:IOLike" title="Ouroboros.Consensus.Util.IOLike">IOLike</a> m &#8658; <a href="Ouroboros-Consensus-Util-MonadSTM-NormalForm.html#t:StrictTVar" title="Ouroboros.Consensus.Util.MonadSTM.NormalForm">StrictTVar</a> m st &#8594; <a href="Ouroboros-Consensus-Util-STM.html#t:Sim" title="Ouroboros.Consensus.Util.STM">Sim</a> n m &#8594; <a href="Ouroboros-Consensus-Util-STM.html#t:Sim" title="Ouroboros.Consensus.Util.STM">Sim</a> (<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/mtl-2.2.2/Control-Monad-State-Lazy.html#t:StateT" title="Control.Monad.State.Lazy">StateT</a> st n) m</li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1><code>Watcher</code></h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Watcher" class="def">Watcher</a> m a fp <a href="src/Ouroboros.Consensus.Util.STM.html#Watcher" class="link">Source</a> <a href="#t:Watcher" class="selflink">#</a></p><div class="doc"><p>Specification for a thread that watches a variable, and reports interesting
 changes.</p><p>NOTE: STM does not guarantee that <code><a href="Ouroboros-Consensus-Util-STM.html#v:wNotify" title="Ouroboros.Consensus.Util.STM">wNotify</a></code> will <em>literally</em> be called on
 <em>every</em> change: when the system is under heavy load, some updates may be
 missed.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Watcher" class="def">Watcher</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:wFingerprint" class="def">wFingerprint</a> &#8759; a &#8594; fp</dfn><div class="doc"><p>Obtain a fingerprint from a value of the monitored variable.</p></div></li><li><dfn class="src"><a id="v:wInitial" class="def">wInitial</a> &#8759; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> fp</dfn><div class="doc"><p>The initial fingerprint</p><p>If <code><a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a></code>, the action is executed once immediately to obtain the
 initial fingerprint.</p></div></li><li><dfn class="src"><a id="v:wNotify" class="def">wNotify</a> &#8759; a &#8594; m ()</dfn><div class="doc"><p>An action executed each time the fingerprint changes.</p></div></li><li><dfn class="src"><a id="v:wReader" class="def">wReader</a> &#8759; <a href="Ouroboros-Consensus-Util-MonadSTM-NormalForm.html#t:STM" title="Ouroboros.Consensus.Util.MonadSTM.NormalForm">STM</a> m a</dfn><div class="doc"><p>The variable to monitor.</p></div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><a id="v:forkLinkedWatcher" class="def">forkLinkedWatcher</a> <a href="src/Ouroboros.Consensus.Util.STM.html#forkLinkedWatcher" class="link">Source</a> <a href="#v:forkLinkedWatcher" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">&#8759; &#8704; m a fp. (<a href="Ouroboros-Consensus-Util-IOLike.html#t:IOLike" title="Ouroboros.Consensus.Util.IOLike">IOLike</a> m, <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> fp, <a href="Ouroboros-Consensus-Util-CallStack.html#t:HasCallStack" title="Ouroboros.Consensus.Util.CallStack">HasCallStack</a>)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8658; <a href="Ouroboros-Consensus-Util-ResourceRegistry.html#t:ResourceRegistry" title="Ouroboros.Consensus.Util.ResourceRegistry">ResourceRegistry</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-String.html#t:String" title="Data.String">String</a></td><td class="doc"><p>Label for the thread</p></td></tr><tr><td class="src">&#8594; <a href="Ouroboros-Consensus-Util-STM.html#t:Watcher" title="Ouroboros.Consensus.Util.STM">Watcher</a> m a fp</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8594; m (<a href="Ouroboros-Consensus-Util-ResourceRegistry.html#t:Thread" title="Ouroboros.Consensus.Util.ResourceRegistry">Thread</a> m <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Void.html#t:Void" title="Data.Void">Void</a>)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Spawn a new thread that runs a <code><a href="Ouroboros-Consensus-Util-STM.html#t:Watcher" title="Ouroboros.Consensus.Util.STM">Watcher</a></code></p><p>The thread will be linked to the registry.</p></div></div><div class="top"><p class="src"><a id="v:withWatcher" class="def">withWatcher</a> <a href="src/Ouroboros.Consensus.Util.STM.html#withWatcher" class="link">Source</a> <a href="#v:withWatcher" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">&#8759; &#8704; m a fp r. (<a href="Ouroboros-Consensus-Util-IOLike.html#t:IOLike" title="Ouroboros.Consensus.Util.IOLike">IOLike</a> m, <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> fp, <a href="Ouroboros-Consensus-Util-CallStack.html#t:HasCallStack" title="Ouroboros.Consensus.Util.CallStack">HasCallStack</a>)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8658; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-String.html#t:String" title="Data.String">String</a></td><td class="doc"><p>Label for the thread</p></td></tr><tr><td class="src">&#8594; <a href="Ouroboros-Consensus-Util-STM.html#t:Watcher" title="Ouroboros.Consensus.Util.STM">Watcher</a> m a fp</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8594; m r</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8594; m r</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Spawn a new thread that runs a <code><a href="Ouroboros-Consensus-Util-STM.html#t:Watcher" title="Ouroboros.Consensus.Util.STM">Watcher</a></code></p><p>The thread is bracketed via <code><a href="Ouroboros-Consensus-Util-IOLike.html#v:withAsync" title="Ouroboros.Consensus.Util.IOLike">withAsync</a></code> and <code><a href="Ouroboros-Consensus-Util-IOLike.html#v:link" title="Ouroboros.Consensus.Util.IOLike">link</a></code>ed.</p><p>We do not provide the <code><a href="Ouroboros-Consensus-Util-IOLike.html#t:Async" title="Ouroboros.Consensus.Util.IOLike">Async</a></code> handle only because our anticipated use cases
 don't need it.</p></div></div><a href="#g:2" id="g:2"><h1>Misc</h1></a><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:Fingerprint" class="def">Fingerprint</a> <a href="src/Ouroboros.Consensus.Util.STM.html#Fingerprint" class="link">Source</a> <a href="#t:Fingerprint" class="selflink">#</a></p><div class="doc"><p>Simple type that can be used to indicate something in a <code>TVar</code> is
 changed.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Fingerprint" class="def">Fingerprint</a> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Fingerprint">Instances</h4><details id="i:Fingerprint" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Fingerprint:Enum:1"></span> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Prelude.html#t:Enum" title="Prelude">Enum</a> <a href="Ouroboros-Consensus-Util-STM.html#t:Fingerprint" title="Ouroboros.Consensus.Util.STM">Fingerprint</a></span> <a href="src/Ouroboros.Consensus.Util.STM.html#line-78" class="link">Source</a> <a href="#t:Fingerprint" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Fingerprint:Enum:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Util-STM.html">Ouroboros.Consensus.Util.STM</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:succ">succ</a> &#8759; <a href="Ouroboros-Consensus-Util-STM.html#t:Fingerprint" title="Ouroboros.Consensus.Util.STM">Fingerprint</a> &#8594; <a href="Ouroboros-Consensus-Util-STM.html#t:Fingerprint" title="Ouroboros.Consensus.Util.STM">Fingerprint</a> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/src" class="link">Source</a> <a href="#v:succ" class="selflink">#</a></p><p class="src"><a href="#v:pred">pred</a> &#8759; <a href="Ouroboros-Consensus-Util-STM.html#t:Fingerprint" title="Ouroboros.Consensus.Util.STM">Fingerprint</a> &#8594; <a href="Ouroboros-Consensus-Util-STM.html#t:Fingerprint" title="Ouroboros.Consensus.Util.STM">Fingerprint</a> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/src" class="link">Source</a> <a href="#v:pred" class="selflink">#</a></p><p class="src"><a href="#v:toEnum">toEnum</a> &#8759; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> &#8594; <a href="Ouroboros-Consensus-Util-STM.html#t:Fingerprint" title="Ouroboros.Consensus.Util.STM">Fingerprint</a> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/src" class="link">Source</a> <a href="#v:toEnum" class="selflink">#</a></p><p class="src"><a href="#v:fromEnum">fromEnum</a> &#8759; <a href="Ouroboros-Consensus-Util-STM.html#t:Fingerprint" title="Ouroboros.Consensus.Util.STM">Fingerprint</a> &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/src" class="link">Source</a> <a href="#v:fromEnum" class="selflink">#</a></p><p class="src"><a href="#v:enumFrom">enumFrom</a> &#8759; <a href="Ouroboros-Consensus-Util-STM.html#t:Fingerprint" title="Ouroboros.Consensus.Util.STM">Fingerprint</a> &#8594; [<a href="Ouroboros-Consensus-Util-STM.html#t:Fingerprint" title="Ouroboros.Consensus.Util.STM">Fingerprint</a>] <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/src" class="link">Source</a> <a href="#v:enumFrom" class="selflink">#</a></p><p class="src"><a href="#v:enumFromThen">enumFromThen</a> &#8759; <a href="Ouroboros-Consensus-Util-STM.html#t:Fingerprint" title="Ouroboros.Consensus.Util.STM">Fingerprint</a> &#8594; <a href="Ouroboros-Consensus-Util-STM.html#t:Fingerprint" title="Ouroboros.Consensus.Util.STM">Fingerprint</a> &#8594; [<a href="Ouroboros-Consensus-Util-STM.html#t:Fingerprint" title="Ouroboros.Consensus.Util.STM">Fingerprint</a>] <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/src" class="link">Source</a> <a href="#v:enumFromThen" class="selflink">#</a></p><p class="src"><a href="#v:enumFromTo">enumFromTo</a> &#8759; <a href="Ouroboros-Consensus-Util-STM.html#t:Fingerprint" title="Ouroboros.Consensus.Util.STM">Fingerprint</a> &#8594; <a href="Ouroboros-Consensus-Util-STM.html#t:Fingerprint" title="Ouroboros.Consensus.Util.STM">Fingerprint</a> &#8594; [<a href="Ouroboros-Consensus-Util-STM.html#t:Fingerprint" title="Ouroboros.Consensus.Util.STM">Fingerprint</a>] <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/src" class="link">Source</a> <a href="#v:enumFromTo" class="selflink">#</a></p><p class="src"><a href="#v:enumFromThenTo">enumFromThenTo</a> &#8759; <a href="Ouroboros-Consensus-Util-STM.html#t:Fingerprint" title="Ouroboros.Consensus.Util.STM">Fingerprint</a> &#8594; <a href="Ouroboros-Consensus-Util-STM.html#t:Fingerprint" title="Ouroboros.Consensus.Util.STM">Fingerprint</a> &#8594; <a href="Ouroboros-Consensus-Util-STM.html#t:Fingerprint" title="Ouroboros.Consensus.Util.STM">Fingerprint</a> &#8594; [<a href="Ouroboros-Consensus-Util-STM.html#t:Fingerprint" title="Ouroboros.Consensus.Util.STM">Fingerprint</a>] <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/src" class="link">Source</a> <a href="#v:enumFromThenTo" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Fingerprint:Eq:2"></span> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> <a href="Ouroboros-Consensus-Util-STM.html#t:Fingerprint" title="Ouroboros.Consensus.Util.STM">Fingerprint</a></span> <a href="src/Ouroboros.Consensus.Util.STM.html#line-77" class="link">Source</a> <a href="#t:Fingerprint" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Fingerprint:Eq:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Util-STM.html">Ouroboros.Consensus.Util.STM</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> &#8759; <a href="Ouroboros-Consensus-Util-STM.html#t:Fingerprint" title="Ouroboros.Consensus.Util.STM">Fingerprint</a> &#8594; <a href="Ouroboros-Consensus-Util-STM.html#t:Fingerprint" title="Ouroboros.Consensus.Util.STM">Fingerprint</a> &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/ghc-prim-0.6.1/src" class="link">Source</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> &#8759; <a href="Ouroboros-Consensus-Util-STM.html#t:Fingerprint" title="Ouroboros.Consensus.Util.STM">Fingerprint</a> &#8594; <a href="Ouroboros-Consensus-Util-STM.html#t:Fingerprint" title="Ouroboros.Consensus.Util.STM">Fingerprint</a> &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/ghc-prim-0.6.1/src" class="link">Source</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Fingerprint:Show:3"></span> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Ouroboros-Consensus-Util-STM.html#t:Fingerprint" title="Ouroboros.Consensus.Util.STM">Fingerprint</a></span> <a href="src/Ouroboros.Consensus.Util.STM.html#line-77" class="link">Source</a> <a href="#t:Fingerprint" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Fingerprint:Show:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Util-STM.html">Ouroboros.Consensus.Util.STM</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> &#8759; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> &#8594; <a href="Ouroboros-Consensus-Util-STM.html#t:Fingerprint" title="Ouroboros.Consensus.Util.STM">Fingerprint</a> &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/src" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> &#8759; <a href="Ouroboros-Consensus-Util-STM.html#t:Fingerprint" title="Ouroboros.Consensus.Util.STM">Fingerprint</a> &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-String.html#t:String" title="Data.String">String</a> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/src" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> &#8759; [<a href="Ouroboros-Consensus-Util-STM.html#t:Fingerprint" title="Ouroboros.Consensus.Util.STM">Fingerprint</a>] &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/src" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Fingerprint:Generic:4"></span> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/GHC-Generics.html#t:Generic" title="GHC.Generics">Generic</a> <a href="Ouroboros-Consensus-Util-STM.html#t:Fingerprint" title="Ouroboros.Consensus.Util.STM">Fingerprint</a></span> <a href="src/Ouroboros.Consensus.Util.STM.html#line-77" class="link">Source</a> <a href="#t:Fingerprint" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Fingerprint:Generic:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Util-STM.html">Ouroboros.Consensus.Util.STM</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> <a href="Ouroboros-Consensus-Util-STM.html#t:Fingerprint" title="Ouroboros.Consensus.Util.STM">Fingerprint</a> &#8759; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/src" class="link">Source</a> <a href="#t:Rep" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:from">from</a> &#8759; <a href="Ouroboros-Consensus-Util-STM.html#t:Fingerprint" title="Ouroboros.Consensus.Util.STM">Fingerprint</a> &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> <a href="Ouroboros-Consensus-Util-STM.html#t:Fingerprint" title="Ouroboros.Consensus.Util.STM">Fingerprint</a> x <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/src" class="link">Source</a> <a href="#v:from" class="selflink">#</a></p><p class="src"><a href="#v:to">to</a> &#8759; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> <a href="Ouroboros-Consensus-Util-STM.html#t:Fingerprint" title="Ouroboros.Consensus.Util.STM">Fingerprint</a> x &#8594; <a href="Ouroboros-Consensus-Util-STM.html#t:Fingerprint" title="Ouroboros.Consensus.Util.STM">Fingerprint</a> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/src" class="link">Source</a> <a href="#v:to" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Fingerprint:NoThunks:5"></span> <a href="Ouroboros-Consensus-Util-IOLike.html#t:NoThunks" title="Ouroboros.Consensus.Util.IOLike">NoThunks</a> <a href="Ouroboros-Consensus-Util-STM.html#t:Fingerprint" title="Ouroboros.Consensus.Util.STM">Fingerprint</a></span> <a href="src/Ouroboros.Consensus.Util.STM.html#line-79" class="link">Source</a> <a href="#t:Fingerprint" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Fingerprint:NoThunks:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Util-STM.html">Ouroboros.Consensus.Util.STM</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:noThunks">noThunks</a> &#8759; Context &#8594; <a href="Ouroboros-Consensus-Util-STM.html#t:Fingerprint" title="Ouroboros.Consensus.Util.STM">Fingerprint</a> &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> ThunkInfo) <a href="#v:noThunks" class="selflink">#</a></p><p class="src"><a href="#v:wNoThunks">wNoThunks</a> &#8759; Context &#8594; <a href="Ouroboros-Consensus-Util-STM.html#t:Fingerprint" title="Ouroboros.Consensus.Util.STM">Fingerprint</a> &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> ThunkInfo) <a href="#v:wNoThunks" class="selflink">#</a></p><p class="src"><a href="#v:showTypeOf">showTypeOf</a> &#8759; <a href="Data-SOP-Strict.html#t:Proxy" title="Data.SOP.Strict">Proxy</a> <a href="Ouroboros-Consensus-Util-STM.html#t:Fingerprint" title="Ouroboros.Consensus.Util.STM">Fingerprint</a> &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:showTypeOf" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Fingerprint:Rep:6"></span> <span class="keyword">type</span> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> <a href="Ouroboros-Consensus-Util-STM.html#t:Fingerprint" title="Ouroboros.Consensus.Util.STM">Fingerprint</a></span> <a href="src/Ouroboros.Consensus.Util.STM.html#line-77" class="link">Source</a> <a href="#t:Fingerprint" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Fingerprint:Rep:6"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Util-STM.html">Ouroboros.Consensus.Util.STM</a></p> <div class="src"><span class="keyword">type</span> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> <a href="Ouroboros-Consensus-Util-STM.html#t:Fingerprint" title="Ouroboros.Consensus.Util.STM">Fingerprint</a> = <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/GHC-Generics.html#t:D1" title="GHC.Generics">D1</a> ('<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/GHC-Generics.html#v:MetaData" title="GHC.Generics">MetaData</a> &quot;Fingerprint&quot; &quot;Ouroboros.Consensus.Util.STM&quot; &quot;ouroboros-consensus-0.1.0.0-inplace&quot; '<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Bool.html#v:True" title="Data.Bool">True</a>) (<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/GHC-Generics.html#t:C1" title="GHC.Generics">C1</a> ('<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/GHC-Generics.html#v:MetaCons" title="GHC.Generics">MetaCons</a> &quot;Fingerprint&quot; '<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/GHC-Generics.html#v:PrefixI" title="GHC.Generics">PrefixI</a> '<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Bool.html#v:False" title="Data.Bool">False</a>) (<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/GHC-Generics.html#t:S1" title="GHC.Generics">S1</a> ('<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/GHC-Generics.html#v:MetaSel" title="GHC.Generics">MetaSel</a> ('<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a> &#8759; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/GHC-TypeLits.html#t:Symbol" title="GHC.TypeLits">Symbol</a>) '<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/GHC-Generics.html#v:NoSourceUnpackedness" title="GHC.Generics">NoSourceUnpackedness</a> '<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/GHC-Generics.html#v:NoSourceStrictness" title="GHC.Generics">NoSourceStrictness</a> '<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/GHC-Generics.html#v:DecidedLazy" title="GHC.Generics">DecidedLazy</a>) (<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/GHC-Generics.html#t:Rec0" title="GHC.Generics">Rec0</a> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a>)))</div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:WithFingerprint" class="def">WithFingerprint</a> a <a href="src/Ouroboros.Consensus.Util.STM.html#WithFingerprint" class="link">Source</a> <a href="#t:WithFingerprint" class="selflink">#</a></p><div class="doc"><p>Store a value together with its fingerprint.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:WithFingerprint" class="def">WithFingerprint</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:forgetFingerprint" class="def">forgetFingerprint</a> &#8759; !a</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:getFingerprint" class="def">getFingerprint</a> &#8759; !<a href="Ouroboros-Consensus-Util-STM.html#t:Fingerprint" title="Ouroboros.Consensus.Util.STM">Fingerprint</a></dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:WithFingerprint">Instances</h4><details id="i:WithFingerprint" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithFingerprint:Functor:1"></span> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> <a href="Ouroboros-Consensus-Util-STM.html#t:WithFingerprint" title="Ouroboros.Consensus.Util.STM">WithFingerprint</a></span> <a href="src/Ouroboros.Consensus.Util.STM.html#line-85" class="link">Source</a> <a href="#t:WithFingerprint" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WithFingerprint:Functor:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Util-STM.html">Ouroboros.Consensus.Util.STM</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fmap">fmap</a> &#8759; (a &#8594; b) &#8594; <a href="Ouroboros-Consensus-Util-STM.html#t:WithFingerprint" title="Ouroboros.Consensus.Util.STM">WithFingerprint</a> a &#8594; <a href="Ouroboros-Consensus-Util-STM.html#t:WithFingerprint" title="Ouroboros.Consensus.Util.STM">WithFingerprint</a> b <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/src" class="link">Source</a> <a href="#v:fmap" class="selflink">#</a></p><p class="src"><a href="#v:-60--36-">(&lt;$)</a> &#8759; a &#8594; <a href="Ouroboros-Consensus-Util-STM.html#t:WithFingerprint" title="Ouroboros.Consensus.Util.STM">WithFingerprint</a> b &#8594; <a href="Ouroboros-Consensus-Util-STM.html#t:WithFingerprint" title="Ouroboros.Consensus.Util.STM">WithFingerprint</a> a <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/src" class="link">Source</a> <a href="#v:-60--36-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithFingerprint:Eq:2"></span> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> a &#8658; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Ouroboros-Consensus-Util-STM.html#t:WithFingerprint" title="Ouroboros.Consensus.Util.STM">WithFingerprint</a> a)</span> <a href="src/Ouroboros.Consensus.Util.STM.html#line-85" class="link">Source</a> <a href="#t:WithFingerprint" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WithFingerprint:Eq:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Util-STM.html">Ouroboros.Consensus.Util.STM</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> &#8759; <a href="Ouroboros-Consensus-Util-STM.html#t:WithFingerprint" title="Ouroboros.Consensus.Util.STM">WithFingerprint</a> a &#8594; <a href="Ouroboros-Consensus-Util-STM.html#t:WithFingerprint" title="Ouroboros.Consensus.Util.STM">WithFingerprint</a> a &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/ghc-prim-0.6.1/src" class="link">Source</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> &#8759; <a href="Ouroboros-Consensus-Util-STM.html#t:WithFingerprint" title="Ouroboros.Consensus.Util.STM">WithFingerprint</a> a &#8594; <a href="Ouroboros-Consensus-Util-STM.html#t:WithFingerprint" title="Ouroboros.Consensus.Util.STM">WithFingerprint</a> a &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/ghc-prim-0.6.1/src" class="link">Source</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithFingerprint:Show:3"></span> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> a &#8658; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Ouroboros-Consensus-Util-STM.html#t:WithFingerprint" title="Ouroboros.Consensus.Util.STM">WithFingerprint</a> a)</span> <a href="src/Ouroboros.Consensus.Util.STM.html#line-85" class="link">Source</a> <a href="#t:WithFingerprint" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WithFingerprint:Show:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Util-STM.html">Ouroboros.Consensus.Util.STM</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> &#8759; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> &#8594; <a href="Ouroboros-Consensus-Util-STM.html#t:WithFingerprint" title="Ouroboros.Consensus.Util.STM">WithFingerprint</a> a &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/src" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> &#8759; <a href="Ouroboros-Consensus-Util-STM.html#t:WithFingerprint" title="Ouroboros.Consensus.Util.STM">WithFingerprint</a> a &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-String.html#t:String" title="Data.String">String</a> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/src" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> &#8759; [<a href="Ouroboros-Consensus-Util-STM.html#t:WithFingerprint" title="Ouroboros.Consensus.Util.STM">WithFingerprint</a> a] &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/src" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithFingerprint:Generic:4"></span> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/GHC-Generics.html#t:Generic" title="GHC.Generics">Generic</a> (<a href="Ouroboros-Consensus-Util-STM.html#t:WithFingerprint" title="Ouroboros.Consensus.Util.STM">WithFingerprint</a> a)</span> <a href="src/Ouroboros.Consensus.Util.STM.html#line-85" class="link">Source</a> <a href="#t:WithFingerprint" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WithFingerprint:Generic:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Util-STM.html">Ouroboros.Consensus.Util.STM</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="Ouroboros-Consensus-Util-STM.html#t:WithFingerprint" title="Ouroboros.Consensus.Util.STM">WithFingerprint</a> a) &#8759; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/src" class="link">Source</a> <a href="#t:Rep" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:from">from</a> &#8759; <a href="Ouroboros-Consensus-Util-STM.html#t:WithFingerprint" title="Ouroboros.Consensus.Util.STM">WithFingerprint</a> a &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="Ouroboros-Consensus-Util-STM.html#t:WithFingerprint" title="Ouroboros.Consensus.Util.STM">WithFingerprint</a> a) x <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/src" class="link">Source</a> <a href="#v:from" class="selflink">#</a></p><p class="src"><a href="#v:to">to</a> &#8759; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="Ouroboros-Consensus-Util-STM.html#t:WithFingerprint" title="Ouroboros.Consensus.Util.STM">WithFingerprint</a> a) x &#8594; <a href="Ouroboros-Consensus-Util-STM.html#t:WithFingerprint" title="Ouroboros.Consensus.Util.STM">WithFingerprint</a> a <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/src" class="link">Source</a> <a href="#v:to" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithFingerprint:NoThunks:5"></span> <a href="Ouroboros-Consensus-Util-IOLike.html#t:NoThunks" title="Ouroboros.Consensus.Util.IOLike">NoThunks</a> a &#8658; <a href="Ouroboros-Consensus-Util-IOLike.html#t:NoThunks" title="Ouroboros.Consensus.Util.IOLike">NoThunks</a> (<a href="Ouroboros-Consensus-Util-STM.html#t:WithFingerprint" title="Ouroboros.Consensus.Util.STM">WithFingerprint</a> a)</span> <a href="src/Ouroboros.Consensus.Util.STM.html#line-85" class="link">Source</a> <a href="#t:WithFingerprint" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WithFingerprint:NoThunks:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Util-STM.html">Ouroboros.Consensus.Util.STM</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:noThunks">noThunks</a> &#8759; Context &#8594; <a href="Ouroboros-Consensus-Util-STM.html#t:WithFingerprint" title="Ouroboros.Consensus.Util.STM">WithFingerprint</a> a &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> ThunkInfo) <a href="#v:noThunks" class="selflink">#</a></p><p class="src"><a href="#v:wNoThunks">wNoThunks</a> &#8759; Context &#8594; <a href="Ouroboros-Consensus-Util-STM.html#t:WithFingerprint" title="Ouroboros.Consensus.Util.STM">WithFingerprint</a> a &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> ThunkInfo) <a href="#v:wNoThunks" class="selflink">#</a></p><p class="src"><a href="#v:showTypeOf">showTypeOf</a> &#8759; <a href="Data-SOP-Strict.html#t:Proxy" title="Data.SOP.Strict">Proxy</a> (<a href="Ouroboros-Consensus-Util-STM.html#t:WithFingerprint" title="Ouroboros.Consensus.Util.STM">WithFingerprint</a> a) &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:showTypeOf" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:WithFingerprint:Rep:6"></span> <span class="keyword">type</span> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="Ouroboros-Consensus-Util-STM.html#t:WithFingerprint" title="Ouroboros.Consensus.Util.STM">WithFingerprint</a> a)</span> <a href="src/Ouroboros.Consensus.Util.STM.html#line-85" class="link">Source</a> <a href="#t:WithFingerprint" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:WithFingerprint:Rep:6"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Consensus-Util-STM.html">Ouroboros.Consensus.Util.STM</a></p> <div class="src"><span class="keyword">type</span> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="Ouroboros-Consensus-Util-STM.html#t:WithFingerprint" title="Ouroboros.Consensus.Util.STM">WithFingerprint</a> a) = <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/GHC-Generics.html#t:D1" title="GHC.Generics">D1</a> ('<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/GHC-Generics.html#v:MetaData" title="GHC.Generics">MetaData</a> &quot;WithFingerprint&quot; &quot;Ouroboros.Consensus.Util.STM&quot; &quot;ouroboros-consensus-0.1.0.0-inplace&quot; '<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Bool.html#v:False" title="Data.Bool">False</a>) (<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/GHC-Generics.html#t:C1" title="GHC.Generics">C1</a> ('<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/GHC-Generics.html#v:MetaCons" title="GHC.Generics">MetaCons</a> &quot;WithFingerprint&quot; '<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/GHC-Generics.html#v:PrefixI" title="GHC.Generics">PrefixI</a> '<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Bool.html#v:True" title="Data.Bool">True</a>) (<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/GHC-Generics.html#t:S1" title="GHC.Generics">S1</a> ('<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/GHC-Generics.html#v:MetaSel" title="GHC.Generics">MetaSel</a> ('<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Maybe.html#v:Just" title="Data.Maybe">Just</a> &quot;forgetFingerprint&quot;) '<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/GHC-Generics.html#v:NoSourceUnpackedness" title="GHC.Generics">NoSourceUnpackedness</a> '<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/GHC-Generics.html#v:SourceStrict" title="GHC.Generics">SourceStrict</a> '<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/GHC-Generics.html#v:DecidedStrict" title="GHC.Generics">DecidedStrict</a>) (<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/GHC-Generics.html#t:Rec0" title="GHC.Generics">Rec0</a> a) <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/GHC-Generics.html#t::-42-:" title="GHC.Generics">:*:</a> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/GHC-Generics.html#t:S1" title="GHC.Generics">S1</a> ('<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/GHC-Generics.html#v:MetaSel" title="GHC.Generics">MetaSel</a> ('<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Maybe.html#v:Just" title="Data.Maybe">Just</a> &quot;getFingerprint&quot;) '<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/GHC-Generics.html#v:NoSourceUnpackedness" title="GHC.Generics">NoSourceUnpackedness</a> '<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/GHC-Generics.html#v:SourceStrict" title="GHC.Generics">SourceStrict</a> '<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/GHC-Generics.html#v:DecidedStrict" title="GHC.Generics">DecidedStrict</a>) (<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/GHC-Generics.html#t:Rec0" title="GHC.Generics">Rec0</a> <a href="Ouroboros-Consensus-Util-STM.html#t:Fingerprint" title="Ouroboros.Consensus.Util.STM">Fingerprint</a>)))</div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:blockUntilAllJust" class="def">blockUntilAllJust</a> &#8759; <a href="Ouroboros-Consensus-Util-MonadSTM-NormalForm.html#t:MonadSTM" title="Ouroboros.Consensus.Util.MonadSTM.NormalForm">MonadSTM</a> m &#8658; [<a href="Ouroboros-Consensus-Util-MonadSTM-NormalForm.html#t:STM" title="Ouroboros.Consensus.Util.MonadSTM.NormalForm">STM</a> m (<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a)] &#8594; <a href="Ouroboros-Consensus-Util-MonadSTM-NormalForm.html#t:STM" title="Ouroboros.Consensus.Util.MonadSTM.NormalForm">STM</a> m [a] <a href="src/Ouroboros.Consensus.Util.STM.html#blockUntilAllJust" class="link">Source</a> <a href="#v:blockUntilAllJust" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:blockUntilChanged" class="def">blockUntilChanged</a> &#8759; &#8704; m a b. (<a href="Ouroboros-Consensus-Util-MonadSTM-NormalForm.html#t:MonadSTM" title="Ouroboros.Consensus.Util.MonadSTM.NormalForm">MonadSTM</a> m, <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> b) &#8658; (a &#8594; b) &#8594; b &#8594; <a href="Ouroboros-Consensus-Util-MonadSTM-NormalForm.html#t:STM" title="Ouroboros.Consensus.Util.MonadSTM.NormalForm">STM</a> m a &#8594; <a href="Ouroboros-Consensus-Util-MonadSTM-NormalForm.html#t:STM" title="Ouroboros.Consensus.Util.MonadSTM.NormalForm">STM</a> m (a, b) <a href="src/Ouroboros.Consensus.Util.STM.html#blockUntilChanged" class="link">Source</a> <a href="#v:blockUntilChanged" class="selflink">#</a></p><div class="doc"><p>Wait until the TVar changed</p></div></div><div class="top"><p class="src"><a id="v:blockUntilJust" class="def">blockUntilJust</a> &#8759; <a href="Ouroboros-Consensus-Util-MonadSTM-NormalForm.html#t:MonadSTM" title="Ouroboros.Consensus.Util.MonadSTM.NormalForm">MonadSTM</a> m &#8658; <a href="Ouroboros-Consensus-Util-MonadSTM-NormalForm.html#t:STM" title="Ouroboros.Consensus.Util.MonadSTM.NormalForm">STM</a> m (<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a) &#8594; <a href="Ouroboros-Consensus-Util-MonadSTM-NormalForm.html#t:STM" title="Ouroboros.Consensus.Util.MonadSTM.NormalForm">STM</a> m a <a href="src/Ouroboros.Consensus.Util.STM.html#blockUntilJust" class="link">Source</a> <a href="#v:blockUntilJust" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:runWhenJust" class="def">runWhenJust</a> <a href="src/Ouroboros.Consensus.Util.STM.html#runWhenJust" class="link">Source</a> <a href="#v:runWhenJust" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">&#8759; <a href="Ouroboros-Consensus-Util-IOLike.html#t:IOLike" title="Ouroboros.Consensus.Util.IOLike">IOLike</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8658; <a href="Ouroboros-Consensus-Util-ResourceRegistry.html#t:ResourceRegistry" title="Ouroboros.Consensus.Util.ResourceRegistry">ResourceRegistry</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-String.html#t:String" title="Data.String">String</a></td><td class="doc"><p>Label for the thread</p></td></tr><tr><td class="src">&#8594; <a href="Ouroboros-Consensus-Util-MonadSTM-NormalForm.html#t:STM" title="Ouroboros.Consensus.Util.MonadSTM.NormalForm">STM</a> m (<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8594; (a &#8594; m ())</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8594; m ()</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Spawn a new thread that waits for an STM value to become <code><a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Maybe.html#v:Just" title="Data.Maybe">Just</a></code></p><p>The thread will be linked to the registry.</p></div></div><a href="#g:3" id="g:3"><h1>Simulate various monad stacks in STM</h1></a><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:Sim" class="def">Sim</a> n m <a href="src/Ouroboros.Consensus.Util.STM.html#Sim" class="link">Source</a> <a href="#t:Sim" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Sim" class="def">Sim</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:runSim" class="def">runSim</a> &#8759; &#8704; a. n a &#8594; <a href="Ouroboros-Consensus-Util-MonadSTM-NormalForm.html#t:STM" title="Ouroboros.Consensus.Util.MonadSTM.NormalForm">STM</a> m a</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><a id="v:simId" class="def">simId</a> &#8759; <a href="Ouroboros-Consensus-Util-STM.html#t:Sim" title="Ouroboros.Consensus.Util.STM">Sim</a> (<a href="Ouroboros-Consensus-Util-MonadSTM-NormalForm.html#t:STM" title="Ouroboros.Consensus.Util.MonadSTM.NormalForm">STM</a> m) m <a href="src/Ouroboros.Consensus.Util.STM.html#simId" class="link">Source</a> <a href="#v:simId" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:simStateT" class="def">simStateT</a> &#8759; <a href="Ouroboros-Consensus-Util-IOLike.html#t:IOLike" title="Ouroboros.Consensus.Util.IOLike">IOLike</a> m &#8658; <a href="Ouroboros-Consensus-Util-MonadSTM-NormalForm.html#t:StrictTVar" title="Ouroboros.Consensus.Util.MonadSTM.NormalForm">StrictTVar</a> m st &#8594; <a href="Ouroboros-Consensus-Util-STM.html#t:Sim" title="Ouroboros.Consensus.Util.STM">Sim</a> n m &#8594; <a href="Ouroboros-Consensus-Util-STM.html#t:Sim" title="Ouroboros.Consensus.Util.STM">Sim</a> (<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/mtl-2.2.2/Control-Monad-State-Lazy.html#t:StateT" title="Control.Monad.State.Lazy">StateT</a> st n) m <a href="src/Ouroboros.Consensus.Util.STM.html#simStateT" class="link">Source</a> <a href="#v:simStateT" class="selflink">#</a></p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.24.0</p></div></body></html>