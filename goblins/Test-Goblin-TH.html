<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Test.Goblin.TH</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Test.Goblin.TH.html">Source</a></li><li><a href="&quot;../index.html&quot;">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">goblins-0.1.0.0: Genetic algorithm based randomised testing</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Test.Goblin.TH</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Template Haskell derivation functions for the goblin-related typeclasses.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:deriveGoblin">deriveGoblin</a> &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/template-haskell-2.14.0.0/Language-Haskell-TH-Syntax.html#t:Name" title="Language.Haskell.TH.Syntax">Name</a> &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/template-haskell-2.14.0.0/Language-Haskell-TH-Syntax.html#t:Q" title="Language.Haskell.TH.Syntax">Q</a> [<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/template-haskell-2.14.0.0/Language-Haskell-TH-Syntax.html#t:Dec" title="Language.Haskell.TH.Syntax">Dec</a>]</li><li class="src short"><a href="#v:deriveAddShrinks">deriveAddShrinks</a> &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/template-haskell-2.14.0.0/Language-Haskell-TH-Syntax.html#t:Name" title="Language.Haskell.TH.Syntax">Name</a> &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/template-haskell-2.14.0.0/Language-Haskell-TH-Syntax.html#t:Q" title="Language.Haskell.TH.Syntax">Q</a> [<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/template-haskell-2.14.0.0/Language-Haskell-TH-Syntax.html#t:Dec" title="Language.Haskell.TH.Syntax">Dec</a>]</li><li class="src short"><a href="#v:deriveSeedGoblin">deriveSeedGoblin</a> &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/template-haskell-2.14.0.0/Language-Haskell-TH-Syntax.html#t:Name" title="Language.Haskell.TH.Syntax">Name</a> &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/template-haskell-2.14.0.0/Language-Haskell-TH-Syntax.html#t:Q" title="Language.Haskell.TH.Syntax">Q</a> [<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/template-haskell-2.14.0.0/Language-Haskell-TH-Syntax.html#t:Dec" title="Language.Haskell.TH.Syntax">Dec</a>]</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:deriveGoblin" class="def">deriveGoblin</a> &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/template-haskell-2.14.0.0/Language-Haskell-TH-Syntax.html#t:Name" title="Language.Haskell.TH.Syntax">Name</a> &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/template-haskell-2.14.0.0/Language-Haskell-TH-Syntax.html#t:Q" title="Language.Haskell.TH.Syntax">Q</a> [<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/template-haskell-2.14.0.0/Language-Haskell-TH-Syntax.html#t:Dec" title="Language.Haskell.TH.Syntax">Dec</a>] <a href="src/Test.Goblin.TH.html#deriveGoblin" class="link">Source</a> <a href="#v:deriveGoblin" class="selflink">#</a></p><div class="doc"><p>Derive a <code><a href="Test-Goblin-Core.html#t:Goblin" title="Test.Goblin.Core">Goblin</a></code> instance for datatypes which have <code><a href="Test-Goblin-Core.html#t:Goblin" title="Test.Goblin.Core">Goblin</a></code> and <code><a href="Test-Goblin-Core.html#t:AddShrinks" title="Test.Goblin.Core">AddShrinks</a></code>
 instances for their enclosed fields.
 <code><a href="Test-Goblin-Core.html#v:tinker" title="Test.Goblin.Core">tinker</a></code>s recursively with fields of a datatype, then uses <code><a href="Test-Goblin-Util.html#v:-60--36--36--62-" title="Test.Goblin.Util">&lt;$$&gt;</a></code> and <code><a href="Test-Goblin-Util.html#v:-60--42--42--62-" title="Test.Goblin.Util">&lt;**&gt;</a></code>
 to map the constructor over the tinkered fields.
 <code><a href="Test-Goblin-Core.html#v:conjure" title="Test.Goblin.Core">conjure</a></code>s by using <code><a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Functor.html#v:-60--36--62-" title="Data.Functor">&lt;$&gt;</a></code> and <code><a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Control-Applicative.html#v:-60--42--62-" title="Control.Applicative">&lt;*&gt;</a></code> over recursive calls to <code><a href="Test-Goblin-Core.html#v:conjure" title="Test.Goblin.Core">conjure</a></code>.</p><pre>  deriveGoblin ''(,)
  ======&gt;
  instance (Goblin g a,
            AddShrinks a,
            Goblin g b,
            AddShrinks b) =&gt;
           Goblin g ((,) a b) where
    tinker gen
      = tinkerRummagedOrConjureOrSave
          ((( a b -&gt; ((,) a) b)
             <a href="$$">$$</a> tinker (( ((,) a _) -&gt; a) <a href="$">$</a> gen))
             <a href="**">**</a> tinker (( ((,) _ b) -&gt; b) <a href="$">$</a> gen))
    conjure = (saveInBagOfTricks =<a href="&lt;">(((,) &lt;$</a> conjure) <a href="*">*</a> conjure))
</pre></div></div><div class="top"><p class="src"><a id="v:deriveAddShrinks" class="def">deriveAddShrinks</a> &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/template-haskell-2.14.0.0/Language-Haskell-TH-Syntax.html#t:Name" title="Language.Haskell.TH.Syntax">Name</a> &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/template-haskell-2.14.0.0/Language-Haskell-TH-Syntax.html#t:Q" title="Language.Haskell.TH.Syntax">Q</a> [<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/template-haskell-2.14.0.0/Language-Haskell-TH-Syntax.html#t:Dec" title="Language.Haskell.TH.Syntax">Dec</a>] <a href="src/Test.Goblin.TH.html#deriveAddShrinks" class="link">Source</a> <a href="#v:deriveAddShrinks" class="selflink">#</a></p><div class="doc"><p>Derive an <code><a href="Test-Goblin-Core.html#t:AddShrinks" title="Test.Goblin.Core">AddShrinks</a></code> instance for datatypes which have <code><a href="Test-Goblin-Core.html#t:AddShrinks" title="Test.Goblin.Core">AddShrinks</a></code>
 instances for their enclosed fields. Simply performs structural recursion
 on fields, then uses <code><a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Functor.html#v:-60--36--62-" title="Data.Functor">&lt;$&gt;</a></code> and <code><a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Control-Applicative.html#v:-60--42--62-" title="Control.Applicative">&lt;*&gt;</a></code> to apply the constructor over the
 <code><a href="Test-Goblin-Core.html#v:addShrinks" title="Test.Goblin.Core">addShrinks</a></code> of the fields.</p><pre>  deriveAddShrinks ''(,)
  ======&gt;
  instance (AddShrinks a, AddShrinks b) =&gt;
           AddShrinks ((,) a b) where
    addShrinks ((,) x y)
      = ((( x y -&gt; ((,) x) y)
           <a href="$">$</a> addShrinks x)
           <a href="*">*</a> addShrinks y)
</pre></div></div><div class="top"><p class="src"><a id="v:deriveSeedGoblin" class="def">deriveSeedGoblin</a> &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/template-haskell-2.14.0.0/Language-Haskell-TH-Syntax.html#t:Name" title="Language.Haskell.TH.Syntax">Name</a> &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/template-haskell-2.14.0.0/Language-Haskell-TH-Syntax.html#t:Q" title="Language.Haskell.TH.Syntax">Q</a> [<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/template-haskell-2.14.0.0/Language-Haskell-TH-Syntax.html#t:Dec" title="Language.Haskell.TH.Syntax">Dec</a>] <a href="src/Test.Goblin.TH.html#deriveSeedGoblin" class="link">Source</a> <a href="#v:deriveSeedGoblin" class="selflink">#</a></p><div class="doc"><p>Derive a <code><a href="Test-Goblin-Core.html#t:SeedGoblin" title="Test.Goblin.Core">SeedGoblin</a></code> instance which calls <code><a href="Test-Goblin-Core.html#v:saveInBagOfTricks" title="Test.Goblin.Core">saveInBagOfTricks</a></code> on the
 argument then recurs structurally on fields.</p><pre>  deriveSeedGoblin ''(,)
  ======&gt;
  instance (SeedGoblin a,
            Typeable a,
            SeedGoblin b,
            Typeable b) =&gt;
           SeedGoblin ((,) a b) where
    seeder p@((,) x y)
      = do (() &lt;$ saveInBagOfTricks p)
           seeder x
           seeder y
</pre></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.22.0</p></div></body></html>