<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Ouroboros.Consensus.ByronSpec.Ledger.Rules</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Ouroboros.Consensus.ByronSpec.Ledger.Rules.html">Source</a></li><li><a href="&quot;../index.html&quot;">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">ouroboros-consensus-byronspec-0.1.0.0: ByronSpec ledger integration in the Ouroboros consensus layer</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Ouroboros.Consensus.ByronSpec.Ledger.Rules</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Ledger</a></li><li><a href="#g:2">Lift STS transition rules to the chain level</a></li><li><a href="#g:3">STS initial rules</a></li><li><a href="#g:4">Rule context (exported for the benefit of the tests</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Thin wrapper around the Byron spec rules</p><p>Intended for qualified import</p><p>import qualified Ouroboros.Consensus.ByronSpec.Ledger.Rules as Rules</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:applyChainTick">applyChainTick</a> &#8759; <a href="Ouroboros-Consensus-ByronSpec-Ledger-Genesis.html#t:ByronSpecGenesis" title="Ouroboros.Consensus.ByronSpec.Ledger.Genesis">ByronSpecGenesis</a> &#8594; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/Byron-Spec-Ledger-Core.html#t:Slot" title="Byron.Spec.Ledger.Core">Slot</a> &#8594; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/small-steps-0.1.0.0/noopt/doc/html/small-steps/Control-State-Transition-Extended.html#t:State" title="Control.State.Transition.Extended">State</a> <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-chain-0.1.0.0/noopt/doc/html/byron-spec-chain/Byron-Spec-Chain-STS-Rule-Chain.html#t:CHAIN" title="Byron.Spec.Chain.STS.Rule.Chain">CHAIN</a> &#8594; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/small-steps-0.1.0.0/noopt/doc/html/small-steps/Control-State-Transition-Extended.html#t:State" title="Control.State.Transition.Extended">State</a> <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-chain-0.1.0.0/noopt/doc/html/byron-spec-chain/Byron-Spec-Chain-STS-Rule-Chain.html#t:CHAIN" title="Byron.Spec.Chain.STS.Rule.Chain">CHAIN</a></li><li class="src short"><a href="#v:liftCHAIN">liftCHAIN</a> &#8759; <a href="Ouroboros-Consensus-ByronSpec-Ledger-Genesis.html#t:ByronSpecGenesis" title="Ouroboros.Consensus.ByronSpec.Ledger.Genesis">ByronSpecGenesis</a> &#8594; LiftedRule <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-chain-0.1.0.0/noopt/doc/html/byron-spec-chain/Byron-Spec-Chain-STS-Rule-Chain.html#t:CHAIN" title="Byron.Spec.Chain.STS.Rule.Chain">CHAIN</a></li><li class="src short"><a href="#v:liftSDELEG">liftSDELEG</a> &#8759; <a href="Ouroboros-Consensus-ByronSpec-Ledger-Genesis.html#t:ByronSpecGenesis" title="Ouroboros.Consensus.ByronSpec.Ledger.Genesis">ByronSpecGenesis</a> &#8594; LiftedRule <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/Byron-Spec-Ledger-Delegation.html#t:SDELEG" title="Byron.Spec.Ledger.Delegation">SDELEG</a></li><li class="src short"><a href="#v:liftUTXOW">liftUTXOW</a> &#8759; <a href="Ouroboros-Consensus-ByronSpec-Ledger-Genesis.html#t:ByronSpecGenesis" title="Ouroboros.Consensus.ByronSpec.Ledger.Genesis">ByronSpecGenesis</a> &#8594; LiftedRule <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/Byron-Spec-Ledger-STS-UTXOW.html#t:UTXOW" title="Byron.Spec.Ledger.STS.UTXOW">UTXOW</a></li><li class="src short"><a href="#v:liftUPIREG">liftUPIREG</a> &#8759; <a href="Ouroboros-Consensus-ByronSpec-Ledger-Genesis.html#t:ByronSpecGenesis" title="Ouroboros.Consensus.ByronSpec.Ledger.Genesis">ByronSpecGenesis</a> &#8594; LiftedRule <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/Byron-Spec-Ledger-Update.html#t:UPIREG" title="Byron.Spec.Ledger.Update">UPIREG</a></li><li class="src short"><a href="#v:liftUPIVOTE">liftUPIVOTE</a> &#8759; <a href="Ouroboros-Consensus-ByronSpec-Ledger-Genesis.html#t:ByronSpecGenesis" title="Ouroboros.Consensus.ByronSpec.Ledger.Genesis">ByronSpecGenesis</a> &#8594; LiftedRule <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/Byron-Spec-Ledger-Update.html#t:UPIVOTE" title="Byron.Spec.Ledger.Update">UPIVOTE</a></li><li class="src short"><a href="#v:initStateCHAIN">initStateCHAIN</a> &#8759; <a href="Ouroboros-Consensus-ByronSpec-Ledger-Genesis.html#t:ByronSpecGenesis" title="Ouroboros.Consensus.ByronSpec.Ledger.Genesis">ByronSpecGenesis</a> &#8594; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/small-steps-0.1.0.0/noopt/doc/html/small-steps/Control-State-Transition-Extended.html#t:State" title="Control.State.Transition.Extended">State</a> <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-chain-0.1.0.0/noopt/doc/html/byron-spec-chain/Byron-Spec-Chain-STS-Rule-Chain.html#t:CHAIN" title="Byron.Spec.Chain.STS.Rule.Chain">CHAIN</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:RuleContext">RuleContext</a> sts = <a href="#v:RuleContext">RuleContext</a> {<ul class="subs"><li><a href="#v:getRuleState">getRuleState</a> &#8759; <a href="Ouroboros-Consensus-ByronSpec-Ledger-Accessors.html#t:GetChainState" title="Ouroboros.Consensus.ByronSpec.Ledger.Accessors">GetChainState</a> (<a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/small-steps-0.1.0.0/noopt/doc/html/small-steps/Control-State-Transition-Extended.html#t:State" title="Control.State.Transition.Extended">State</a> sts)</li><li><a href="#v:modRuleState">modRuleState</a> &#8759; <a href="Ouroboros-Consensus-ByronSpec-Ledger-Accessors.html#t:ModChainState" title="Ouroboros.Consensus.ByronSpec.Ledger.Accessors">ModChainState</a> (<a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/small-steps-0.1.0.0/noopt/doc/html/small-steps/Control-State-Transition-Extended.html#t:State" title="Control.State.Transition.Extended">State</a> sts)</li><li><a href="#v:liftFailure">liftFailure</a> &#8759; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/Byron-Spec-Ledger-Update.html#t:PredicateFailure" title="Byron.Spec.Ledger.Update">PredicateFailure</a> sts &#8594; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/Byron-Spec-Ledger-Update.html#t:PredicateFailure" title="Byron.Spec.Ledger.Update">PredicateFailure</a> <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-chain-0.1.0.0/noopt/doc/html/byron-spec-chain/Byron-Spec-Chain-STS-Rule-Chain.html#t:CHAIN" title="Byron.Spec.Chain.STS.Rule.Chain">CHAIN</a></li><li><a href="#v:getRuleEnv">getRuleEnv</a> &#8759; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/small-steps-0.1.0.0/noopt/doc/html/small-steps/Control-State-Transition-Extended.html#t:State" title="Control.State.Transition.Extended">State</a> <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-chain-0.1.0.0/noopt/doc/html/byron-spec-chain/Byron-Spec-Chain-STS-Rule-Chain.html#t:CHAIN" title="Byron.Spec.Chain.STS.Rule.Chain">CHAIN</a> &#8594; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/small-steps-0.1.0.0/noopt/doc/html/small-steps/Control-State-Transition-Extended.html#t:Environment" title="Control.State.Transition.Extended">Environment</a> sts</li></ul>}</li><li class="src short"><a href="#v:ctxtCHAIN">ctxtCHAIN</a> &#8759; <a href="Ouroboros-Consensus-ByronSpec-Ledger-Genesis.html#t:ByronSpecGenesis" title="Ouroboros.Consensus.ByronSpec.Ledger.Genesis">ByronSpecGenesis</a> &#8594; <a href="Ouroboros-Consensus-ByronSpec-Ledger-Rules.html#t:RuleContext" title="Ouroboros.Consensus.ByronSpec.Ledger.Rules">RuleContext</a> <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-chain-0.1.0.0/noopt/doc/html/byron-spec-chain/Byron-Spec-Chain-STS-Rule-Chain.html#t:CHAIN" title="Byron.Spec.Chain.STS.Rule.Chain">CHAIN</a></li><li class="src short"><a href="#v:ctxtEPOCH">ctxtEPOCH</a> &#8759; <a href="Ouroboros-Consensus-ByronSpec-Ledger-Genesis.html#t:ByronSpecGenesis" title="Ouroboros.Consensus.ByronSpec.Ledger.Genesis">ByronSpecGenesis</a> &#8594; <a href="Ouroboros-Consensus-ByronSpec-Ledger-Rules.html#t:RuleContext" title="Ouroboros.Consensus.ByronSpec.Ledger.Rules">RuleContext</a> <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-chain-0.1.0.0/noopt/doc/html/byron-spec-chain/Byron-Spec-Chain-STS-Rule-Epoch.html#t:EPOCH" title="Byron.Spec.Chain.STS.Rule.Epoch">EPOCH</a></li><li class="src short"><a href="#v:ctxtDELEG">ctxtDELEG</a> &#8759; <a href="Ouroboros-Consensus-ByronSpec-Ledger-Genesis.html#t:ByronSpecGenesis" title="Ouroboros.Consensus.ByronSpec.Ledger.Genesis">ByronSpecGenesis</a> &#8594; <a href="Ouroboros-Consensus-ByronSpec-Ledger-Rules.html#t:RuleContext" title="Ouroboros.Consensus.ByronSpec.Ledger.Rules">RuleContext</a> <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/Byron-Spec-Ledger-Delegation.html#t:DELEG" title="Byron.Spec.Ledger.Delegation">DELEG</a></li><li class="src short"><a href="#v:ctxtSDELEG">ctxtSDELEG</a> &#8759; <a href="Ouroboros-Consensus-ByronSpec-Ledger-Genesis.html#t:ByronSpecGenesis" title="Ouroboros.Consensus.ByronSpec.Ledger.Genesis">ByronSpecGenesis</a> &#8594; <a href="Ouroboros-Consensus-ByronSpec-Ledger-Rules.html#t:RuleContext" title="Ouroboros.Consensus.ByronSpec.Ledger.Rules">RuleContext</a> <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/Byron-Spec-Ledger-Delegation.html#t:SDELEG" title="Byron.Spec.Ledger.Delegation">SDELEG</a></li><li class="src short"><a href="#v:ctxtUTXOW">ctxtUTXOW</a> &#8759; <a href="Ouroboros-Consensus-ByronSpec-Ledger-Genesis.html#t:ByronSpecGenesis" title="Ouroboros.Consensus.ByronSpec.Ledger.Genesis">ByronSpecGenesis</a> &#8594; <a href="Ouroboros-Consensus-ByronSpec-Ledger-Rules.html#t:RuleContext" title="Ouroboros.Consensus.ByronSpec.Ledger.Rules">RuleContext</a> <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/Byron-Spec-Ledger-STS-UTXOW.html#t:UTXOW" title="Byron.Spec.Ledger.STS.UTXOW">UTXOW</a></li><li class="src short"><a href="#v:ctxtUPIREG">ctxtUPIREG</a> &#8759; <a href="Ouroboros-Consensus-ByronSpec-Ledger-Genesis.html#t:ByronSpecGenesis" title="Ouroboros.Consensus.ByronSpec.Ledger.Genesis">ByronSpecGenesis</a> &#8594; <a href="Ouroboros-Consensus-ByronSpec-Ledger-Rules.html#t:RuleContext" title="Ouroboros.Consensus.ByronSpec.Ledger.Rules">RuleContext</a> <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/Byron-Spec-Ledger-Update.html#t:UPIREG" title="Byron.Spec.Ledger.Update">UPIREG</a></li><li class="src short"><a href="#v:ctxtUPIVOTE">ctxtUPIVOTE</a> &#8759; <a href="Ouroboros-Consensus-ByronSpec-Ledger-Genesis.html#t:ByronSpecGenesis" title="Ouroboros.Consensus.ByronSpec.Ledger.Genesis">ByronSpecGenesis</a> &#8594; <a href="Ouroboros-Consensus-ByronSpec-Ledger-Rules.html#t:RuleContext" title="Ouroboros.Consensus.ByronSpec.Ledger.Rules">RuleContext</a> <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/Byron-Spec-Ledger-Update.html#t:UPIVOTE" title="Byron.Spec.Ledger.Update">UPIVOTE</a></li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Ledger</h1></a><div class="top"><p class="src"><a id="v:applyChainTick" class="def">applyChainTick</a> &#8759; <a href="Ouroboros-Consensus-ByronSpec-Ledger-Genesis.html#t:ByronSpecGenesis" title="Ouroboros.Consensus.ByronSpec.Ledger.Genesis">ByronSpecGenesis</a> &#8594; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/Byron-Spec-Ledger-Core.html#t:Slot" title="Byron.Spec.Ledger.Core">Slot</a> &#8594; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/small-steps-0.1.0.0/noopt/doc/html/small-steps/Control-State-Transition-Extended.html#t:State" title="Control.State.Transition.Extended">State</a> <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-chain-0.1.0.0/noopt/doc/html/byron-spec-chain/Byron-Spec-Chain-STS-Rule-Chain.html#t:CHAIN" title="Byron.Spec.Chain.STS.Rule.Chain">CHAIN</a> &#8594; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/small-steps-0.1.0.0/noopt/doc/html/small-steps/Control-State-Transition-Extended.html#t:State" title="Control.State.Transition.Extended">State</a> <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-chain-0.1.0.0/noopt/doc/html/byron-spec-chain/Byron-Spec-Chain-STS-Rule-Chain.html#t:CHAIN" title="Byron.Spec.Chain.STS.Rule.Chain">CHAIN</a> <a href="src/Ouroboros.Consensus.ByronSpec.Ledger.Rules.html#applyChainTick" class="link">Source</a> <a href="#v:applyChainTick" class="selflink">#</a></p><div class="doc"><p>Chain tick</p><p>There isn't something in the spec that directly corresponds to this, so we
 have to combine a few different things:</p><ol><li>Apply the epoch rule (update the update state)</li><li>Apply any scheduled delegations</li><li>Set the slot number</li></ol><p>This matches quite closely what <code><a href="Ouroboros-Consensus-ByronSpec-Ledger-Rules.html#v:applyChainTick" title="Ouroboros.Consensus.ByronSpec.Ledger.Rules">applyChainTick</a></code> in
 <a href="Ouroboros-Consensus-Ledger-Byron-Auxiliary.html">Ouroboros.Consensus.Ledger.Byron.Auxiliary</a> does.</p></div></div><a href="#g:2" id="g:2"><h1>Lift STS transition rules to the chain level</h1></a><div class="top"><p class="src"><a id="v:liftCHAIN" class="def">liftCHAIN</a> &#8759; <a href="Ouroboros-Consensus-ByronSpec-Ledger-Genesis.html#t:ByronSpecGenesis" title="Ouroboros.Consensus.ByronSpec.Ledger.Genesis">ByronSpecGenesis</a> &#8594; LiftedRule <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-chain-0.1.0.0/noopt/doc/html/byron-spec-chain/Byron-Spec-Chain-STS-Rule-Chain.html#t:CHAIN" title="Byron.Spec.Chain.STS.Rule.Chain">CHAIN</a> <a href="src/Ouroboros.Consensus.ByronSpec.Ledger.Rules.html#liftCHAIN" class="link">Source</a> <a href="#v:liftCHAIN" class="selflink">#</a></p><div class="doc"><p>Apply a block</p><p>This is a &quot;trivial&quot; (identity) lift.</p></div></div><div class="top"><p class="src"><a id="v:liftSDELEG" class="def">liftSDELEG</a> &#8759; <a href="Ouroboros-Consensus-ByronSpec-Ledger-Genesis.html#t:ByronSpecGenesis" title="Ouroboros.Consensus.ByronSpec.Ledger.Genesis">ByronSpecGenesis</a> &#8594; LiftedRule <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/Byron-Spec-Ledger-Delegation.html#t:SDELEG" title="Byron.Spec.Ledger.Delegation">SDELEG</a> <a href="src/Ouroboros.Consensus.ByronSpec.Ledger.Rules.html#liftSDELEG" class="link">Source</a> <a href="#v:liftSDELEG" class="selflink">#</a></p><div class="doc"><p>Apply delegation certificate</p></div></div><div class="top"><p class="src"><a id="v:liftUTXOW" class="def">liftUTXOW</a> &#8759; <a href="Ouroboros-Consensus-ByronSpec-Ledger-Genesis.html#t:ByronSpecGenesis" title="Ouroboros.Consensus.ByronSpec.Ledger.Genesis">ByronSpecGenesis</a> &#8594; LiftedRule <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/Byron-Spec-Ledger-STS-UTXOW.html#t:UTXOW" title="Byron.Spec.Ledger.STS.UTXOW">UTXOW</a> <a href="src/Ouroboros.Consensus.ByronSpec.Ledger.Rules.html#liftUTXOW" class="link">Source</a> <a href="#v:liftUTXOW" class="selflink">#</a></p><div class="doc"><p>Apply transaction</p></div></div><div class="top"><p class="src"><a id="v:liftUPIREG" class="def">liftUPIREG</a> &#8759; <a href="Ouroboros-Consensus-ByronSpec-Ledger-Genesis.html#t:ByronSpecGenesis" title="Ouroboros.Consensus.ByronSpec.Ledger.Genesis">ByronSpecGenesis</a> &#8594; LiftedRule <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/Byron-Spec-Ledger-Update.html#t:UPIREG" title="Byron.Spec.Ledger.Update">UPIREG</a> <a href="src/Ouroboros.Consensus.ByronSpec.Ledger.Rules.html#liftUPIREG" class="link">Source</a> <a href="#v:liftUPIREG" class="selflink">#</a></p><div class="doc"><p>Apply update proposal</p></div></div><div class="top"><p class="src"><a id="v:liftUPIVOTE" class="def">liftUPIVOTE</a> &#8759; <a href="Ouroboros-Consensus-ByronSpec-Ledger-Genesis.html#t:ByronSpecGenesis" title="Ouroboros.Consensus.ByronSpec.Ledger.Genesis">ByronSpecGenesis</a> &#8594; LiftedRule <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/Byron-Spec-Ledger-Update.html#t:UPIVOTE" title="Byron.Spec.Ledger.Update">UPIVOTE</a> <a href="src/Ouroboros.Consensus.ByronSpec.Ledger.Rules.html#liftUPIVOTE" class="link">Source</a> <a href="#v:liftUPIVOTE" class="selflink">#</a></p><div class="doc"><p>Apply update vote</p></div></div><a href="#g:3" id="g:3"><h1>STS initial rules</h1></a><div class="top"><p class="src"><a id="v:initStateCHAIN" class="def">initStateCHAIN</a> &#8759; <a href="Ouroboros-Consensus-ByronSpec-Ledger-Genesis.html#t:ByronSpecGenesis" title="Ouroboros.Consensus.ByronSpec.Ledger.Genesis">ByronSpecGenesis</a> &#8594; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/small-steps-0.1.0.0/noopt/doc/html/small-steps/Control-State-Transition-Extended.html#t:State" title="Control.State.Transition.Extended">State</a> <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-chain-0.1.0.0/noopt/doc/html/byron-spec-chain/Byron-Spec-Chain-STS-Rule-Chain.html#t:CHAIN" title="Byron.Spec.Chain.STS.Rule.Chain">CHAIN</a> <a href="src/Ouroboros.Consensus.ByronSpec.Ledger.Rules.html#initStateCHAIN" class="link">Source</a> <a href="#v:initStateCHAIN" class="selflink">#</a></p></div><a href="#g:4" id="g:4"><h1>Rule context (exported for the benefit of the tests</h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:RuleContext" class="def">RuleContext</a> sts <a href="src/Ouroboros.Consensus.ByronSpec.Ledger.Rules.html#RuleContext" class="link">Source</a> <a href="#t:RuleContext" class="selflink">#</a></p><div class="doc"><p>Context required to apply a rule to the top-level CHAIN state</p><p>The environment  for these rules pull in some information from the (abstract)
 genesis config and some information from the state; the reason is that
 although some values come from the state, as far as these rules are
 concerned, they are constants.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:RuleContext" class="def">RuleContext</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:getRuleState" class="def">getRuleState</a> &#8759; <a href="Ouroboros-Consensus-ByronSpec-Ledger-Accessors.html#t:GetChainState" title="Ouroboros.Consensus.ByronSpec.Ledger.Accessors">GetChainState</a> (<a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/small-steps-0.1.0.0/noopt/doc/html/small-steps/Control-State-Transition-Extended.html#t:State" title="Control.State.Transition.Extended">State</a> sts)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:modRuleState" class="def">modRuleState</a> &#8759; <a href="Ouroboros-Consensus-ByronSpec-Ledger-Accessors.html#t:ModChainState" title="Ouroboros.Consensus.ByronSpec.Ledger.Accessors">ModChainState</a> (<a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/small-steps-0.1.0.0/noopt/doc/html/small-steps/Control-State-Transition-Extended.html#t:State" title="Control.State.Transition.Extended">State</a> sts)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:liftFailure" class="def">liftFailure</a> &#8759; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/Byron-Spec-Ledger-Update.html#t:PredicateFailure" title="Byron.Spec.Ledger.Update">PredicateFailure</a> sts &#8594; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/Byron-Spec-Ledger-Update.html#t:PredicateFailure" title="Byron.Spec.Ledger.Update">PredicateFailure</a> <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-chain-0.1.0.0/noopt/doc/html/byron-spec-chain/Byron-Spec-Chain-STS-Rule-Chain.html#t:CHAIN" title="Byron.Spec.Chain.STS.Rule.Chain">CHAIN</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:getRuleEnv" class="def">getRuleEnv</a> &#8759; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/small-steps-0.1.0.0/noopt/doc/html/small-steps/Control-State-Transition-Extended.html#t:State" title="Control.State.Transition.Extended">State</a> <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-chain-0.1.0.0/noopt/doc/html/byron-spec-chain/Byron-Spec-Chain-STS-Rule-Chain.html#t:CHAIN" title="Byron.Spec.Chain.STS.Rule.Chain">CHAIN</a> &#8594; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/small-steps-0.1.0.0/noopt/doc/html/small-steps/Control-State-Transition-Extended.html#t:Environment" title="Control.State.Transition.Extended">Environment</a> sts</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><a id="v:ctxtCHAIN" class="def">ctxtCHAIN</a> &#8759; <a href="Ouroboros-Consensus-ByronSpec-Ledger-Genesis.html#t:ByronSpecGenesis" title="Ouroboros.Consensus.ByronSpec.Ledger.Genesis">ByronSpecGenesis</a> &#8594; <a href="Ouroboros-Consensus-ByronSpec-Ledger-Rules.html#t:RuleContext" title="Ouroboros.Consensus.ByronSpec.Ledger.Rules">RuleContext</a> <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-chain-0.1.0.0/noopt/doc/html/byron-spec-chain/Byron-Spec-Chain-STS-Rule-Chain.html#t:CHAIN" title="Byron.Spec.Chain.STS.Rule.Chain">CHAIN</a> <a href="src/Ouroboros.Consensus.ByronSpec.Ledger.Rules.html#ctxtCHAIN" class="link">Source</a> <a href="#v:ctxtCHAIN" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:ctxtEPOCH" class="def">ctxtEPOCH</a> &#8759; <a href="Ouroboros-Consensus-ByronSpec-Ledger-Genesis.html#t:ByronSpecGenesis" title="Ouroboros.Consensus.ByronSpec.Ledger.Genesis">ByronSpecGenesis</a> &#8594; <a href="Ouroboros-Consensus-ByronSpec-Ledger-Rules.html#t:RuleContext" title="Ouroboros.Consensus.ByronSpec.Ledger.Rules">RuleContext</a> <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-chain-0.1.0.0/noopt/doc/html/byron-spec-chain/Byron-Spec-Chain-STS-Rule-Epoch.html#t:EPOCH" title="Byron.Spec.Chain.STS.Rule.Epoch">EPOCH</a> <a href="src/Ouroboros.Consensus.ByronSpec.Ledger.Rules.html#ctxtEPOCH" class="link">Source</a> <a href="#v:ctxtEPOCH" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:ctxtDELEG" class="def">ctxtDELEG</a> &#8759; <a href="Ouroboros-Consensus-ByronSpec-Ledger-Genesis.html#t:ByronSpecGenesis" title="Ouroboros.Consensus.ByronSpec.Ledger.Genesis">ByronSpecGenesis</a> &#8594; <a href="Ouroboros-Consensus-ByronSpec-Ledger-Rules.html#t:RuleContext" title="Ouroboros.Consensus.ByronSpec.Ledger.Rules">RuleContext</a> <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/Byron-Spec-Ledger-Delegation.html#t:DELEG" title="Byron.Spec.Ledger.Delegation">DELEG</a> <a href="src/Ouroboros.Consensus.ByronSpec.Ledger.Rules.html#ctxtDELEG" class="link">Source</a> <a href="#v:ctxtDELEG" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:ctxtSDELEG" class="def">ctxtSDELEG</a> &#8759; <a href="Ouroboros-Consensus-ByronSpec-Ledger-Genesis.html#t:ByronSpecGenesis" title="Ouroboros.Consensus.ByronSpec.Ledger.Genesis">ByronSpecGenesis</a> &#8594; <a href="Ouroboros-Consensus-ByronSpec-Ledger-Rules.html#t:RuleContext" title="Ouroboros.Consensus.ByronSpec.Ledger.Rules">RuleContext</a> <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/Byron-Spec-Ledger-Delegation.html#t:SDELEG" title="Byron.Spec.Ledger.Delegation">SDELEG</a> <a href="src/Ouroboros.Consensus.ByronSpec.Ledger.Rules.html#ctxtSDELEG" class="link">Source</a> <a href="#v:ctxtSDELEG" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:ctxtUTXOW" class="def">ctxtUTXOW</a> &#8759; <a href="Ouroboros-Consensus-ByronSpec-Ledger-Genesis.html#t:ByronSpecGenesis" title="Ouroboros.Consensus.ByronSpec.Ledger.Genesis">ByronSpecGenesis</a> &#8594; <a href="Ouroboros-Consensus-ByronSpec-Ledger-Rules.html#t:RuleContext" title="Ouroboros.Consensus.ByronSpec.Ledger.Rules">RuleContext</a> <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/Byron-Spec-Ledger-STS-UTXOW.html#t:UTXOW" title="Byron.Spec.Ledger.STS.UTXOW">UTXOW</a> <a href="src/Ouroboros.Consensus.ByronSpec.Ledger.Rules.html#ctxtUTXOW" class="link">Source</a> <a href="#v:ctxtUTXOW" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:ctxtUPIREG" class="def">ctxtUPIREG</a> &#8759; <a href="Ouroboros-Consensus-ByronSpec-Ledger-Genesis.html#t:ByronSpecGenesis" title="Ouroboros.Consensus.ByronSpec.Ledger.Genesis">ByronSpecGenesis</a> &#8594; <a href="Ouroboros-Consensus-ByronSpec-Ledger-Rules.html#t:RuleContext" title="Ouroboros.Consensus.ByronSpec.Ledger.Rules">RuleContext</a> <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/Byron-Spec-Ledger-Update.html#t:UPIREG" title="Byron.Spec.Ledger.Update">UPIREG</a> <a href="src/Ouroboros.Consensus.ByronSpec.Ledger.Rules.html#ctxtUPIREG" class="link">Source</a> <a href="#v:ctxtUPIREG" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:ctxtUPIVOTE" class="def">ctxtUPIVOTE</a> &#8759; <a href="Ouroboros-Consensus-ByronSpec-Ledger-Genesis.html#t:ByronSpecGenesis" title="Ouroboros.Consensus.ByronSpec.Ledger.Genesis">ByronSpecGenesis</a> &#8594; <a href="Ouroboros-Consensus-ByronSpec-Ledger-Rules.html#t:RuleContext" title="Ouroboros.Consensus.ByronSpec.Ledger.Rules">RuleContext</a> <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/byron-spec-ledger-0.1.0.0/noopt/doc/html/byron-spec-ledger/Byron-Spec-Ledger-Update.html#t:UPIVOTE" title="Byron.Spec.Ledger.Update">UPIVOTE</a> <a href="src/Ouroboros.Consensus.ByronSpec.Ledger.Rules.html#ctxtUPIVOTE" class="link">Source</a> <a href="#v:ctxtUPIVOTE" class="selflink">#</a></p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.22.0</p></div></body></html>