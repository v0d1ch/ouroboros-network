<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Test.ThreadNet.Infra.Byron.TrackUpdates</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">ouroboros-consensus-byron-test-0.1.0.0: Test infrastructure for Byron</span><ul class="links" id="page-menu"><li><a href="src/Test.ThreadNet.Infra.Byron.TrackUpdates.html">Source</a></li><li><a href="&quot;../index.html&quot;">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Test.ThreadNet.Infra.Byron.TrackUpdates</p></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:ProtocolVersionUpdateLabel">ProtocolVersionUpdateLabel</a> = <a href="#v:ProtocolVersionUpdateLabel">ProtocolVersionUpdateLabel</a> {<ul class="subs"><li><a href="#v:pvuObserved">pvuObserved</a> &#8759; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/Cabal-3.2.1.0/Distribution-Compat-Prelude-Internal.html#t:Bool" title="Distribution.Compat.Prelude.Internal">Bool</a></li><li><a href="#v:pvuRequired">pvuRequired</a> &#8759; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/Cabal-3.2.1.0/Distribution-Compat-Prelude-Internal.html#t:Maybe" title="Distribution.Compat.Prelude.Internal">Maybe</a> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/Cabal-3.2.1.0/Distribution-Compat-Prelude-Internal.html#t:Bool" title="Distribution.Compat.Prelude.Internal">Bool</a></li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:SoftwareVersionUpdateLabel">SoftwareVersionUpdateLabel</a> = <a href="#v:SoftwareVersionUpdateLabel">SoftwareVersionUpdateLabel</a> {<ul class="subs"><li><a href="#v:svuObserved">svuObserved</a> &#8759; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/Cabal-3.2.1.0/Distribution-Compat-Prelude-Internal.html#t:Bool" title="Distribution.Compat.Prelude.Internal">Bool</a></li><li><a href="#v:svuRequired">svuRequired</a> &#8759; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/Cabal-3.2.1.0/Distribution-Compat-Prelude-Internal.html#t:Maybe" title="Distribution.Compat.Prelude.Internal">Maybe</a> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/Cabal-3.2.1.0/Distribution-Compat-Prelude-Internal.html#t:Bool" title="Distribution.Compat.Prelude.Internal">Bool</a></li></ul>}</li><li class="src short"><a href="#v:mkProtocolByronAndHardForkTxs">mkProtocolByronAndHardForkTxs</a> &#8759; &#8704; m. (<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/Cabal-3.2.1.0/Distribution-Compat-Prelude-Internal.html#t:Monad" title="Distribution.Compat.Prelude.Internal">Monad</a> m, <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/GHC-Stack.html#t:HasCallStack" title="GHC.Stack">HasCallStack</a>) &#8658; <a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/Ouroboros-Consensus-Protocol-PBFT.html#t:PBftParams" title="Ouroboros.Consensus.Protocol.PBFT">PBftParams</a> &#8594; <a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/Ouroboros-Consensus-NodeId.html#t:CoreNodeId" title="Ouroboros.Consensus.NodeId">CoreNodeId</a> &#8594; Config &#8594; GeneratedSecrets &#8594; ProtocolVersion &#8594; <a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-test-0.1.0.0/noopt/doc/html/ouroboros-consensus-test/Test-ThreadNet-Network.html#t:TestNodeInitialization" title="Test.ThreadNet.Network">TestNodeInitialization</a> m <a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-byron-0.1.0.0/noopt/doc/html/ouroboros-consensus-byron/Ouroboros-Consensus-Byron-Ledger-Block.html#t:ByronBlock" title="Ouroboros.Consensus.Byron.Ledger.Block">ByronBlock</a></li><li class="src short"><a href="#v:mkUpdateLabels">mkUpdateLabels</a> &#8759; <a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/Ouroboros-Consensus-Protocol-PBFT.html#t:PBftParams" title="Ouroboros.Consensus.Protocol.PBFT">PBftParams</a> &#8594; <a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-test-0.1.0.0/noopt/doc/html/ouroboros-consensus-test/Test-Util-Slots.html#t:NumSlots" title="Test.Util.Slots">NumSlots</a> &#8594; Config &#8594; <a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-test-0.1.0.0/noopt/doc/html/ouroboros-consensus-test/Test-ThreadNet-Util-NodeJoinPlan.html#t:NodeJoinPlan" title="Test.ThreadNet.Util.NodeJoinPlan">NodeJoinPlan</a> &#8594; <a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-test-0.1.0.0/noopt/doc/html/ouroboros-consensus-test/Test-ThreadNet-Util-NodeTopology.html#t:NodeTopology" title="Test.ThreadNet.Util.NodeTopology">NodeTopology</a> &#8594; <a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-test-0.1.0.0/noopt/doc/html/ouroboros-consensus-test/Test-ThreadNet-Ref-PBFT.html#t:Result" title="Test.ThreadNet.Ref.PBFT">Result</a> &#8594; <a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/Ouroboros-Consensus-Ledger-Basics.html#t:LedgerState" title="Ouroboros.Consensus.Ledger.Basics">LedgerState</a> <a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-byron-0.1.0.0/noopt/doc/html/ouroboros-consensus-byron/Ouroboros-Consensus-Byron-Ledger-Block.html#t:ByronBlock" title="Ouroboros.Consensus.Byron.Ledger.Block">ByronBlock</a> &#8594; (<a href="Test-ThreadNet-Infra-Byron-TrackUpdates.html#t:ProtocolVersionUpdateLabel" title="Test.ThreadNet.Infra.Byron.TrackUpdates">ProtocolVersionUpdateLabel</a>, <a href="Test-ThreadNet-Infra-Byron-TrackUpdates.html#t:SoftwareVersionUpdateLabel" title="Test.ThreadNet.Infra.Byron.TrackUpdates">SoftwareVersionUpdateLabel</a>)</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ProtocolVersionUpdateLabel" class="def">ProtocolVersionUpdateLabel</a> <a href="src/Test.ThreadNet.Infra.Byron.TrackUpdates.html#ProtocolVersionUpdateLabel" class="link">Source</a> <a href="#t:ProtocolVersionUpdateLabel" class="selflink">#</a></p><div class="doc"><p>The expectation and observation regarding whether the hard-fork proposal
 successfully updated the protocol version</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:ProtocolVersionUpdateLabel" class="def">ProtocolVersionUpdateLabel</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:pvuObserved" class="def">pvuObserved</a> &#8759; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/Cabal-3.2.1.0/Distribution-Compat-Prelude-Internal.html#t:Bool" title="Distribution.Compat.Prelude.Internal">Bool</a></dfn><div class="doc"><p>whether the proposed protocol version is adopted or not adopted by the
 end of the test</p></div></li><li><dfn class="src"><a id="v:pvuRequired" class="def">pvuRequired</a> &#8759; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/Cabal-3.2.1.0/Distribution-Compat-Prelude-Internal.html#t:Maybe" title="Distribution.Compat.Prelude.Internal">Maybe</a> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/Cabal-3.2.1.0/Distribution-Compat-Prelude-Internal.html#t:Bool" title="Distribution.Compat.Prelude.Internal">Bool</a></dfn><div class="doc"><p><code>Just b</code> indicates whether the final chains must have adopted or must
 have not adopted the proposed protocol version. <code>Nothing</code> means there is
 no requirement.</p></div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:ProtocolVersionUpdateLabel">Instances</h4><details id="i:ProtocolVersionUpdateLabel" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ProtocolVersionUpdateLabel:Show:1"></span> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/Cabal-3.2.1.0/Distribution-Compat-Prelude-Internal.html#t:Show" title="Distribution.Compat.Prelude.Internal">Show</a> <a href="Test-ThreadNet-Infra-Byron-TrackUpdates.html#t:ProtocolVersionUpdateLabel" title="Test.ThreadNet.Infra.Byron.TrackUpdates">ProtocolVersionUpdateLabel</a></span> <a href="src/Test.ThreadNet.Infra.Byron.TrackUpdates.html#line-73" class="link">Source</a> <a href="#t:ProtocolVersionUpdateLabel" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ProtocolVersionUpdateLabel:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Test-ThreadNet-Infra-Byron-TrackUpdates.html">Test.ThreadNet.Infra.Byron.TrackUpdates</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> &#8759; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/Cabal-3.2.1.0/Distribution-Compat-Prelude-Internal.html#t:Int" title="Distribution.Compat.Prelude.Internal">Int</a> &#8594; <a href="Test-ThreadNet-Infra-Byron-TrackUpdates.html#t:ProtocolVersionUpdateLabel" title="Test.ThreadNet.Infra.Byron.TrackUpdates">ProtocolVersionUpdateLabel</a> &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/Cabal-3.2.1.0/Distribution-Compat-Prelude-Internal.html#t:ShowS" title="Distribution.Compat.Prelude.Internal">ShowS</a> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/src" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> &#8759; <a href="Test-ThreadNet-Infra-Byron-TrackUpdates.html#t:ProtocolVersionUpdateLabel" title="Test.ThreadNet.Infra.Byron.TrackUpdates">ProtocolVersionUpdateLabel</a> &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/Cabal-3.2.1.0/Distribution-Compat-Prelude-Internal.html#t:String" title="Distribution.Compat.Prelude.Internal">String</a> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/src" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> &#8759; [<a href="Test-ThreadNet-Infra-Byron-TrackUpdates.html#t:ProtocolVersionUpdateLabel" title="Test.ThreadNet.Infra.Byron.TrackUpdates">ProtocolVersionUpdateLabel</a>] &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/Cabal-3.2.1.0/Distribution-Compat-Prelude-Internal.html#t:ShowS" title="Distribution.Compat.Prelude.Internal">ShowS</a> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/src" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:SoftwareVersionUpdateLabel" class="def">SoftwareVersionUpdateLabel</a> <a href="src/Test.ThreadNet.Infra.Byron.TrackUpdates.html#SoftwareVersionUpdateLabel" class="link">Source</a> <a href="#t:SoftwareVersionUpdateLabel" class="selflink">#</a></p><div class="doc"><p>As <code><a href="Test-ThreadNet-Infra-Byron-TrackUpdates.html#t:ProtocolVersionUpdateLabel" title="Test.ThreadNet.Infra.Byron.TrackUpdates">ProtocolVersionUpdateLabel</a></code>, but for software version updates</p><p>Note that software version updates are adopted sooner than and perhaps
 independently of protocol version updates, even when they are introduced by
 the same proposal transaction.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:SoftwareVersionUpdateLabel" class="def">SoftwareVersionUpdateLabel</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:svuObserved" class="def">svuObserved</a> &#8759; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/Cabal-3.2.1.0/Distribution-Compat-Prelude-Internal.html#t:Bool" title="Distribution.Compat.Prelude.Internal">Bool</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:svuRequired" class="def">svuRequired</a> &#8759; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/Cabal-3.2.1.0/Distribution-Compat-Prelude-Internal.html#t:Maybe" title="Distribution.Compat.Prelude.Internal">Maybe</a> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/Cabal-3.2.1.0/Distribution-Compat-Prelude-Internal.html#t:Bool" title="Distribution.Compat.Prelude.Internal">Bool</a></dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:SoftwareVersionUpdateLabel">Instances</h4><details id="i:SoftwareVersionUpdateLabel" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:SoftwareVersionUpdateLabel:Show:1"></span> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/Cabal-3.2.1.0/Distribution-Compat-Prelude-Internal.html#t:Show" title="Distribution.Compat.Prelude.Internal">Show</a> <a href="Test-ThreadNet-Infra-Byron-TrackUpdates.html#t:SoftwareVersionUpdateLabel" title="Test.ThreadNet.Infra.Byron.TrackUpdates">SoftwareVersionUpdateLabel</a></span> <a href="src/Test.ThreadNet.Infra.Byron.TrackUpdates.html#line-85" class="link">Source</a> <a href="#t:SoftwareVersionUpdateLabel" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:SoftwareVersionUpdateLabel:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Test-ThreadNet-Infra-Byron-TrackUpdates.html">Test.ThreadNet.Infra.Byron.TrackUpdates</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> &#8759; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/Cabal-3.2.1.0/Distribution-Compat-Prelude-Internal.html#t:Int" title="Distribution.Compat.Prelude.Internal">Int</a> &#8594; <a href="Test-ThreadNet-Infra-Byron-TrackUpdates.html#t:SoftwareVersionUpdateLabel" title="Test.ThreadNet.Infra.Byron.TrackUpdates">SoftwareVersionUpdateLabel</a> &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/Cabal-3.2.1.0/Distribution-Compat-Prelude-Internal.html#t:ShowS" title="Distribution.Compat.Prelude.Internal">ShowS</a> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/src" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> &#8759; <a href="Test-ThreadNet-Infra-Byron-TrackUpdates.html#t:SoftwareVersionUpdateLabel" title="Test.ThreadNet.Infra.Byron.TrackUpdates">SoftwareVersionUpdateLabel</a> &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/Cabal-3.2.1.0/Distribution-Compat-Prelude-Internal.html#t:String" title="Distribution.Compat.Prelude.Internal">String</a> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/src" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> &#8759; [<a href="Test-ThreadNet-Infra-Byron-TrackUpdates.html#t:SoftwareVersionUpdateLabel" title="Test.ThreadNet.Infra.Byron.TrackUpdates">SoftwareVersionUpdateLabel</a>] &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/Cabal-3.2.1.0/Distribution-Compat-Prelude-Internal.html#t:ShowS" title="Distribution.Compat.Prelude.Internal">ShowS</a> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/src" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:mkProtocolByronAndHardForkTxs" class="def">mkProtocolByronAndHardForkTxs</a> <a href="src/Test.ThreadNet.Infra.Byron.TrackUpdates.html#mkProtocolByronAndHardForkTxs" class="link">Source</a> <a href="#v:mkProtocolByronAndHardForkTxs" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">&#8759; &#8704; m. (<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/Cabal-3.2.1.0/Distribution-Compat-Prelude-Internal.html#t:Monad" title="Distribution.Compat.Prelude.Internal">Monad</a> m, <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/GHC-Stack.html#t:HasCallStack" title="GHC.Stack">HasCallStack</a>)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8658; <a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/Ouroboros-Consensus-Protocol-PBFT.html#t:PBftParams" title="Ouroboros.Consensus.Protocol.PBFT">PBftParams</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8594; <a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/Ouroboros-Consensus-NodeId.html#t:CoreNodeId" title="Ouroboros.Consensus.NodeId">CoreNodeId</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8594; Config</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8594; GeneratedSecrets</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8594; ProtocolVersion</td><td class="doc"><p>the protocol version that triggers the hard fork</p></td></tr><tr><td class="src">&#8594; <a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-test-0.1.0.0/noopt/doc/html/ouroboros-consensus-test/Test-ThreadNet-Network.html#t:TestNodeInitialization" title="Test.ThreadNet.Network">TestNodeInitialization</a> m <a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-byron-0.1.0.0/noopt/doc/html/ouroboros-consensus-byron/Ouroboros-Consensus-Byron-Ledger-Block.html#t:ByronBlock" title="Ouroboros.Consensus.Byron.Ledger.Block">ByronBlock</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>The protocol info for a node as well as some initial transactions</p><p>The transactions implement a smoke test for the hard-fork from Byron to
 Shelley. See PR #1741 for details on how that hard-fork will work. The key
 fact is that last thing the nodes will ever do while running the Byron
 protocol is adopt a specific (but as of yet to-be-determined) protocol
 version. So this smoke test ensures that the nodes can in fact adopt a new
 protocol version.</p><p>Adopting a new protocol version requires four kinds of event in Byron.
 Again, see PR #1741 for more details.</p><ul><li>Proposal transaction. A protocol parameter update proposal transaction
    makes it onto the chain (it doesn't have to actually change any
    parameters, just increase the protocol version). Proposals are
    <code>MempoolUpdateProposal</code> transactions; one is included in
    the return value of this function. In the smoke test, we immediately and
    repeatedly throughout the test add the proposal to <code>CoreNodeId 0</code>'s
    mempool; this seems realistic.</li><li>Vote transactions. A sufficient number of nodes (<code>floor (0.6 *
    <code><a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/Ouroboros-Consensus-Protocol-PBFT.html#v:pbftNumNodes" title="Ouroboros.Consensus.Protocol.PBFT">pbftNumNodes</a></code>)</code> as of this writing) must vote for the proposal. Votes
    are <code>MempoolUpdateVote</code> transactions; one per node is
    included in the return value of this function. In the smoke test, we
    immediately and repeatedly throughout the test add each node's vote to
    its own mempool; this seems realistic.</li><li>Endorsement header field. After enough votes are 2k slots old, a
    sufficient number of nodes (<code>floor (0.6 * <code><a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/Ouroboros-Consensus-Protocol-PBFT.html#v:pbftNumNodes" title="Ouroboros.Consensus.Protocol.PBFT">pbftNumNodes</a></code>)</code> as of this
    writing) must then endorse the proposal. Endorsements are not
    transactions. Instead, every Byron header includes a field that specifies
    a protocol version to endorse. At a particular stage of a corresponding
    proposal's lifetime, that field constitutes an endorsement. At all other
    times, it is essentially ignored. In the smoke test, we take advantage of
    that to avoid having to restart our nodes: the nodes' initial
    configuration causes them to immediately and always attempt to endorse
    the proposed protocol version; this seems only slightly unrealistic.</li><li>Epoch transition. After enough endorsements are 2k slots old, the
    protocol version will be adopted at the next epoch transition, unless
    something else prevents it. In the smoke test, we check the validation
    state of the final chains for the new protocol version when we detect no
    mitigating circumstances, such as the test not even being scheduled to
    reach the second epoch.</li></ul></div></div><div class="top"><p class="src"><a id="v:mkUpdateLabels" class="def">mkUpdateLabels</a> <a href="src/Test.ThreadNet.Infra.Byron.TrackUpdates.html#mkUpdateLabels" class="link">Source</a> <a href="#v:mkUpdateLabels" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">&#8759; <a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/Ouroboros-Consensus-Protocol-PBFT.html#t:PBftParams" title="Ouroboros.Consensus.Protocol.PBFT">PBftParams</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8594; <a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-test-0.1.0.0/noopt/doc/html/ouroboros-consensus-test/Test-Util-Slots.html#t:NumSlots" title="Test.Util.Slots">NumSlots</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8594; Config</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8594; <a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-test-0.1.0.0/noopt/doc/html/ouroboros-consensus-test/Test-ThreadNet-Util-NodeJoinPlan.html#t:NodeJoinPlan" title="Test.ThreadNet.Util.NodeJoinPlan">NodeJoinPlan</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8594; <a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-test-0.1.0.0/noopt/doc/html/ouroboros-consensus-test/Test-ThreadNet-Util-NodeTopology.html#t:NodeTopology" title="Test.ThreadNet.Util.NodeTopology">NodeTopology</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8594; <a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-test-0.1.0.0/noopt/doc/html/ouroboros-consensus-test/Test-ThreadNet-Ref-PBFT.html#t:Result" title="Test.ThreadNet.Ref.PBFT">Result</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8594; <a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-0.1.0.0/noopt/doc/html/ouroboros-consensus/Ouroboros-Consensus-Ledger-Basics.html#t:LedgerState" title="Ouroboros.Consensus.Ledger.Basics">LedgerState</a> <a href="file:///home/runner/work/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.10.4/ouroboros-consensus-byron-0.1.0.0/noopt/doc/html/ouroboros-consensus-byron/Ouroboros-Consensus-Byron-Ledger-Block.html#t:ByronBlock" title="Ouroboros.Consensus.Byron.Ledger.Block">ByronBlock</a></td><td class="doc"><p>from <code>nodeOutputFinalLedger</code></p></td></tr><tr><td class="src">&#8594; (<a href="Test-ThreadNet-Infra-Byron-TrackUpdates.html#t:ProtocolVersionUpdateLabel" title="Test.ThreadNet.Infra.Byron.TrackUpdates">ProtocolVersionUpdateLabel</a>, <a href="Test-ThreadNet-Infra-Byron-TrackUpdates.html#t:SoftwareVersionUpdateLabel" title="Test.ThreadNet.Infra.Byron.TrackUpdates">SoftwareVersionUpdateLabel</a>)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Classify the a <code>QuickCheck</code> test's input and output with respect to
 whether the protocol/software version should have been/was updated</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.24.0</p></div></body></html>