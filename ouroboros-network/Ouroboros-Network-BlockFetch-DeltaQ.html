<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Ouroboros.Network.BlockFetch.DeltaQ</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Ouroboros.Network.BlockFetch.DeltaQ.html">Source</a></li><li><a href="&quot;../index.html&quot;">Contents</a></li><li><a href="&quot;../doc-index.html&quot;">Index</a></li></ul><p class="caption">ouroboros-network-0.1.0.0: A networking layer for the Ouroboros blockchain protocol</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Ouroboros.Network.BlockFetch.DeltaQ</p></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:GSV">GSV</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:Distribution">Distribution</a> n</li><li class="src short"><span class="keyword">data</span> <a href="#t:DeltaQ">DeltaQ</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:PeerGSV">PeerGSV</a> = <a href="#v:PeerGSV">PeerGSV</a> {<ul class="subs"><li><a href="#v:outboundGSV">outboundGSV</a> &#8759; !<a href="Ouroboros-Network-BlockFetch-DeltaQ.html#t:GSV" title="Ouroboros.Network.BlockFetch.DeltaQ">GSV</a></li><li><a href="#v:inboundGSV">inboundGSV</a> &#8759; !<a href="Ouroboros-Network-BlockFetch-DeltaQ.html#t:GSV" title="Ouroboros.Network.BlockFetch.DeltaQ">GSV</a></li></ul>}</li><li class="src short"><span class="keyword">type</span> <a href="#t:SizeInBytes">SizeInBytes</a> = <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Word.html#t:Word32" title="Data.Word">Word32</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:PeerFetchInFlightLimits">PeerFetchInFlightLimits</a> = <a href="#v:PeerFetchInFlightLimits">PeerFetchInFlightLimits</a> {<ul class="subs"><li><a href="#v:inFlightBytesHighWatermark">inFlightBytesHighWatermark</a> &#8759; <a href="Ouroboros-Network-BlockFetch-DeltaQ.html#t:SizeInBytes" title="Ouroboros.Network.BlockFetch.DeltaQ">SizeInBytes</a></li><li><a href="#v:inFlightBytesLowWatermark">inFlightBytesLowWatermark</a> &#8759; <a href="Ouroboros-Network-BlockFetch-DeltaQ.html#t:SizeInBytes" title="Ouroboros.Network.BlockFetch.DeltaQ">SizeInBytes</a></li></ul>}</li><li class="src short"><a href="#v:calculatePeerFetchInFlightLimits">calculatePeerFetchInFlightLimits</a> &#8759; <a href="Ouroboros-Network-BlockFetch-DeltaQ.html#t:PeerGSV" title="Ouroboros.Network.BlockFetch.DeltaQ">PeerGSV</a> &#8594; <a href="Ouroboros-Network-BlockFetch-DeltaQ.html#t:PeerFetchInFlightLimits" title="Ouroboros.Network.BlockFetch.DeltaQ">PeerFetchInFlightLimits</a></li><li class="src short"><a href="#v:estimateResponseDeadlineProbability">estimateResponseDeadlineProbability</a> &#8759; <a href="Ouroboros-Network-BlockFetch-DeltaQ.html#t:PeerGSV" title="Ouroboros.Network.BlockFetch.DeltaQ">PeerGSV</a> &#8594; <a href="Ouroboros-Network-BlockFetch-DeltaQ.html#t:SizeInBytes" title="Ouroboros.Network.BlockFetch.DeltaQ">SizeInBytes</a> &#8594; <a href="Ouroboros-Network-BlockFetch-DeltaQ.html#t:SizeInBytes" title="Ouroboros.Network.BlockFetch.DeltaQ">SizeInBytes</a> &#8594; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/io-sim-classes-0.1.0.0/noopt/doc/html/io-sim-classes/Control-Monad-Class-MonadTime.html#t:DiffTime" title="Control.Monad.Class.MonadTime">DiffTime</a> &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Prelude.html#t:Double" title="Prelude">Double</a></li><li class="src short"><a href="#v:estimateExpectedResponseDuration">estimateExpectedResponseDuration</a> &#8759; <a href="Ouroboros-Network-BlockFetch-DeltaQ.html#t:PeerGSV" title="Ouroboros.Network.BlockFetch.DeltaQ">PeerGSV</a> &#8594; <a href="Ouroboros-Network-BlockFetch-DeltaQ.html#t:SizeInBytes" title="Ouroboros.Network.BlockFetch.DeltaQ">SizeInBytes</a> &#8594; <a href="Ouroboros-Network-BlockFetch-DeltaQ.html#t:SizeInBytes" title="Ouroboros.Network.BlockFetch.DeltaQ">SizeInBytes</a> &#8594; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/io-sim-classes-0.1.0.0/noopt/doc/html/io-sim-classes/Control-Monad-Class-MonadTime.html#t:DiffTime" title="Control.Monad.Class.MonadTime">DiffTime</a></li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:GSV" class="def">GSV</a> <a href="src/Ouroboros.Network.DeltaQ.html#GSV" class="link">Source</a> <a href="#t:GSV" class="selflink">#</a></p><div class="doc"><p>A &quot;GSV&quot; corresponds to a &#120491;Q that is a function of the size of a data
 unit to be transmitted over a network. That is, it gives the &#120491;Q of the
 transmission time for different sizes of data in <code><a href="Ouroboros-Network-BlockFetch-DeltaQ.html#t:SizeInBytes" title="Ouroboros.Network.BlockFetch.DeltaQ">SizeInBytes</a></code>.</p><p>The &#120491;Q is broken out into three separate &#120491;Q distributions, &#120491;Q&#8739;G, &#120491;Q&#8739;S and
 &#120491;Q&#8739;V, with the overall &#120491;Q being the convolution of the three components.
 The G and S components captures the <em>structural</em> aspects of networks, while
 the V captures the <em>variable</em> aspects:</p><dl><dt><em>G</em></dt><dd>the <em>geographical</em> component of network delay. This is the minimum
        time to transmit a hypothetical zero-sized data unit. This component
        of the distribution does not depend on the data unit size. It is
        a degenerate distribution, taking only one value.</dd><dt><em>S</em></dt><dd>the <em>serialisation</em> component of network delay. This is time to
        serialise a data unit as it is being transmitted. This is of course
        a function of the data unit size. For each size it is a degenerate
        distribution, taking only one value.</dd><dt><em>V</em></dt><dd>the <em>variable</em> aspect of network delay. This captures the variability
        in network delay due to issues such as congestion. This does not
        depend on the data unit size, and is <em>not</em> a degenerate disruption.</dd></dl><p>For ballistic transmission of packets, <em>S</em> is typically directly proportional
 to the size. Thus the combination of <em>G</em> and <em>S</em> is simply a linear function
 of the size.</p></div><div class="subs instances"><details id="i:GSV" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:GSV:Semigroup:1"></span> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Prelude.html#t:Semigroup" title="Prelude">Semigroup</a> <a href="Ouroboros-Network-BlockFetch-DeltaQ.html#t:GSV" title="Ouroboros.Network.BlockFetch.DeltaQ">GSV</a></span> <a href="src/Ouroboros.Network.DeltaQ.html#line-180" class="link">Source</a> <a href="#t:GSV" class="selflink">#</a></td><td class="doc"><p>GSVs are semi-groups by convolution on the three individual components.</p></td></tr><tr><td colspan="2"><details id="i:id:GSV:Semigroup:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Network-DeltaQ.html">Ouroboros.Network.DeltaQ</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-60--62-">(&lt;&gt;)</a> &#8759; <a href="Ouroboros-Network-BlockFetch-DeltaQ.html#t:GSV" title="Ouroboros.Network.BlockFetch.DeltaQ">GSV</a> &#8594; <a href="Ouroboros-Network-BlockFetch-DeltaQ.html#t:GSV" title="Ouroboros.Network.BlockFetch.DeltaQ">GSV</a> &#8594; <a href="Ouroboros-Network-BlockFetch-DeltaQ.html#t:GSV" title="Ouroboros.Network.BlockFetch.DeltaQ">GSV</a> <a href="#v:-60--62-" class="selflink">#</a></p><p class="src"><a href="#v:sconcat">sconcat</a> &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-List-NonEmpty.html#t:NonEmpty" title="Data.List.NonEmpty">NonEmpty</a> <a href="Ouroboros-Network-BlockFetch-DeltaQ.html#t:GSV" title="Ouroboros.Network.BlockFetch.DeltaQ">GSV</a> &#8594; <a href="Ouroboros-Network-BlockFetch-DeltaQ.html#t:GSV" title="Ouroboros.Network.BlockFetch.DeltaQ">GSV</a> <a href="#v:sconcat" class="selflink">#</a></p><p class="src"><a href="#v:stimes">stimes</a> &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Prelude.html#t:Integral" title="Prelude">Integral</a> b &#8658; b &#8594; <a href="Ouroboros-Network-BlockFetch-DeltaQ.html#t:GSV" title="Ouroboros.Network.BlockFetch.DeltaQ">GSV</a> &#8594; <a href="Ouroboros-Network-BlockFetch-DeltaQ.html#t:GSV" title="Ouroboros.Network.BlockFetch.DeltaQ">GSV</a> <a href="#v:stimes" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Distribution" class="def">Distribution</a> n <a href="src/Ouroboros.Network.DeltaQ.html#Distribution" class="link">Source</a> <a href="#t:Distribution" class="selflink">#</a></p><div class="doc"><p>An improper probability distribution over some underlying type (such as
 time durations).</p><p>The current representation only covers the case of degenerate distributions,
 that take a single value with probability 1. This is just a proof of concept
 to illustrate the API.</p></div><div class="subs instances"><details id="i:Distribution" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Distribution:Semigroup:1"></span> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Prelude.html#t:Num" title="Prelude">Num</a> n &#8658; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Prelude.html#t:Semigroup" title="Prelude">Semigroup</a> (<a href="Ouroboros-Network-BlockFetch-DeltaQ.html#t:Distribution" title="Ouroboros.Network.BlockFetch.DeltaQ">Distribution</a> n)</span> <a href="src/Ouroboros.Network.DeltaQ.html#line-109" class="link">Source</a> <a href="#t:Distribution" class="selflink">#</a></td><td class="doc"><p>Distributions are semi-groups by convolution.</p></td></tr><tr><td colspan="2"><details id="i:id:Distribution:Semigroup:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Network-DeltaQ.html">Ouroboros.Network.DeltaQ</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-60--62-">(&lt;&gt;)</a> &#8759; <a href="Ouroboros-Network-BlockFetch-DeltaQ.html#t:Distribution" title="Ouroboros.Network.BlockFetch.DeltaQ">Distribution</a> n &#8594; <a href="Ouroboros-Network-BlockFetch-DeltaQ.html#t:Distribution" title="Ouroboros.Network.BlockFetch.DeltaQ">Distribution</a> n &#8594; <a href="Ouroboros-Network-BlockFetch-DeltaQ.html#t:Distribution" title="Ouroboros.Network.BlockFetch.DeltaQ">Distribution</a> n <a href="#v:-60--62-" class="selflink">#</a></p><p class="src"><a href="#v:sconcat">sconcat</a> &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-List-NonEmpty.html#t:NonEmpty" title="Data.List.NonEmpty">NonEmpty</a> (<a href="Ouroboros-Network-BlockFetch-DeltaQ.html#t:Distribution" title="Ouroboros.Network.BlockFetch.DeltaQ">Distribution</a> n) &#8594; <a href="Ouroboros-Network-BlockFetch-DeltaQ.html#t:Distribution" title="Ouroboros.Network.BlockFetch.DeltaQ">Distribution</a> n <a href="#v:sconcat" class="selflink">#</a></p><p class="src"><a href="#v:stimes">stimes</a> &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Prelude.html#t:Integral" title="Prelude">Integral</a> b &#8658; b &#8594; <a href="Ouroboros-Network-BlockFetch-DeltaQ.html#t:Distribution" title="Ouroboros.Network.BlockFetch.DeltaQ">Distribution</a> n &#8594; <a href="Ouroboros-Network-BlockFetch-DeltaQ.html#t:Distribution" title="Ouroboros.Network.BlockFetch.DeltaQ">Distribution</a> n <a href="#v:stimes" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:DeltaQ" class="def">DeltaQ</a> <a href="src/Ouroboros.Network.DeltaQ.html#DeltaQ" class="link">Source</a> <a href="#t:DeltaQ" class="selflink">#</a></p><div class="doc"><p>A &quot;&#120491;Q&quot; is a probability distribution on the duration between two events.
 It is an &quot;improper&quot; probability distribution in that it may not integrate
 to 1. The &quot;missing&quot; probability mass represents failure. This allows both
 timing and failure to be represented in one mathematical object.</p><p>In the case of networks a &#120491;Q can be used for example distributions such as
 the time for a leading edge or trailing edge of a packet to traverse a
 network (or failing to do so), and many others besides.</p></div><div class="subs instances"><details id="i:DeltaQ" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:DeltaQ:Semigroup:1"></span> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Prelude.html#t:Semigroup" title="Prelude">Semigroup</a> <a href="Ouroboros-Network-BlockFetch-DeltaQ.html#t:DeltaQ" title="Ouroboros.Network.BlockFetch.DeltaQ">DeltaQ</a></span> <a href="src/Ouroboros.Network.DeltaQ.html#line-60" class="link">Source</a> <a href="#t:DeltaQ" class="selflink">#</a></td><td class="doc"><p>DeltaQ distributions (as independent random variables) are semi-groups
 by convolution.</p></td></tr><tr><td colspan="2"><details id="i:id:DeltaQ:Semigroup:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Network-DeltaQ.html">Ouroboros.Network.DeltaQ</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-60--62-">(&lt;&gt;)</a> &#8759; <a href="Ouroboros-Network-BlockFetch-DeltaQ.html#t:DeltaQ" title="Ouroboros.Network.BlockFetch.DeltaQ">DeltaQ</a> &#8594; <a href="Ouroboros-Network-BlockFetch-DeltaQ.html#t:DeltaQ" title="Ouroboros.Network.BlockFetch.DeltaQ">DeltaQ</a> &#8594; <a href="Ouroboros-Network-BlockFetch-DeltaQ.html#t:DeltaQ" title="Ouroboros.Network.BlockFetch.DeltaQ">DeltaQ</a> <a href="#v:-60--62-" class="selflink">#</a></p><p class="src"><a href="#v:sconcat">sconcat</a> &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-List-NonEmpty.html#t:NonEmpty" title="Data.List.NonEmpty">NonEmpty</a> <a href="Ouroboros-Network-BlockFetch-DeltaQ.html#t:DeltaQ" title="Ouroboros.Network.BlockFetch.DeltaQ">DeltaQ</a> &#8594; <a href="Ouroboros-Network-BlockFetch-DeltaQ.html#t:DeltaQ" title="Ouroboros.Network.BlockFetch.DeltaQ">DeltaQ</a> <a href="#v:sconcat" class="selflink">#</a></p><p class="src"><a href="#v:stimes">stimes</a> &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Prelude.html#t:Integral" title="Prelude">Integral</a> b &#8658; b &#8594; <a href="Ouroboros-Network-BlockFetch-DeltaQ.html#t:DeltaQ" title="Ouroboros.Network.BlockFetch.DeltaQ">DeltaQ</a> &#8594; <a href="Ouroboros-Network-BlockFetch-DeltaQ.html#t:DeltaQ" title="Ouroboros.Network.BlockFetch.DeltaQ">DeltaQ</a> <a href="#v:stimes" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:PeerGSV" class="def">PeerGSV</a> <a href="src/Ouroboros.Network.DeltaQ.html#PeerGSV" class="link">Source</a> <a href="#t:PeerGSV" class="selflink">#</a></p><div class="doc"><p>The <code><a href="Ouroboros-Network-BlockFetch-DeltaQ.html#t:GSV" title="Ouroboros.Network.BlockFetch.DeltaQ">GSV</a></code> for both directions with a peer, outbound and inbound.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:PeerGSV" class="def">PeerGSV</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:outboundGSV" class="def">outboundGSV</a> &#8759; !<a href="Ouroboros-Network-BlockFetch-DeltaQ.html#t:GSV" title="Ouroboros.Network.BlockFetch.DeltaQ">GSV</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:inboundGSV" class="def">inboundGSV</a> &#8759; !<a href="Ouroboros-Network-BlockFetch-DeltaQ.html#t:GSV" title="Ouroboros.Network.BlockFetch.DeltaQ">GSV</a></dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:SizeInBytes" class="def">SizeInBytes</a> = <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Word.html#t:Word32" title="Data.Word">Word32</a> <a href="src/Ouroboros.Network.DeltaQ.html#SizeInBytes" class="link">Source</a> <a href="#t:SizeInBytes" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:PeerFetchInFlightLimits" class="def">PeerFetchInFlightLimits</a> <a href="src/Ouroboros.Network.BlockFetch.DeltaQ.html#PeerFetchInFlightLimits" class="link">Source</a> <a href="#t:PeerFetchInFlightLimits" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:PeerFetchInFlightLimits" class="def">PeerFetchInFlightLimits</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:inFlightBytesHighWatermark" class="def">inFlightBytesHighWatermark</a> &#8759; <a href="Ouroboros-Network-BlockFetch-DeltaQ.html#t:SizeInBytes" title="Ouroboros.Network.BlockFetch.DeltaQ">SizeInBytes</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:inFlightBytesLowWatermark" class="def">inFlightBytesLowWatermark</a> &#8759; <a href="Ouroboros-Network-BlockFetch-DeltaQ.html#t:SizeInBytes" title="Ouroboros.Network.BlockFetch.DeltaQ">SizeInBytes</a></dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><details id="i:PeerFetchInFlightLimits" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:PeerFetchInFlightLimits:Show:1"></span> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Ouroboros-Network-BlockFetch-DeltaQ.html#t:PeerFetchInFlightLimits" title="Ouroboros.Network.BlockFetch.DeltaQ">PeerFetchInFlightLimits</a></span> <a href="src/Ouroboros.Network.BlockFetch.DeltaQ.html#line-29" class="link">Source</a> <a href="#t:PeerFetchInFlightLimits" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:PeerFetchInFlightLimits:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Network-BlockFetch-DeltaQ.html">Ouroboros.Network.BlockFetch.DeltaQ</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> &#8594; <a href="Ouroboros-Network-BlockFetch-DeltaQ.html#t:PeerFetchInFlightLimits" title="Ouroboros.Network.BlockFetch.DeltaQ">PeerFetchInFlightLimits</a> &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> &#8759; <a href="Ouroboros-Network-BlockFetch-DeltaQ.html#t:PeerFetchInFlightLimits" title="Ouroboros.Network.BlockFetch.DeltaQ">PeerFetchInFlightLimits</a> &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> &#8759; [<a href="Ouroboros-Network-BlockFetch-DeltaQ.html#t:PeerFetchInFlightLimits" title="Ouroboros.Network.BlockFetch.DeltaQ">PeerFetchInFlightLimits</a>] &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:calculatePeerFetchInFlightLimits" class="def">calculatePeerFetchInFlightLimits</a> &#8759; <a href="Ouroboros-Network-BlockFetch-DeltaQ.html#t:PeerGSV" title="Ouroboros.Network.BlockFetch.DeltaQ">PeerGSV</a> &#8594; <a href="Ouroboros-Network-BlockFetch-DeltaQ.html#t:PeerFetchInFlightLimits" title="Ouroboros.Network.BlockFetch.DeltaQ">PeerFetchInFlightLimits</a> <a href="src/Ouroboros.Network.BlockFetch.DeltaQ.html#calculatePeerFetchInFlightLimits" class="link">Source</a> <a href="#v:calculatePeerFetchInFlightLimits" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:estimateResponseDeadlineProbability" class="def">estimateResponseDeadlineProbability</a> &#8759; <a href="Ouroboros-Network-BlockFetch-DeltaQ.html#t:PeerGSV" title="Ouroboros.Network.BlockFetch.DeltaQ">PeerGSV</a> &#8594; <a href="Ouroboros-Network-BlockFetch-DeltaQ.html#t:SizeInBytes" title="Ouroboros.Network.BlockFetch.DeltaQ">SizeInBytes</a> &#8594; <a href="Ouroboros-Network-BlockFetch-DeltaQ.html#t:SizeInBytes" title="Ouroboros.Network.BlockFetch.DeltaQ">SizeInBytes</a> &#8594; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/io-sim-classes-0.1.0.0/noopt/doc/html/io-sim-classes/Control-Monad-Class-MonadTime.html#t:DiffTime" title="Control.Monad.Class.MonadTime">DiffTime</a> &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Prelude.html#t:Double" title="Prelude">Double</a> <a href="src/Ouroboros.Network.BlockFetch.DeltaQ.html#estimateResponseDeadlineProbability" class="link">Source</a> <a href="#v:estimateResponseDeadlineProbability" class="selflink">#</a></p><div class="doc"><p>Given the <code><a href="Ouroboros-Network-BlockFetch-DeltaQ.html#t:PeerGSV" title="Ouroboros.Network.BlockFetch.DeltaQ">PeerGSV</a></code>, the bytes already in flight and the size of new
 blocks to download, estimate the probability of the download completing
 within the deadline.</p><p>This is an appropriate estimator to use in a situation where meeting a
 known deadline is the goal.</p></div></div><div class="top"><p class="src"><a id="v:estimateExpectedResponseDuration" class="def">estimateExpectedResponseDuration</a> <a href="src/Ouroboros.Network.BlockFetch.DeltaQ.html#estimateExpectedResponseDuration" class="link">Source</a> <a href="#v:estimateExpectedResponseDuration" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">&#8759; <a href="Ouroboros-Network-BlockFetch-DeltaQ.html#t:PeerGSV" title="Ouroboros.Network.BlockFetch.DeltaQ">PeerGSV</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8594; <a href="Ouroboros-Network-BlockFetch-DeltaQ.html#t:SizeInBytes" title="Ouroboros.Network.BlockFetch.DeltaQ">SizeInBytes</a></td><td class="doc"><p>Request size</p></td></tr><tr><td class="src">&#8594; <a href="Ouroboros-Network-BlockFetch-DeltaQ.html#t:SizeInBytes" title="Ouroboros.Network.BlockFetch.DeltaQ">SizeInBytes</a></td><td class="doc"><p>Expected response size</p></td></tr><tr><td class="src">&#8594; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/io-sim-classes-0.1.0.0/noopt/doc/html/io-sim-classes/Control-Monad-Class-MonadTime.html#t:DiffTime" title="Control.Monad.Class.MonadTime">DiffTime</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Given the <code><a href="Ouroboros-Network-BlockFetch-DeltaQ.html#t:PeerGSV" title="Ouroboros.Network.BlockFetch.DeltaQ">PeerGSV</a></code>, the bytes already in flight and the size of new
 blocks to download, estimate the expected (mean) time to complete the
 download.</p><p>This is an appropriate estimator to use when trying to minimising the
 expected overall download time case in the long run (rather than optimising
 for the worst case in the short term).</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.22.0</p></div></body></html>