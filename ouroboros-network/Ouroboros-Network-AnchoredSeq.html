<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Ouroboros.Network.AnchoredSeq</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">ouroboros-network-0.1.0.0: A networking layer for the Ouroboros blockchain protocol</span><ul class="links" id="page-menu"><li><a href="src/Ouroboros.Network.AnchoredSeq.html">Source</a></li><li><a href="&quot;../index.html&quot;">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Ouroboros.Network.AnchoredSeq</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1"><code>AnchoredSeq</code> type</a></li><li><a href="#g:2"><code>Anchorable</code></a></li><li><a href="#g:3">Basic operations</a></li><li><a href="#g:4">Special operations</a></li><li><a href="#g:5">Helper functions</a></li><li><a href="#g:6">Reference implementations for testing</a></li></ul></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:AnchoredSeq">AnchoredSeq</a> v a b <span class="keyword">where</span><ul class="subs"><li><span class="keyword">pattern</span> <a href="#v:Empty">Empty</a> &#8759; <a href="Ouroboros-Network-AnchoredSeq.html#t:Anchorable" title="Ouroboros.Network.AnchoredSeq">Anchorable</a> v a b &#8658; a &#8594; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b</li><li><span class="keyword">pattern</span> <a href="#v::-62-">(:&gt;)</a> &#8759; <a href="Ouroboros-Network-AnchoredSeq.html#t:Anchorable" title="Ouroboros.Network.AnchoredSeq">Anchorable</a> v a b &#8658; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b &#8594; b &#8594; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b</li><li><span class="keyword">pattern</span> <a href="#v::-60-">(:&lt;)</a> &#8759; <a href="Ouroboros-Network-AnchoredSeq.html#t:Anchorable" title="Ouroboros.Network.AnchoredSeq">Anchorable</a> v a b &#8658; b &#8594; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b &#8594; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b</li></ul></li><li class="src short"><span class="keyword">class</span> (<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> v, <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Prelude.html#t:Bounded" title="Prelude">Bounded</a> v) &#8658; <a href="#t:Anchorable">Anchorable</a> v a b | a &#8594; v <span class="keyword">where</span><ul class="subs"><li><a href="#v:asAnchor">asAnchor</a> &#8759; b &#8594; a</li><li><a href="#v:getAnchorMeasure">getAnchorMeasure</a> &#8759; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Proxy.html#t:Proxy" title="Data.Proxy">Proxy</a> b &#8594; a &#8594; v</li></ul></li><li class="src short"><a href="#v:anchor">anchor</a> &#8759; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b &#8594; a</li><li class="src short"><a href="#v:head">head</a> &#8759; <a href="Ouroboros-Network-AnchoredSeq.html#t:Anchorable" title="Ouroboros.Network.AnchoredSeq">Anchorable</a> v a b &#8658; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Either.html#t:Either" title="Data.Either">Either</a> a b</li><li class="src short"><a href="#v:headAnchor">headAnchor</a> &#8759; &#8704; v a b. <a href="Ouroboros-Network-AnchoredSeq.html#t:Anchorable" title="Ouroboros.Network.AnchoredSeq">Anchorable</a> v a b &#8658; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b &#8594; a</li><li class="src short"><a href="#v:last">last</a> &#8759; <a href="Ouroboros-Network-AnchoredSeq.html#t:Anchorable" title="Ouroboros.Network.AnchoredSeq">Anchorable</a> v a b &#8658; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Either.html#t:Either" title="Data.Either">Either</a> a b</li><li class="src short"><a href="#v:toNewestFirst">toNewestFirst</a> &#8759; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b &#8594; [b]</li><li class="src short"><a href="#v:toOldestFirst">toOldestFirst</a> &#8759; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b &#8594; [b]</li><li class="src short"><a href="#v:fromNewestFirst">fromNewestFirst</a> &#8759; <a href="Ouroboros-Network-AnchoredSeq.html#t:Anchorable" title="Ouroboros.Network.AnchoredSeq">Anchorable</a> v a b &#8658; a &#8594; [b] &#8594; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b</li><li class="src short"><a href="#v:fromOldestFirst">fromOldestFirst</a> &#8759; <a href="Ouroboros-Network-AnchoredSeq.html#t:Anchorable" title="Ouroboros.Network.AnchoredSeq">Anchorable</a> v a b &#8658; a &#8594; [b] &#8594; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b</li><li class="src short"><a href="#v:splitAt">splitAt</a> &#8759; <a href="Ouroboros-Network-AnchoredSeq.html#t:Anchorable" title="Ouroboros.Network.AnchoredSeq">Anchorable</a> v a b &#8658; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> &#8594; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b &#8594; (<a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b, <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b)</li><li class="src short"><a href="#v:dropNewest">dropNewest</a> &#8759; <a href="Ouroboros-Network-AnchoredSeq.html#t:Anchorable" title="Ouroboros.Network.AnchoredSeq">Anchorable</a> v a b &#8658; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> &#8594; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b &#8594; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b</li><li class="src short"><a href="#v:takeOldest">takeOldest</a> &#8759; <a href="Ouroboros-Network-AnchoredSeq.html#t:Anchorable" title="Ouroboros.Network.AnchoredSeq">Anchorable</a> v a b &#8658; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> &#8594; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b &#8594; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b</li><li class="src short"><a href="#v:dropWhileNewest">dropWhileNewest</a> &#8759; <a href="Ouroboros-Network-AnchoredSeq.html#t:Anchorable" title="Ouroboros.Network.AnchoredSeq">Anchorable</a> v a b &#8658; (b &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) &#8594; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b &#8594; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b</li><li class="src short"><a href="#v:takeWhileOldest">takeWhileOldest</a> &#8759; <a href="Ouroboros-Network-AnchoredSeq.html#t:Anchorable" title="Ouroboros.Network.AnchoredSeq">Anchorable</a> v a b &#8658; (b &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) &#8594; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b &#8594; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b</li><li class="src short"><a href="#v:length">length</a> &#8759; <a href="Ouroboros-Network-AnchoredSeq.html#t:Anchorable" title="Ouroboros.Network.AnchoredSeq">Anchorable</a> v a b &#8658; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li class="src short"><a href="#v:null">null</a> &#8759; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:contains">contains</a> &#8759; <a href="Ouroboros-Network-AnchoredSeq.html#t:Anchorable" title="Ouroboros.Network.AnchoredSeq">Anchorable</a> v a b &#8658; v &#8594; (b &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) &#8594; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:withinBounds">withinBounds</a> &#8759; <a href="Ouroboros-Network-AnchoredSeq.html#t:Anchorable" title="Ouroboros.Network.AnchoredSeq">Anchorable</a> v a b &#8658; v &#8594; (<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Either.html#t:Either" title="Data.Either">Either</a> a b &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) &#8594; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:map">map</a> &#8759; <a href="Ouroboros-Network-AnchoredSeq.html#t:Anchorable" title="Ouroboros.Network.AnchoredSeq">Anchorable</a> v2 a b2 &#8658; (b1 &#8594; b2) &#8594; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v1 a b1 &#8594; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v2 a b2</li><li class="src short"><a href="#v:bimap">bimap</a> &#8759; <a href="Ouroboros-Network-AnchoredSeq.html#t:Anchorable" title="Ouroboros.Network.AnchoredSeq">Anchorable</a> v2 a2 b2 &#8658; (a1 &#8594; a2) &#8594; (b1 &#8594; b2) &#8594; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v1 a1 b1 &#8594; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v2 a2 b2</li><li class="src short"><a href="#v:mapPreservingMeasure">mapPreservingMeasure</a> &#8759; (b1 &#8594; b2) &#8594; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b1 &#8594; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b2</li><li class="src short"><a href="#v:bimapPreservingMeasure">bimapPreservingMeasure</a> &#8759; (a1 &#8594; a2) &#8594; (b1 &#8594; b2) &#8594; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a1 b1 &#8594; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a2 b2</li><li class="src short"><a href="#v:rollback">rollback</a> &#8759; <a href="Ouroboros-Network-AnchoredSeq.html#t:Anchorable" title="Ouroboros.Network.AnchoredSeq">Anchorable</a> v a b &#8658; v &#8594; (<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Either.html#t:Either" title="Data.Either">Either</a> a b &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) &#8594; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b)</li><li class="src short"><a href="#v:isPrefixOf">isPrefixOf</a> &#8759; &#8704; v a b. (<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> a, <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> b) &#8658; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b &#8594; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:isPrefixOfByMeasure">isPrefixOfByMeasure</a> &#8759; &#8704; v a b. <a href="Ouroboros-Network-AnchoredSeq.html#t:Anchorable" title="Ouroboros.Network.AnchoredSeq">Anchorable</a> v a b &#8658; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b &#8594; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:lookupByMeasure">lookupByMeasure</a> &#8759; <a href="Ouroboros-Network-AnchoredSeq.html#t:Anchorable" title="Ouroboros.Network.AnchoredSeq">Anchorable</a> v a b &#8658; v &#8594; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b &#8594; [b]</li><li class="src short"><a href="#v:splitAfterMeasure">splitAfterMeasure</a> &#8759; <a href="Ouroboros-Network-AnchoredSeq.html#t:Anchorable" title="Ouroboros.Network.AnchoredSeq">Anchorable</a> v a b &#8658; v &#8594; (<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Either.html#t:Either" title="Data.Either">Either</a> a b &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) &#8594; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b, <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b)</li><li class="src short"><a href="#v:splitBeforeMeasure">splitBeforeMeasure</a> &#8759; <a href="Ouroboros-Network-AnchoredSeq.html#t:Anchorable" title="Ouroboros.Network.AnchoredSeq">Anchorable</a> v a b &#8658; v &#8594; (b &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) &#8594; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b, <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b)</li><li class="src short"><a href="#v:join">join</a> &#8759; &#8704; v a b. <a href="Ouroboros-Network-AnchoredSeq.html#t:Anchorable" title="Ouroboros.Network.AnchoredSeq">Anchorable</a> v a b &#8658; (<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Either.html#t:Either" title="Data.Either">Either</a> a b &#8594; a &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) &#8594; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b &#8594; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b)</li><li class="src short"><a href="#v:anchorNewest">anchorNewest</a> &#8759; &#8704; v a b. <a href="Ouroboros-Network-AnchoredSeq.html#t:Anchorable" title="Ouroboros.Network.AnchoredSeq">Anchorable</a> v a b &#8658; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a> &#8594; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b &#8594; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b</li><li class="src short"><a href="#v:selectOffsets">selectOffsets</a> &#8759; &#8704; v a b. <a href="Ouroboros-Network-AnchoredSeq.html#t:Anchorable" title="Ouroboros.Network.AnchoredSeq">Anchorable</a> v a b &#8658; [<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a>] &#8594; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b &#8594; [<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Either.html#t:Either" title="Data.Either">Either</a> a b]</li><li class="src short"><a href="#v:filter">filter</a> &#8759; &#8704; v a b. <a href="Ouroboros-Network-AnchoredSeq.html#t:Anchorable" title="Ouroboros.Network.AnchoredSeq">Anchorable</a> v a b &#8658; (b &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) &#8594; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b &#8594; [<a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b]</li><li class="src short"><a href="#v:filterWithStop">filterWithStop</a> &#8759; &#8704; v a b. <a href="Ouroboros-Network-AnchoredSeq.html#t:Anchorable" title="Ouroboros.Network.AnchoredSeq">Anchorable</a> v a b &#8658; (b &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) &#8594; (b &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) &#8594; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b &#8594; [<a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b]</li><li class="src short"><a href="#v:prettyPrint">prettyPrint</a> &#8759; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-String.html#t:String" title="Data.String">String</a> &#8594; (a &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-String.html#t:String" title="Data.String">String</a>) &#8594; (b &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-String.html#t:String" title="Data.String">String</a>) &#8594; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-String.html#t:String" title="Data.String">String</a></li><li class="src short"><a href="#v:filterWithStopSpec">filterWithStopSpec</a> &#8759; &#8704; v a b. <a href="Ouroboros-Network-AnchoredSeq.html#t:Anchorable" title="Ouroboros.Network.AnchoredSeq">Anchorable</a> v a b &#8658; (b &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) &#8594; (b &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) &#8594; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b &#8594; [<a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b]</li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1><code>AnchoredSeq</code> type</h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:AnchoredSeq" class="def">AnchoredSeq</a> v a b <span class="keyword">where</span> <a href="src/Ouroboros.Network.AnchoredSeq.html#AnchoredSeq" class="link">Source</a> <a href="#t:AnchoredSeq" class="selflink">#</a></p><div class="doc"><p>Generalisation of a <code>Sequence</code> with elements of type <code>b</code> with a custom
 measure <code>v</code> and an anchor <code>a</code>.</p><p>This type is strict in the elements, but not strict in the spine.</p><p>For example, an <code><a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a></code> can represent a fragment of a chain containing
 blocks that is anchored at a certain point. It can also represent a history
 of ledger states with the anchor being the &quot;immutable&quot; ledger state.</p><p>NOTE: there might be multiple elements with the same measure, e.g., multiple
 blocks with the same <code>WithOrigin SlotNo</code>. That is why functions operating on
 an <code><a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a></code> often take a predicate in addition to a measure. At most one
 element should satisfy that predicate, e.g., the block must have a certain
 hash. The behaviour is undefined when multiple elements satisfy the
 predicate.</p></div><div class="subs bundled-patterns"><p class="caption">Bundled Patterns</p><table><tr><td class="src"><span class="keyword">pattern</span> <a id="v:Empty" class="def">Empty</a> &#8759; <a href="Ouroboros-Network-AnchoredSeq.html#t:Anchorable" title="Ouroboros.Network.AnchoredSeq">Anchorable</a> v a b &#8658; a &#8594; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b</td><td class="doc"><p><span class="mathjax">\( O(1) \)</span>. Pattern for matching on or creating an empty <code><a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a></code>. An
 empty sequence has/needs an anchor.</p></td></tr><tr><td class="src"><span class="keyword">pattern</span> <a id="v::-62-" class="def">(:&gt;)</a> &#8759; <a href="Ouroboros-Network-AnchoredSeq.html#t:Anchorable" title="Ouroboros.Network.AnchoredSeq">Anchorable</a> v a b &#8658; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b &#8594; b &#8594; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b <span class="fixity">infixl 5</span><span class="rightedge"></span></td><td class="doc"><p><span class="mathjax">\( O(1) \)</span>. Add an element to the right of the anchored sequence.</p></td></tr><tr><td class="src"><span class="keyword">pattern</span> <a id="v::-60-" class="def">(:&lt;)</a> &#8759; <a href="Ouroboros-Network-AnchoredSeq.html#t:Anchorable" title="Ouroboros.Network.AnchoredSeq">Anchorable</a> v a b &#8658; b &#8594; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b &#8594; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b <span class="fixity">infixl 5</span><span class="rightedge"></span></td><td class="doc"><p><span class="mathjax">\( O(1) \)</span>. View the first, leftmost block of the anchored sequence.</p><p>Note that the anchor shifts, i.e., the anchor of the second argument will
 correspond to the first argument.</p><p>This is only a view, not a constructor, as adding a block to the left would
 change the anchor of the sequence, but we have no information about the
 predecessor of the block we'd be prepending.</p></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:AnchoredSeq">Instances</h4><details id="i:AnchoredSeq" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:AnchoredSeq:Eq:1"></span> (<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> a, <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> b) &#8658; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b)</span> <a href="src/Ouroboros.Network.AnchoredSeq.html#line-94" class="link">Source</a> <a href="#t:AnchoredSeq" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:AnchoredSeq:Eq:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Network-AnchoredSeq.html">Ouroboros.Network.AnchoredSeq</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> &#8759; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b &#8594; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/ghc-prim-0.6.1/src" class="link">Source</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> &#8759; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b &#8594; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/ghc-prim-0.6.1/src" class="link">Source</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:AnchoredSeq:Show:2"></span> (<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> a, <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> b) &#8658; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b)</span> <a href="src/Ouroboros.Network.AnchoredSeq.html#line-94" class="link">Source</a> <a href="#t:AnchoredSeq" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:AnchoredSeq:Show:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Network-AnchoredSeq.html">Ouroboros.Network.AnchoredSeq</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> &#8759; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> &#8594; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/src" class="link">Source</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> &#8759; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-String.html#t:String" title="Data.String">String</a> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/src" class="link">Source</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> &#8759; [<a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b] &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/src" class="link">Source</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:AnchoredSeq:Generic:3"></span> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/GHC-Generics.html#t:Generic" title="GHC.Generics">Generic</a> (<a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b)</span> <a href="src/Ouroboros.Network.AnchoredSeq.html#line-94" class="link">Source</a> <a href="#t:AnchoredSeq" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:AnchoredSeq:Generic:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Network-AnchoredSeq.html">Ouroboros.Network.AnchoredSeq</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b) &#8759; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/src" class="link">Source</a> <a href="#t:Rep" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:from">from</a> &#8759; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b) x <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/src" class="link">Source</a> <a href="#v:from" class="selflink">#</a></p><p class="src"><a href="#v:to">to</a> &#8759; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b) x &#8594; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/src" class="link">Source</a> <a href="#v:to" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:AnchoredSeq:NoThunks:4"></span> (NoThunks a, NoThunks b) &#8658; NoThunks (<a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b)</span> <a href="src/Ouroboros.Network.AnchoredSeq.html#line-94" class="link">Source</a> <a href="#t:AnchoredSeq" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:AnchoredSeq:NoThunks:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Network-AnchoredSeq.html">Ouroboros.Network.AnchoredSeq</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:noThunks">noThunks</a> &#8759; Context &#8594; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> ThunkInfo)</p><p class="src"><a href="#v:wNoThunks">wNoThunks</a> &#8759; Context &#8594; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> ThunkInfo)</p><p class="src"><a href="#v:showTypeOf">showTypeOf</a> &#8759; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Proxy.html#t:Proxy" title="Data.Proxy">Proxy</a> (<a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b) &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-String.html#t:String" title="Data.String">String</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:AnchoredSeq:Rep:5"></span> <span class="keyword">type</span> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b)</span> <a href="src/Ouroboros.Network.AnchoredSeq.html#line-94" class="link">Source</a> <a href="#t:AnchoredSeq" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:AnchoredSeq:Rep:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Network-AnchoredSeq.html">Ouroboros.Network.AnchoredSeq</a></p> <div class="src"><span class="keyword">type</span> <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b)</div></details></td></tr></table></details></div></div><a href="#g:2" id="g:2"><h1><code>Anchorable</code></h1></a><div class="top"><p class="src"><span class="keyword">class</span> (<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> v, <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Prelude.html#t:Bounded" title="Prelude">Bounded</a> v) &#8658; <a id="t:Anchorable" class="def">Anchorable</a> v a b | a &#8594; v <span class="keyword">where</span> <a href="src/Ouroboros.Network.AnchoredSeq.html#Anchorable" class="link">Source</a> <a href="#t:Anchorable" class="selflink">#</a></p><div class="doc"><p>Constaint needed to use an <code>AnchoredSeq</code>.</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:asAnchor" class="def">asAnchor</a> &#8759; b &#8594; a <a href="src/Ouroboros.Network.AnchoredSeq.html#asAnchor" class="link">Source</a> <a href="#v:asAnchor" class="selflink">#</a></p><div class="doc"><p><code>b</code> as anchor</p></div><p class="src"><a id="v:getAnchorMeasure" class="def">getAnchorMeasure</a> &#8759; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Proxy.html#t:Proxy" title="Data.Proxy">Proxy</a> b &#8594; a &#8594; v <a href="src/Ouroboros.Network.AnchoredSeq.html#getAnchorMeasure" class="link">Source</a> <a href="#v:getAnchorMeasure" class="selflink">#</a></p><div class="doc"><p>Return the measure of an anchor</p><p>The advantage of this method over a <code><code>Measured</code> k a</code> super-class constraint
 is that it doesn't inherit the <code><code><a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a></code> k</code> constraint, which is unused and
 often undesired.</p></div></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Anchorable">Instances</h4><details id="i:Anchorable" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:Anchorable:Anchorable:1"></span> <a href="Ouroboros-Network-Block.html#t:HasHeader" title="Ouroboros.Network.Block">HasHeader</a> block &#8658; <a href="Ouroboros-Network-AnchoredSeq.html#t:Anchorable" title="Ouroboros.Network.AnchoredSeq">Anchorable</a> (<a href="Ouroboros-Network-Point.html#t:WithOrigin" title="Ouroboros.Network.Point">WithOrigin</a> <a href="Ouroboros-Network-Block.html#t:SlotNo" title="Ouroboros.Network.Block">SlotNo</a>) (<a href="Ouroboros-Network-AnchoredFragment.html#t:Anchor" title="Ouroboros.Network.AnchoredFragment">Anchor</a> block) block</span> <a href="src/Ouroboros.Network.AnchoredFragment.html#line-230" class="link">Source</a> <a href="#t:Anchorable" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:Anchorable:Anchorable:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Network-AnchoredFragment.html">Ouroboros.Network.AnchoredFragment</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:asAnchor">asAnchor</a> &#8759; block &#8594; <a href="Ouroboros-Network-AnchoredFragment.html#t:Anchor" title="Ouroboros.Network.AnchoredFragment">Anchor</a> block <a href="src/Ouroboros.Network.AnchoredSeq.html#asAnchor" class="link">Source</a> <a href="#v:asAnchor" class="selflink">#</a></p><p class="src"><a href="#v:getAnchorMeasure">getAnchorMeasure</a> &#8759; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Proxy.html#t:Proxy" title="Data.Proxy">Proxy</a> block &#8594; <a href="Ouroboros-Network-AnchoredFragment.html#t:Anchor" title="Ouroboros.Network.AnchoredFragment">Anchor</a> block &#8594; <a href="Ouroboros-Network-Point.html#t:WithOrigin" title="Ouroboros.Network.Point">WithOrigin</a> <a href="Ouroboros-Network-Block.html#t:SlotNo" title="Ouroboros.Network.Block">SlotNo</a> <a href="src/Ouroboros.Network.AnchoredSeq.html#getAnchorMeasure" class="link">Source</a> <a href="#v:getAnchorMeasure" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><a href="#g:3" id="g:3"><h1>Basic operations</h1></a><div class="top"><p class="src"><a id="v:anchor" class="def">anchor</a> &#8759; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b &#8594; a <a href="src/Ouroboros.Network.AnchoredSeq.html#anchor" class="link">Source</a> <a href="#v:anchor" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:head" class="def">head</a> &#8759; <a href="Ouroboros-Network-AnchoredSeq.html#t:Anchorable" title="Ouroboros.Network.AnchoredSeq">Anchorable</a> v a b &#8658; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Either.html#t:Either" title="Data.Either">Either</a> a b <a href="src/Ouroboros.Network.AnchoredSeq.html#head" class="link">Source</a> <a href="#v:head" class="selflink">#</a></p><div class="doc"><p><span class="mathjax">\( O(1) \)</span>. When the sequence is empty, return the anchor,
 otherwise the most recently added element.</p></div></div><div class="top"><p class="src"><a id="v:headAnchor" class="def">headAnchor</a> &#8759; &#8704; v a b. <a href="Ouroboros-Network-AnchoredSeq.html#t:Anchorable" title="Ouroboros.Network.AnchoredSeq">Anchorable</a> v a b &#8658; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b &#8594; a <a href="src/Ouroboros.Network.AnchoredSeq.html#headAnchor" class="link">Source</a> <a href="#v:headAnchor" class="selflink">#</a></p><div class="doc"><p><span class="mathjax">\( O(1) \)</span>. The anchor corresponding to the most recently added element
 (i.e., the anchor that would be needed for a sequence starting <em>after</em> this).
 When the anchored sequence is empty, the anchor is returned.</p></div></div><div class="top"><p class="src"><a id="v:last" class="def">last</a> &#8759; <a href="Ouroboros-Network-AnchoredSeq.html#t:Anchorable" title="Ouroboros.Network.AnchoredSeq">Anchorable</a> v a b &#8658; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Either.html#t:Either" title="Data.Either">Either</a> a b <a href="src/Ouroboros.Network.AnchoredSeq.html#last" class="link">Source</a> <a href="#v:last" class="selflink">#</a></p><div class="doc"><p><span class="mathjax">\( O(1) \)</span>. When the sequence is empty, return the anchor, otherwise the
 leftmost element.</p></div></div><div class="top"><p class="src"><a id="v:toNewestFirst" class="def">toNewestFirst</a> &#8759; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b &#8594; [b] <a href="src/Ouroboros.Network.AnchoredSeq.html#toNewestFirst" class="link">Source</a> <a href="#v:toNewestFirst" class="selflink">#</a></p><div class="doc"><p><span class="mathjax">\( O(n) \)</span>. Return the elements in the <code><a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a></code> in newest-to-oldest
 order.</p></div></div><div class="top"><p class="src"><a id="v:toOldestFirst" class="def">toOldestFirst</a> &#8759; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b &#8594; [b] <a href="src/Ouroboros.Network.AnchoredSeq.html#toOldestFirst" class="link">Source</a> <a href="#v:toOldestFirst" class="selflink">#</a></p><div class="doc"><p><span class="mathjax">\( O(n) \)</span>. Return the elements in the <code><a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a></code> in oldest-to-newest
 order.</p></div></div><div class="top"><p class="src"><a id="v:fromNewestFirst" class="def">fromNewestFirst</a> &#8759; <a href="Ouroboros-Network-AnchoredSeq.html#t:Anchorable" title="Ouroboros.Network.AnchoredSeq">Anchorable</a> v a b &#8658; a &#8594; [b] &#8594; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b <a href="src/Ouroboros.Network.AnchoredSeq.html#fromNewestFirst" class="link">Source</a> <a href="#v:fromNewestFirst" class="selflink">#</a></p><div class="doc"><p><span class="mathjax">\( O(n) \)</span>. Make an <code><a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a></code> from a list of elements in
 newest-to-oldest order. The last element in the list will be the one after
 the given anchor.</p></div></div><div class="top"><p class="src"><a id="v:fromOldestFirst" class="def">fromOldestFirst</a> &#8759; <a href="Ouroboros-Network-AnchoredSeq.html#t:Anchorable" title="Ouroboros.Network.AnchoredSeq">Anchorable</a> v a b &#8658; a &#8594; [b] &#8594; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b <a href="src/Ouroboros.Network.AnchoredSeq.html#fromOldestFirst" class="link">Source</a> <a href="#v:fromOldestFirst" class="selflink">#</a></p><div class="doc"><p><span class="mathjax">\( O(n) \)</span>. Make an <code><a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a></code> from a list of elements in
 oldest-to-newest order. The first element in the list will be the one after
 the given anchor.</p></div></div><div class="top"><p class="src"><a id="v:splitAt" class="def">splitAt</a> &#8759; <a href="Ouroboros-Network-AnchoredSeq.html#t:Anchorable" title="Ouroboros.Network.AnchoredSeq">Anchorable</a> v a b &#8658; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> &#8594; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b &#8594; (<a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b, <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b) <a href="src/Ouroboros.Network.AnchoredSeq.html#splitAt" class="link">Source</a> <a href="#v:splitAt" class="selflink">#</a></p><div class="doc"><p><span class="mathjax">\( O(\log(\min(i,n-i)) \)</span>. Split the <code><a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a></code> at a given
  position.</p><p>POSTCONDITION: <code>(before, after) = splitAt i s</code>, then:
 * <code>anchor      before == anchor s</code>
 * <code>headAnchor  before == anchor after</code>
 * <code>headAnchor  after  == headAnchor s</code>
 * <code>join before after  == Just s</code></p></div></div><div class="top"><p class="src"><a id="v:dropNewest" class="def">dropNewest</a> &#8759; <a href="Ouroboros-Network-AnchoredSeq.html#t:Anchorable" title="Ouroboros.Network.AnchoredSeq">Anchorable</a> v a b &#8658; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> &#8594; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b &#8594; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b <a href="src/Ouroboros.Network.AnchoredSeq.html#dropNewest" class="link">Source</a> <a href="#v:dropNewest" class="selflink">#</a></p><div class="doc"><p><span class="mathjax">\( O(\log(\min(i,n-i)) \)</span>. Drop the newest <code>n</code> elements from the
 <code><a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a></code>. The anchor does not change.</p></div></div><div class="top"><p class="src"><a id="v:takeOldest" class="def">takeOldest</a> &#8759; <a href="Ouroboros-Network-AnchoredSeq.html#t:Anchorable" title="Ouroboros.Network.AnchoredSeq">Anchorable</a> v a b &#8658; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> &#8594; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b &#8594; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b <a href="src/Ouroboros.Network.AnchoredSeq.html#takeOldest" class="link">Source</a> <a href="#v:takeOldest" class="selflink">#</a></p><div class="doc"><p><span class="mathjax">\( O(\log(\min(i,n-i)) \)</span>. Take the oldest <code>n</code> elements from the
 <code><a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a></code>. The anchor does not change.</p></div></div><div class="top"><p class="src"><a id="v:dropWhileNewest" class="def">dropWhileNewest</a> &#8759; <a href="Ouroboros-Network-AnchoredSeq.html#t:Anchorable" title="Ouroboros.Network.AnchoredSeq">Anchorable</a> v a b &#8658; (b &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) &#8594; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b &#8594; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b <a href="src/Ouroboros.Network.AnchoredSeq.html#dropWhileNewest" class="link">Source</a> <a href="#v:dropWhileNewest" class="selflink">#</a></p><div class="doc"><p><span class="mathjax">\( O(n) \)</span>. Drop the newest elements that satisfy the predicate, keeping
 the remainder. The anchor does not change.</p></div></div><div class="top"><p class="src"><a id="v:takeWhileOldest" class="def">takeWhileOldest</a> &#8759; <a href="Ouroboros-Network-AnchoredSeq.html#t:Anchorable" title="Ouroboros.Network.AnchoredSeq">Anchorable</a> v a b &#8658; (b &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) &#8594; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b &#8594; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b <a href="src/Ouroboros.Network.AnchoredSeq.html#takeWhileOldest" class="link">Source</a> <a href="#v:takeWhileOldest" class="selflink">#</a></p><div class="doc"><p><span class="mathjax">\( O(n) \)</span>. Take the oldest elements that satisfy the predicate. The anchor
 does not change.</p></div></div><div class="top"><p class="src"><a id="v:length" class="def">length</a> &#8759; <a href="Ouroboros-Network-AnchoredSeq.html#t:Anchorable" title="Ouroboros.Network.AnchoredSeq">Anchorable</a> v a b &#8658; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="src/Ouroboros.Network.AnchoredSeq.html#length" class="link">Source</a> <a href="#v:length" class="selflink">#</a></p><div class="doc"><p><span class="mathjax">\( O(1) \)</span>. Return the number of elements. The anchor is not counted.</p></div></div><div class="top"><p class="src"><a id="v:null" class="def">null</a> &#8759; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/Ouroboros.Network.AnchoredSeq.html#null" class="link">Source</a> <a href="#v:null" class="selflink">#</a></p><div class="doc"><p><span class="mathjax">\( O(1) \)</span>. The anchor is not counted.</p></div></div><div class="top"><p class="src"><a id="v:contains" class="def">contains</a> &#8759; <a href="Ouroboros-Network-AnchoredSeq.html#t:Anchorable" title="Ouroboros.Network.AnchoredSeq">Anchorable</a> v a b &#8658; v &#8594; (b &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) &#8594; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/Ouroboros.Network.AnchoredSeq.html#contains" class="link">Source</a> <a href="#v:contains" class="selflink">#</a></p><div class="doc"><p><span class="mathjax">\( O(\log(\min(i,n-i)) \)</span>. Does the anchored sequence contain an element
 with the given measure that satisfies the predicate? The anchor is ignored.</p></div></div><div class="top"><p class="src"><a id="v:withinBounds" class="def">withinBounds</a> &#8759; <a href="Ouroboros-Network-AnchoredSeq.html#t:Anchorable" title="Ouroboros.Network.AnchoredSeq">Anchorable</a> v a b &#8658; v &#8594; (<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Either.html#t:Either" title="Data.Either">Either</a> a b &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) &#8594; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/Ouroboros.Network.AnchoredSeq.html#withinBounds" class="link">Source</a> <a href="#v:withinBounds" class="selflink">#</a></p><div class="doc"><p><span class="mathjax">\( O(\log(\min(i,n-i)) \)</span>. Does the anchored sequence contain an element
 with the given measure that satisfies the predicate? The anchor is <em>not</em>
 ignored.</p></div></div><div class="top"><p class="src"><a id="v:map" class="def">map</a> &#8759; <a href="Ouroboros-Network-AnchoredSeq.html#t:Anchorable" title="Ouroboros.Network.AnchoredSeq">Anchorable</a> v2 a b2 &#8658; (b1 &#8594; b2) &#8594; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v1 a b1 &#8594; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v2 a b2 <a href="src/Ouroboros.Network.AnchoredSeq.html#map" class="link">Source</a> <a href="#v:map" class="selflink">#</a></p><div class="doc"><p><span class="mathjax">\( O(n) \)</span>. Maps over the elements and the elements.</p></div></div><div class="top"><p class="src"><a id="v:bimap" class="def">bimap</a> &#8759; <a href="Ouroboros-Network-AnchoredSeq.html#t:Anchorable" title="Ouroboros.Network.AnchoredSeq">Anchorable</a> v2 a2 b2 &#8658; (a1 &#8594; a2) &#8594; (b1 &#8594; b2) &#8594; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v1 a1 b1 &#8594; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v2 a2 b2 <a href="src/Ouroboros.Network.AnchoredSeq.html#bimap" class="link">Source</a> <a href="#v:bimap" class="selflink">#</a></p><div class="doc"><p><span class="mathjax">\( O(n) \)</span>. Maps over the elements.</p></div></div><div class="top"><p class="src"><a id="v:mapPreservingMeasure" class="def">mapPreservingMeasure</a> &#8759; (b1 &#8594; b2) &#8594; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b1 &#8594; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b2 <a href="src/Ouroboros.Network.AnchoredSeq.html#mapPreservingMeasure" class="link">Source</a> <a href="#v:mapPreservingMeasure" class="selflink">#</a></p><div class="doc"><p><span class="mathjax">\( O(n) \)</span>. Maps over the elements.</p><p>NOTE: the functions must preserve the measure.</p><p>More efficient than <code><a href="Ouroboros-Network-AnchoredSeq.html#v:map" title="Ouroboros.Network.AnchoredSeq">map</a></code></p></div></div><div class="top"><p class="src"><a id="v:bimapPreservingMeasure" class="def">bimapPreservingMeasure</a> &#8759; (a1 &#8594; a2) &#8594; (b1 &#8594; b2) &#8594; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a1 b1 &#8594; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a2 b2 <a href="src/Ouroboros.Network.AnchoredSeq.html#bimapPreservingMeasure" class="link">Source</a> <a href="#v:bimapPreservingMeasure" class="selflink">#</a></p><div class="doc"><p><span class="mathjax">\( O(n) \)</span>. Maps over the anchor and the elements.</p><p>NOTE: the functions must preserve the measure.</p><p>More efficient than <code><a href="Ouroboros-Network-AnchoredSeq.html#v:bimap" title="Ouroboros.Network.AnchoredSeq">bimap</a></code></p></div></div><a href="#g:4" id="g:4"><h1>Special operations</h1></a><div class="top"><p class="src"><a id="v:rollback" class="def">rollback</a> &#8759; <a href="Ouroboros-Network-AnchoredSeq.html#t:Anchorable" title="Ouroboros.Network.AnchoredSeq">Anchorable</a> v a b &#8658; v &#8594; (<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Either.html#t:Either" title="Data.Either">Either</a> a b &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) &#8594; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b) <a href="src/Ouroboros.Network.AnchoredSeq.html#rollback" class="link">Source</a> <a href="#v:rollback" class="selflink">#</a></p><div class="doc"><p><span class="mathjax">\( O(\log(\min(i,n-i)) \)</span>. Roll back the anchored sequence such that its
 new head has the same measure as the given one and satisfies the predicate.
 When there is no such element or anchor, return <code><a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:isPrefixOf" class="def">isPrefixOf</a> &#8759; &#8704; v a b. (<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> a, <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> b) &#8658; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b &#8594; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/Ouroboros.Network.AnchoredSeq.html#isPrefixOf" class="link">Source</a> <a href="#v:isPrefixOf" class="selflink">#</a></p><div class="doc"><p><span class="mathjax">\( O(\max(n_1, n_2)) \)</span>. Check whether the first anchored sequence is a
 prefix of the second. Comparisons are done based on the <code><a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a></code> instances.</p><p>The two <code><a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a></code>s must have the same anchor, otherwise the first cannot
 be a prefix of the second.</p></div></div><div class="top"><p class="src"><a id="v:isPrefixOfByMeasure" class="def">isPrefixOfByMeasure</a> &#8759; &#8704; v a b. <a href="Ouroboros-Network-AnchoredSeq.html#t:Anchorable" title="Ouroboros.Network.AnchoredSeq">Anchorable</a> v a b &#8658; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b &#8594; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/Ouroboros.Network.AnchoredSeq.html#isPrefixOfByMeasure" class="link">Source</a> <a href="#v:isPrefixOfByMeasure" class="selflink">#</a></p><div class="doc"><p><span class="mathjax">\( O(\max(n_1, n_2)) \)</span>. Check whether the first anchored sequence is a
 prefix of the second. Comparisons are done based on the measure.</p><p>The two <code><a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a></code>s must have the same anchor, otherwise the first cannot
 be a prefix of the second.</p></div></div><div class="top"><p class="src"><a id="v:lookupByMeasure" class="def">lookupByMeasure</a> &#8759; <a href="Ouroboros-Network-AnchoredSeq.html#t:Anchorable" title="Ouroboros.Network.AnchoredSeq">Anchorable</a> v a b &#8658; v &#8594; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b &#8594; [b] <a href="src/Ouroboros.Network.AnchoredSeq.html#lookupByMeasure" class="link">Source</a> <a href="#v:lookupByMeasure" class="selflink">#</a></p><div class="doc"><p><span class="mathjax">\( O(\log(\min(i,n-i) + s) \)</span> where <em>s</em> is the number of elements with the
 same measure. Return all elements in the anchored sequence with a measure
 (<code>k</code>) equal to the given one. The elements will be ordered from oldest to
 newest. Does not look at the anchor.</p></div></div><div class="top"><p class="src"><a id="v:splitAfterMeasure" class="def">splitAfterMeasure</a> &#8759; <a href="Ouroboros-Network-AnchoredSeq.html#t:Anchorable" title="Ouroboros.Network.AnchoredSeq">Anchorable</a> v a b &#8658; v &#8594; (<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Either.html#t:Either" title="Data.Either">Either</a> a b &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) &#8594; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b, <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b) <a href="src/Ouroboros.Network.AnchoredSeq.html#splitAfterMeasure" class="link">Source</a> <a href="#v:splitAfterMeasure" class="selflink">#</a></p><div class="doc"><p><span class="mathjax">\( O(\log(\min(i,n-i)) \)</span>. Split the <code><a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a></code> after an element or
 anchor with the given measure that satisfies the predicate. Return <code><a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a></code>
 if there is no element or anchor with the given measure that satisfies the
 predicate.</p><p>If the given measure corresponds to the anchor and it satisfies the
 predicate, an empty sequence with the given anchor, and the original sequence
 are returned.</p><p>PRECONDITION: there can be multiple elements with the same measure, but there
 should be at most one element (or anchor) with the given measure satisfying
 the predicate.</p><p>POSTCONDITION: when <code>Just (before, after) = splitAfterMeasure k f s</code>, then:
 * <code>anchor before       == anchor s</code>
 * <code>headMeasure before  == pt</code>
 * <code>anchorMeasure after == pt</code>
 * <code>headAnchor after    == headAnchor s</code>
 * <code>join before after   == Just s</code></p></div></div><div class="top"><p class="src"><a id="v:splitBeforeMeasure" class="def">splitBeforeMeasure</a> &#8759; <a href="Ouroboros-Network-AnchoredSeq.html#t:Anchorable" title="Ouroboros.Network.AnchoredSeq">Anchorable</a> v a b &#8658; v &#8594; (b &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) &#8594; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b, <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b) <a href="src/Ouroboros.Network.AnchoredSeq.html#splitBeforeMeasure" class="link">Source</a> <a href="#v:splitBeforeMeasure" class="selflink">#</a></p><div class="doc"><p><span class="mathjax">\( O(\log(\min(i,n-i)) \)</span>. Split the <code><a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a></code> before an element with
 the given measure that satisfies the predicate. Return <code><a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a></code> if the
 anchored sequence does not contain an element with the given measure that
 satisfies the predicate.</p><p>Unlike <code><a href="Ouroboros-Network-AnchoredSeq.html#v:splitAfterMeasure" title="Ouroboros.Network.AnchoredSeq">splitAfterMeasure</a></code> we can't split before the anchor.</p><p>PRECONDITION: there can be multiple elements with the same measure, but there
 should be at most one element (or anchor) with the given measure satisfying
 the predicate.</p><p>POSTCONDITION: joining (<code><a href="Ouroboros-Network-AnchoredSeq.html#v:join" title="Ouroboros.Network.AnchoredSeq">join</a></code>) the two anchored sequences gives back the
 original anchored sequence.</p><p>POSTCONDITION: the last element (oldest) in the second sequence has the given
 measure and satisfies the predicate.</p></div></div><div class="top"><p class="src"><a id="v:join" class="def">join</a> &#8759; &#8704; v a b. <a href="Ouroboros-Network-AnchoredSeq.html#t:Anchorable" title="Ouroboros.Network.AnchoredSeq">Anchorable</a> v a b &#8658; (<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Either.html#t:Either" title="Data.Either">Either</a> a b &#8594; a &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) &#8594; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b &#8594; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b) <a href="src/Ouroboros.Network.AnchoredSeq.html#join" class="link">Source</a> <a href="#v:join" class="selflink">#</a></p><div class="doc"><p><span class="mathjax">\( O(\log(\min(n_1, n_2))) \)</span>. Join two anchored sequences if the given
 function returns <code><a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Bool.html#v:True" title="Data.Bool">True</a></code> for the head (newest element or anchor when empty) of
 the first sequence and the anchor of the second sequence, e.g., when they
 match.</p><p>The returned sequence will have the same anchor as the first sequence.</p></div></div><div class="top"><p class="src"><a id="v:anchorNewest" class="def">anchorNewest</a> <a href="src/Ouroboros.Network.AnchoredSeq.html#anchorNewest" class="link">Source</a> <a href="#v:anchorNewest" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">&#8759; &#8704; v a b. <a href="Ouroboros-Network-AnchoredSeq.html#t:Anchorable" title="Ouroboros.Network.AnchoredSeq">Anchorable</a> v a b</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8658; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Word.html#t:Word64" title="Data.Word">Word64</a></td><td class="doc"><pre>n</pre></td></tr><tr><td class="src">&#8594; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8594; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Take the <code>n</code> newest elements from the anchored sequence.</p><p>WARNING: this may change the anchor</p><p>When the anchored sequence contains fewer than <code>n</code> elements, the anchored
 sequence will be returned unmodified.</p></div></div><div class="top"><p class="src"><a id="v:selectOffsets" class="def">selectOffsets</a> &#8759; &#8704; v a b. <a href="Ouroboros-Network-AnchoredSeq.html#t:Anchorable" title="Ouroboros.Network.AnchoredSeq">Anchorable</a> v a b &#8658; [<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a>] &#8594; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b &#8594; [<a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Either.html#t:Either" title="Data.Either">Either</a> a b] <a href="src/Ouroboros.Network.AnchoredSeq.html#selectOffsets" class="link">Source</a> <a href="#v:selectOffsets" class="selflink">#</a></p><div class="doc"><p><span class="mathjax">\( O(o \log(\min(i,n-i))) \)</span>. Select the elements and optionally the anchor
 based on the given offsets, starting from the head of the <code><a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a></code>.</p><p>The list of offsets must be increasing monotonically (/strictly increasing is
 not required).</p><p><strong>Note</strong>: offset <code>n</code>, where <code>n</code> equals the length of the <code><a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a></code>,
 corresponds to the anchor. When the sequence is empty, offset 0 will thus
 correspond to the anchor.</p></div></div><div class="top"><p class="src"><a id="v:filter" class="def">filter</a> <a href="src/Ouroboros.Network.AnchoredSeq.html#filter" class="link">Source</a> <a href="#v:filter" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">&#8759; &#8704; v a b. <a href="Ouroboros-Network-AnchoredSeq.html#t:Anchorable" title="Ouroboros.Network.AnchoredSeq">Anchorable</a> v a b</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8658; (b &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>)</td><td class="doc"><p>Filtering predicate</p></td></tr><tr><td class="src">&#8594; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8594; [<a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b]</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p><span class="mathjax">\( O\(n\)</span> ). Variation on <code><a href="Ouroboros-Network-AnchoredSeq.html#v:filterWithStop" title="Ouroboros.Network.AnchoredSeq">filterWithStop</a></code> without a stop condition.</p></div></div><div class="top"><p class="src"><a id="v:filterWithStop" class="def">filterWithStop</a> <a href="src/Ouroboros.Network.AnchoredSeq.html#filterWithStop" class="link">Source</a> <a href="#v:filterWithStop" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">&#8759; &#8704; v a b. <a href="Ouroboros-Network-AnchoredSeq.html#t:Anchorable" title="Ouroboros.Network.AnchoredSeq">Anchorable</a> v a b</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8658; (b &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>)</td><td class="doc"><p>Filtering predicate</p></td></tr><tr><td class="src">&#8594; (b &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>)</td><td class="doc"><p>Stop condition</p></td></tr><tr><td class="src">&#8594; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8594; [<a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b]</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p><span class="mathjax">\( O(n + r * \log(\min(i,n-i)) \)</span> where <em>r</em> is the number of consecutive
 ranges of elements to be included in the result.</p><p>Filter out elements that don't match the predicate.</p><p>As filtering removes elements the result is a sequence of disconnected
 sequences. The sequences are in the original order and are of maximum size.</p><p>As soon as the stop condition is true, the filtering stops and the remaining
 sequence (starting with the first element for which the stop condition is
 true) is the final sequence in the returned list.</p><p>The stop condition wins from the filtering predicate: if the stop condition
 is true for an element, but the filter predicate not, then the element still
 ends up in final sequence.</p><p>For example, given the sequence containing <code>[0: 1, 2, 3, 4, 5, 6]</code> where the
 anchor is separated from the elements by <code>:</code>:</p><pre>filter         odd        -&gt; [[0: 1], [2: 3], [4: 5]]
filterWithStop odd (&gt;= 4) -&gt; [[0: 1], [2: 3], [3: 4, 5, 6]]</pre></div></div><a href="#g:5" id="g:5"><h1>Helper functions</h1></a><div class="top"><p class="src"><a id="v:prettyPrint" class="def">prettyPrint</a> &#8759; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-String.html#t:String" title="Data.String">String</a> &#8594; (a &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-String.html#t:String" title="Data.String">String</a>) &#8594; (b &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-String.html#t:String" title="Data.String">String</a>) &#8594; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-String.html#t:String" title="Data.String">String</a> <a href="src/Ouroboros.Network.AnchoredSeq.html#prettyPrint" class="link">Source</a> <a href="#v:prettyPrint" class="selflink">#</a></p></div><a href="#g:6" id="g:6"><h1>Reference implementations for testing</h1></a><div class="top"><p class="src"><a id="v:filterWithStopSpec" class="def">filterWithStopSpec</a> <a href="src/Ouroboros.Network.AnchoredSeq.html#filterWithStopSpec" class="link">Source</a> <a href="#v:filterWithStopSpec" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">&#8759; &#8704; v a b. <a href="Ouroboros-Network-AnchoredSeq.html#t:Anchorable" title="Ouroboros.Network.AnchoredSeq">Anchorable</a> v a b</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8658; (b &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>)</td><td class="doc"><p>Filtering predicate</p></td></tr><tr><td class="src">&#8594; (b &#8594; <a href="file:///home/runner/.ghcup/ghc/8.10.4/share/doc/ghc-8.10.4/html/libraries/base-4.14.1.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>)</td><td class="doc"><p>Stop condition</p></td></tr><tr><td class="src">&#8594; <a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">&#8594; [<a href="Ouroboros-Network-AnchoredSeq.html#t:AnchoredSeq" title="Ouroboros.Network.AnchoredSeq">AnchoredSeq</a> v a b]</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p><span class="mathjax">\( O\(n\)</span> ). Naive reference implementation of <code><a href="Ouroboros-Network-AnchoredSeq.html#v:filterWithStop" title="Ouroboros.Network.AnchoredSeq">filterWithStop</a></code>.</p><p>While the asymptotic complexity of this function is better than that of
 <code><a href="Ouroboros-Network-AnchoredSeq.html#v:filterWithStop" title="Ouroboros.Network.AnchoredSeq">filterWithStop</a></code>, the allocation cost is high. This function deconstructs and
 reconstructs the anchored sequence (until the stop condition is reached),
 even when no elements are removed.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.24.0</p></div></body></html>