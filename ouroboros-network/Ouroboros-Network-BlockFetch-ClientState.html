<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Ouroboros.Network.BlockFetch.ClientState</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Ouroboros.Network.BlockFetch.ClientState.html">Source</a></li><li><a href="&quot;../index.html&quot;">Contents</a></li><li><a href="&quot;../doc-index.html&quot;">Index</a></li></ul><p class="caption">ouroboros-network-0.1.0.0: A networking layer for the Ouroboros blockchain protocol</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Ouroboros.Network.BlockFetch.ClientState</p></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:FetchClientContext">FetchClientContext</a> header block m = <a href="#v:FetchClientContext">FetchClientContext</a> {<ul class="subs"><li><a href="#v:fetchClientCtxTracer">fetchClientCtxTracer</a> &#8759; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/contra-tracer-0.1.0.0/noopt/doc/html/contra-tracer/Control-Tracer.html#t:Tracer" title="Control.Tracer">Tracer</a> m (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:TraceFetchClientState" title="Ouroboros.Network.BlockFetch.ClientState">TraceFetchClientState</a> header)</li><li><a href="#v:fetchClientCtxPolicy">fetchClientCtxPolicy</a> &#8759; <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:FetchClientPolicy" title="Ouroboros.Network.BlockFetch.ClientState">FetchClientPolicy</a> header block m</li><li><a href="#v:fetchClientCtxStateVars">fetchClientCtxStateVars</a> &#8759; <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:FetchClientStateVars" title="Ouroboros.Network.BlockFetch.ClientState">FetchClientStateVars</a> m header</li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:FetchClientPolicy">FetchClientPolicy</a> header block m = <a href="#v:FetchClientPolicy">FetchClientPolicy</a> {<ul class="subs"><li><a href="#v:blockFetchSize">blockFetchSize</a> &#8759; header &#8594; <a href="Ouroboros-Network-DeltaQ.html#t:SizeInBytes" title="Ouroboros.Network.DeltaQ">SizeInBytes</a></li><li><a href="#v:blockMatchesHeader">blockMatchesHeader</a> &#8759; header &#8594; block &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li><a href="#v:addFetchedBlock">addFetchedBlock</a> &#8759; <a href="Ouroboros-Network-Block.html#t:Point" title="Ouroboros.Network.Block">Point</a> block &#8594; block &#8594; m ()</li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:FetchClientStateVars">FetchClientStateVars</a> m header = <a href="#v:FetchClientStateVars">FetchClientStateVars</a> {<ul class="subs"><li><a href="#v:fetchClientStatusVar">fetchClientStatusVar</a> &#8759; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/io-sim-classes-0.1.0.0/noopt/doc/html/io-sim-classes/Control-Monad-Class-MonadSTM-Strict.html#t:StrictTVar" title="Control.Monad.Class.MonadSTM.Strict">StrictTVar</a> m (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:PeerFetchStatus" title="Ouroboros.Network.BlockFetch.ClientState">PeerFetchStatus</a> header)</li><li><a href="#v:fetchClientInFlightVar">fetchClientInFlightVar</a> &#8759; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/io-sim-classes-0.1.0.0/noopt/doc/html/io-sim-classes/Control-Monad-Class-MonadSTM-Strict.html#t:StrictTVar" title="Control.Monad.Class.MonadSTM.Strict">StrictTVar</a> m (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:PeerFetchInFlight" title="Ouroboros.Network.BlockFetch.ClientState">PeerFetchInFlight</a> header)</li><li><a href="#v:fetchClientRequestVar">fetchClientRequestVar</a> &#8759; TFetchRequestVar m header</li></ul>}</li><li class="src short"><a href="#v:newFetchClientStateVars">newFetchClientStateVars</a> &#8759; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/io-sim-classes-0.1.0.0/noopt/doc/html/io-sim-classes/Control-Monad-Class-MonadSTM.html#t:MonadSTM" title="Control.Monad.Class.MonadSTM">MonadSTM</a> m &#8658; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/io-sim-classes-0.1.0.0/noopt/doc/html/io-sim-classes/Control-Monad-Class-MonadSTM.html#t:STM" title="Control.Monad.Class.MonadSTM">STM</a> m (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:FetchClientStateVars" title="Ouroboros.Network.BlockFetch.ClientState">FetchClientStateVars</a> m header)</li><li class="src short"><a href="#v:readFetchClientState">readFetchClientState</a> &#8759; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/io-sim-classes-0.1.0.0/noopt/doc/html/io-sim-classes/Control-Monad-Class-MonadSTM.html#t:MonadSTM" title="Control.Monad.Class.MonadSTM">MonadSTM</a> m &#8658; <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:FetchClientStateVars" title="Ouroboros.Network.BlockFetch.ClientState">FetchClientStateVars</a> m header &#8594; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/io-sim-classes-0.1.0.0/noopt/doc/html/io-sim-classes/Control-Monad-Class-MonadSTM.html#t:STM" title="Control.Monad.Class.MonadSTM">STM</a> m (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:PeerFetchStatus" title="Ouroboros.Network.BlockFetch.ClientState">PeerFetchStatus</a> header, <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:PeerFetchInFlight" title="Ouroboros.Network.BlockFetch.ClientState">PeerFetchInFlight</a> header, <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:FetchClientStateVars" title="Ouroboros.Network.BlockFetch.ClientState">FetchClientStateVars</a> m header)</li><li class="src short"><span class="keyword">data</span> <a href="#t:PeerFetchStatus">PeerFetchStatus</a> header<ul class="subs"><li>= <a href="#v:PeerFetchStatusShutdown">PeerFetchStatusShutdown</a></li><li>| <a href="#v:PeerFetchStatusAberrant">PeerFetchStatusAberrant</a></li><li>| <a href="#v:PeerFetchStatusBusy">PeerFetchStatusBusy</a></li><li>| <a href="#v:PeerFetchStatusReady">PeerFetchStatusReady</a> (<a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-prelude-0.1.0.0/noopt/doc/html/cardano-prelude/Cardano-Prelude-Base.html#t:Set" title="Cardano.Prelude.Base">Set</a> (<a href="Ouroboros-Network-Block.html#t:Point" title="Ouroboros.Network.Block">Point</a> header)) <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:IsIdle" title="Ouroboros.Network.BlockFetch.ClientState">IsIdle</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:IsIdle">IsIdle</a><ul class="subs"><li>= <a href="#v:IsIdle">IsIdle</a></li><li>| <a href="#v:IsNotIdle">IsNotIdle</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:PeerFetchInFlight">PeerFetchInFlight</a> header = <a href="#v:PeerFetchInFlight">PeerFetchInFlight</a> {<ul class="subs"><li><a href="#v:peerFetchReqsInFlight">peerFetchReqsInFlight</a> &#8759; !<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Word.html#t:Word" title="Data.Word">Word</a></li><li><a href="#v:peerFetchBytesInFlight">peerFetchBytesInFlight</a> &#8759; !<a href="Ouroboros-Network-DeltaQ.html#t:SizeInBytes" title="Ouroboros.Network.DeltaQ">SizeInBytes</a></li><li><a href="#v:peerFetchBlocksInFlight">peerFetchBlocksInFlight</a> &#8759; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-prelude-0.1.0.0/noopt/doc/html/cardano-prelude/Cardano-Prelude-Base.html#t:Set" title="Cardano.Prelude.Base">Set</a> (<a href="Ouroboros-Network-Block.html#t:Point" title="Ouroboros.Network.Block">Point</a> header)</li><li><a href="#v:peerFetchMaxSlotNo">peerFetchMaxSlotNo</a> &#8759; !<a href="Ouroboros-Network-Block.html#t:MaxSlotNo" title="Ouroboros.Network.Block">MaxSlotNo</a></li></ul>}</li><li class="src short"><a href="#v:initialPeerFetchInFlight">initialPeerFetchInFlight</a> &#8759; <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:PeerFetchInFlight" title="Ouroboros.Network.BlockFetch.ClientState">PeerFetchInFlight</a> header</li><li class="src short"><span class="keyword">newtype</span> <a href="#t:FetchRequest">FetchRequest</a> header = <a href="#v:FetchRequest">FetchRequest</a> {<ul class="subs"><li><a href="#v:fetchRequestFragments">fetchRequestFragments</a> &#8759; [<a href="Ouroboros-Network-ChainFragment.html#t:ChainFragment" title="Ouroboros.Network.ChainFragment">ChainFragment</a> header]</li></ul>}</li><li class="src short"><a href="#v:addNewFetchRequest">addNewFetchRequest</a> &#8759; (<a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/io-sim-classes-0.1.0.0/noopt/doc/html/io-sim-classes/Control-Monad-Class-MonadSTM.html#t:MonadSTM" title="Control.Monad.Class.MonadSTM">MonadSTM</a> m, <a href="Ouroboros-Network-Block.html#t:HasHeader" title="Ouroboros.Network.Block">HasHeader</a> header) &#8658; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/contra-tracer-0.1.0.0/noopt/doc/html/contra-tracer/Control-Tracer.html#t:Tracer" title="Control.Tracer">Tracer</a> m (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:TraceFetchClientState" title="Ouroboros.Network.BlockFetch.ClientState">TraceFetchClientState</a> header) &#8594; (header &#8594; <a href="Ouroboros-Network-DeltaQ.html#t:SizeInBytes" title="Ouroboros.Network.DeltaQ">SizeInBytes</a>) &#8594; <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:FetchRequest" title="Ouroboros.Network.BlockFetch.ClientState">FetchRequest</a> header &#8594; <a href="Ouroboros-Network-DeltaQ.html#t:PeerGSV" title="Ouroboros.Network.DeltaQ">PeerGSV</a> &#8594; <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:FetchClientStateVars" title="Ouroboros.Network.BlockFetch.ClientState">FetchClientStateVars</a> m header &#8594; m (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:PeerFetchStatus" title="Ouroboros.Network.BlockFetch.ClientState">PeerFetchStatus</a> header)</li><li class="src short"><a href="#v:acknowledgeFetchRequest">acknowledgeFetchRequest</a> &#8759; (<a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/io-sim-classes-0.1.0.0/noopt/doc/html/io-sim-classes/Control-Monad-Class-MonadSTM.html#t:MonadSTM" title="Control.Monad.Class.MonadSTM">MonadSTM</a> m, <a href="Ouroboros-Network-Block.html#t:HasHeader" title="Ouroboros.Network.Block">HasHeader</a> header) &#8658; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/contra-tracer-0.1.0.0/noopt/doc/html/contra-tracer/Control-Tracer.html#t:Tracer" title="Control.Tracer">Tracer</a> m (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:TraceFetchClientState" title="Ouroboros.Network.BlockFetch.ClientState">TraceFetchClientState</a> header) &#8594; <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:FetchClientStateVars" title="Ouroboros.Network.BlockFetch.ClientState">FetchClientStateVars</a> m header &#8594; m (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:FetchRequest" title="Ouroboros.Network.BlockFetch.ClientState">FetchRequest</a> header, <a href="Ouroboros-Network-DeltaQ.html#t:PeerGSV" title="Ouroboros.Network.DeltaQ">PeerGSV</a>, <a href="Ouroboros-Network-BlockFetch-DeltaQ.html#t:PeerFetchInFlightLimits" title="Ouroboros.Network.BlockFetch.DeltaQ">PeerFetchInFlightLimits</a>)</li><li class="src short"><a href="#v:startedFetchBatch">startedFetchBatch</a> &#8759; (<a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/io-sim-classes-0.1.0.0/noopt/doc/html/io-sim-classes/Control-Monad-Class-MonadSTM.html#t:MonadSTM" title="Control.Monad.Class.MonadSTM">MonadSTM</a> m, <a href="Ouroboros-Network-Block.html#t:HasHeader" title="Ouroboros.Network.Block">HasHeader</a> header) &#8658; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/contra-tracer-0.1.0.0/noopt/doc/html/contra-tracer/Control-Tracer.html#t:Tracer" title="Control.Tracer">Tracer</a> m (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:TraceFetchClientState" title="Ouroboros.Network.BlockFetch.ClientState">TraceFetchClientState</a> header) &#8594; <a href="Ouroboros-Network-BlockFetch-DeltaQ.html#t:PeerFetchInFlightLimits" title="Ouroboros.Network.BlockFetch.DeltaQ">PeerFetchInFlightLimits</a> &#8594; <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:ChainRange" title="Ouroboros.Network.BlockFetch.ClientState">ChainRange</a> header &#8594; <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:FetchClientStateVars" title="Ouroboros.Network.BlockFetch.ClientState">FetchClientStateVars</a> m header &#8594; m ()</li><li class="src short"><a href="#v:completeBlockDownload">completeBlockDownload</a> &#8759; (<a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/io-sim-classes-0.1.0.0/noopt/doc/html/io-sim-classes/Control-Monad-Class-MonadSTM.html#t:MonadSTM" title="Control.Monad.Class.MonadSTM">MonadSTM</a> m, <a href="Ouroboros-Network-Block.html#t:HasHeader" title="Ouroboros.Network.Block">HasHeader</a> header) &#8658; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/contra-tracer-0.1.0.0/noopt/doc/html/contra-tracer/Control-Tracer.html#t:Tracer" title="Control.Tracer">Tracer</a> m (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:TraceFetchClientState" title="Ouroboros.Network.BlockFetch.ClientState">TraceFetchClientState</a> header) &#8594; (header &#8594; <a href="Ouroboros-Network-DeltaQ.html#t:SizeInBytes" title="Ouroboros.Network.DeltaQ">SizeInBytes</a>) &#8594; <a href="Ouroboros-Network-BlockFetch-DeltaQ.html#t:PeerFetchInFlightLimits" title="Ouroboros.Network.BlockFetch.DeltaQ">PeerFetchInFlightLimits</a> &#8594; header &#8594; <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:FetchClientStateVars" title="Ouroboros.Network.BlockFetch.ClientState">FetchClientStateVars</a> m header &#8594; m ()</li><li class="src short"><a href="#v:completeFetchBatch">completeFetchBatch</a> &#8759; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/io-sim-classes-0.1.0.0/noopt/doc/html/io-sim-classes/Control-Monad-Class-MonadSTM.html#t:MonadSTM" title="Control.Monad.Class.MonadSTM">MonadSTM</a> m &#8658; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/contra-tracer-0.1.0.0/noopt/doc/html/contra-tracer/Control-Tracer.html#t:Tracer" title="Control.Tracer">Tracer</a> m (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:TraceFetchClientState" title="Ouroboros.Network.BlockFetch.ClientState">TraceFetchClientState</a> header) &#8594; <a href="Ouroboros-Network-BlockFetch-DeltaQ.html#t:PeerFetchInFlightLimits" title="Ouroboros.Network.BlockFetch.DeltaQ">PeerFetchInFlightLimits</a> &#8594; <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:ChainRange" title="Ouroboros.Network.BlockFetch.ClientState">ChainRange</a> header &#8594; <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:FetchClientStateVars" title="Ouroboros.Network.BlockFetch.ClientState">FetchClientStateVars</a> m header &#8594; m ()</li><li class="src short"><a href="#v:rejectedFetchBatch">rejectedFetchBatch</a> &#8759; (<a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/io-sim-classes-0.1.0.0/noopt/doc/html/io-sim-classes/Control-Monad-Class-MonadSTM.html#t:MonadSTM" title="Control.Monad.Class.MonadSTM">MonadSTM</a> m, <a href="Ouroboros-Network-Block.html#t:HasHeader" title="Ouroboros.Network.Block">HasHeader</a> header) &#8658; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/contra-tracer-0.1.0.0/noopt/doc/html/contra-tracer/Control-Tracer.html#t:Tracer" title="Control.Tracer">Tracer</a> m (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:TraceFetchClientState" title="Ouroboros.Network.BlockFetch.ClientState">TraceFetchClientState</a> header) &#8594; (header &#8594; <a href="Ouroboros-Network-DeltaQ.html#t:SizeInBytes" title="Ouroboros.Network.DeltaQ">SizeInBytes</a>) &#8594; <a href="Ouroboros-Network-BlockFetch-DeltaQ.html#t:PeerFetchInFlightLimits" title="Ouroboros.Network.BlockFetch.DeltaQ">PeerFetchInFlightLimits</a> &#8594; <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:ChainRange" title="Ouroboros.Network.BlockFetch.ClientState">ChainRange</a> header &#8594; [header] &#8594; <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:FetchClientStateVars" title="Ouroboros.Network.BlockFetch.ClientState">FetchClientStateVars</a> m header &#8594; m ()</li><li class="src short"><span class="keyword">data</span> <a href="#t:TraceFetchClientState">TraceFetchClientState</a> header<ul class="subs"><li>= <a href="#v:AddedFetchRequest">AddedFetchRequest</a> (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:FetchRequest" title="Ouroboros.Network.BlockFetch.ClientState">FetchRequest</a> header) (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:PeerFetchInFlight" title="Ouroboros.Network.BlockFetch.ClientState">PeerFetchInFlight</a> header) <a href="Ouroboros-Network-BlockFetch-DeltaQ.html#t:PeerFetchInFlightLimits" title="Ouroboros.Network.BlockFetch.DeltaQ">PeerFetchInFlightLimits</a> (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:PeerFetchStatus" title="Ouroboros.Network.BlockFetch.ClientState">PeerFetchStatus</a> header)</li><li>| <a href="#v:AcknowledgedFetchRequest">AcknowledgedFetchRequest</a> (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:FetchRequest" title="Ouroboros.Network.BlockFetch.ClientState">FetchRequest</a> header)</li><li>| <a href="#v:StartedFetchBatch">StartedFetchBatch</a> (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:ChainRange" title="Ouroboros.Network.BlockFetch.ClientState">ChainRange</a> header) (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:PeerFetchInFlight" title="Ouroboros.Network.BlockFetch.ClientState">PeerFetchInFlight</a> header) <a href="Ouroboros-Network-BlockFetch-DeltaQ.html#t:PeerFetchInFlightLimits" title="Ouroboros.Network.BlockFetch.DeltaQ">PeerFetchInFlightLimits</a> (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:PeerFetchStatus" title="Ouroboros.Network.BlockFetch.ClientState">PeerFetchStatus</a> header)</li><li>| <a href="#v:CompletedBlockFetch">CompletedBlockFetch</a> (<a href="Ouroboros-Network-Block.html#t:Point" title="Ouroboros.Network.Block">Point</a> header) (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:PeerFetchInFlight" title="Ouroboros.Network.BlockFetch.ClientState">PeerFetchInFlight</a> header) <a href="Ouroboros-Network-BlockFetch-DeltaQ.html#t:PeerFetchInFlightLimits" title="Ouroboros.Network.BlockFetch.DeltaQ">PeerFetchInFlightLimits</a> (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:PeerFetchStatus" title="Ouroboros.Network.BlockFetch.ClientState">PeerFetchStatus</a> header)</li><li>| <a href="#v:CompletedFetchBatch">CompletedFetchBatch</a> (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:ChainRange" title="Ouroboros.Network.BlockFetch.ClientState">ChainRange</a> header) (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:PeerFetchInFlight" title="Ouroboros.Network.BlockFetch.ClientState">PeerFetchInFlight</a> header) <a href="Ouroboros-Network-BlockFetch-DeltaQ.html#t:PeerFetchInFlightLimits" title="Ouroboros.Network.BlockFetch.DeltaQ">PeerFetchInFlightLimits</a> (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:PeerFetchStatus" title="Ouroboros.Network.BlockFetch.ClientState">PeerFetchStatus</a> header)</li><li>| <a href="#v:RejectedFetchBatch">RejectedFetchBatch</a> (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:ChainRange" title="Ouroboros.Network.BlockFetch.ClientState">ChainRange</a> header) (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:PeerFetchInFlight" title="Ouroboros.Network.BlockFetch.ClientState">PeerFetchInFlight</a> header) <a href="Ouroboros-Network-BlockFetch-DeltaQ.html#t:PeerFetchInFlightLimits" title="Ouroboros.Network.BlockFetch.DeltaQ">PeerFetchInFlightLimits</a> (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:PeerFetchStatus" title="Ouroboros.Network.BlockFetch.ClientState">PeerFetchStatus</a> header)</li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:TraceLabelPeer">TraceLabelPeer</a> peerid a = <a href="#v:TraceLabelPeer">TraceLabelPeer</a> peerid a</li><li class="src short"><span class="keyword">data</span> <a href="#t:ChainRange">ChainRange</a> block = <a href="#v:ChainRange">ChainRange</a> !(<a href="Ouroboros-Network-Block.html#t:Point" title="Ouroboros.Network.Block">Point</a> block) !(<a href="Ouroboros-Network-Block.html#t:Point" title="Ouroboros.Network.Block">Point</a> block)</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:FetchClientContext" class="def">FetchClientContext</a> header block m <a href="src/Ouroboros.Network.BlockFetch.ClientState.html#FetchClientContext" class="link">Source</a> <a href="#t:FetchClientContext" class="selflink">#</a></p><div class="doc"><p>The context that is passed into the block fetch protocol client when it
 is started.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:FetchClientContext" class="def">FetchClientContext</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:fetchClientCtxTracer" class="def">fetchClientCtxTracer</a> &#8759; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/contra-tracer-0.1.0.0/noopt/doc/html/contra-tracer/Control-Tracer.html#t:Tracer" title="Control.Tracer">Tracer</a> m (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:TraceFetchClientState" title="Ouroboros.Network.BlockFetch.ClientState">TraceFetchClientState</a> header)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:fetchClientCtxPolicy" class="def">fetchClientCtxPolicy</a> &#8759; <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:FetchClientPolicy" title="Ouroboros.Network.BlockFetch.ClientState">FetchClientPolicy</a> header block m</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:fetchClientCtxStateVars" class="def">fetchClientCtxStateVars</a> &#8759; <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:FetchClientStateVars" title="Ouroboros.Network.BlockFetch.ClientState">FetchClientStateVars</a> m header</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:FetchClientPolicy" class="def">FetchClientPolicy</a> header block m <a href="src/Ouroboros.Network.BlockFetch.ClientState.html#FetchClientPolicy" class="link">Source</a> <a href="#t:FetchClientPolicy" class="selflink">#</a></p><div class="doc"><p>The policy used by the fetch clients. It is set by the central block fetch
 logic, and passed to them via the <code>FetchClientRegistry</code>.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:FetchClientPolicy" class="def">FetchClientPolicy</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:blockFetchSize" class="def">blockFetchSize</a> &#8759; header &#8594; <a href="Ouroboros-Network-DeltaQ.html#t:SizeInBytes" title="Ouroboros.Network.DeltaQ">SizeInBytes</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:blockMatchesHeader" class="def">blockMatchesHeader</a> &#8759; header &#8594; block &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:addFetchedBlock" class="def">addFetchedBlock</a> &#8759; <a href="Ouroboros-Network-Block.html#t:Point" title="Ouroboros.Network.Block">Point</a> block &#8594; block &#8594; m ()</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:FetchClientStateVars" class="def">FetchClientStateVars</a> m header <a href="src/Ouroboros.Network.BlockFetch.ClientState.html#FetchClientStateVars" class="link">Source</a> <a href="#t:FetchClientStateVars" class="selflink">#</a></p><div class="doc"><p>A set of variables shared between the block fetch logic thread and each
 thread executing the client side of the block fetch protocol. That is, these
 are the shared variables per peer. The <code>FetchClientRegistry</code> contains the
 mapping of these for all peers.</p><p>The variables are used for communicating from the protocol thread to the
 decision making thread the status of things with that peer. And in the other
 direction one shared variable is for providing new fetch requests.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:FetchClientStateVars" class="def">FetchClientStateVars</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:fetchClientStatusVar" class="def">fetchClientStatusVar</a> &#8759; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/io-sim-classes-0.1.0.0/noopt/doc/html/io-sim-classes/Control-Monad-Class-MonadSTM-Strict.html#t:StrictTVar" title="Control.Monad.Class.MonadSTM.Strict">StrictTVar</a> m (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:PeerFetchStatus" title="Ouroboros.Network.BlockFetch.ClientState">PeerFetchStatus</a> header)</dfn><div class="doc"><p>The current status of communication with the peer. It is written
 by the protocol thread and monitored and read by the decision logic
 thread. Changes in this state trigger re-evaluation of fetch
 decisions.</p></div></li><li><dfn class="src"><a id="v:fetchClientInFlightVar" class="def">fetchClientInFlightVar</a> &#8759; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/io-sim-classes-0.1.0.0/noopt/doc/html/io-sim-classes/Control-Monad-Class-MonadSTM-Strict.html#t:StrictTVar" title="Control.Monad.Class.MonadSTM.Strict">StrictTVar</a> m (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:PeerFetchInFlight" title="Ouroboros.Network.BlockFetch.ClientState">PeerFetchInFlight</a> header)</dfn><div class="doc"><p>The current number of requests in-flight and the amount of data
 in-flight with the peer. It is written by the protocol thread and
 read by the decision logic thread. This is used in fetch decisions
 but changes here do not trigger re-evaluation of fetch decisions.</p></div></li><li><dfn class="src"><a id="v:fetchClientRequestVar" class="def">fetchClientRequestVar</a> &#8759; TFetchRequestVar m header</dfn><div class="doc"><p>The shared variable used to communicate fetch requests to the thread
 running the block fetch protocol. Fetch requests are posted by the
 decision logic thread. The protocol thread accepts the requests and
 acts on them, updating the in-flight stats. While this is a <code>TMVar</code>,
 it is not used as a one-place queue: the requests can be updated
 before being accepted.</p></div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><a id="v:newFetchClientStateVars" class="def">newFetchClientStateVars</a> &#8759; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/io-sim-classes-0.1.0.0/noopt/doc/html/io-sim-classes/Control-Monad-Class-MonadSTM.html#t:MonadSTM" title="Control.Monad.Class.MonadSTM">MonadSTM</a> m &#8658; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/io-sim-classes-0.1.0.0/noopt/doc/html/io-sim-classes/Control-Monad-Class-MonadSTM.html#t:STM" title="Control.Monad.Class.MonadSTM">STM</a> m (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:FetchClientStateVars" title="Ouroboros.Network.BlockFetch.ClientState">FetchClientStateVars</a> m header) <a href="src/Ouroboros.Network.BlockFetch.ClientState.html#newFetchClientStateVars" class="link">Source</a> <a href="#v:newFetchClientStateVars" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:readFetchClientState" class="def">readFetchClientState</a> &#8759; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/io-sim-classes-0.1.0.0/noopt/doc/html/io-sim-classes/Control-Monad-Class-MonadSTM.html#t:MonadSTM" title="Control.Monad.Class.MonadSTM">MonadSTM</a> m &#8658; <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:FetchClientStateVars" title="Ouroboros.Network.BlockFetch.ClientState">FetchClientStateVars</a> m header &#8594; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/io-sim-classes-0.1.0.0/noopt/doc/html/io-sim-classes/Control-Monad-Class-MonadSTM.html#t:STM" title="Control.Monad.Class.MonadSTM">STM</a> m (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:PeerFetchStatus" title="Ouroboros.Network.BlockFetch.ClientState">PeerFetchStatus</a> header, <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:PeerFetchInFlight" title="Ouroboros.Network.BlockFetch.ClientState">PeerFetchInFlight</a> header, <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:FetchClientStateVars" title="Ouroboros.Network.BlockFetch.ClientState">FetchClientStateVars</a> m header) <a href="src/Ouroboros.Network.BlockFetch.ClientState.html#readFetchClientState" class="link">Source</a> <a href="#v:readFetchClientState" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:PeerFetchStatus" class="def">PeerFetchStatus</a> header <a href="src/Ouroboros.Network.BlockFetch.ClientState.html#PeerFetchStatus" class="link">Source</a> <a href="#t:PeerFetchStatus" class="selflink">#</a></p><div class="doc"><p>The status of the block fetch communication with a peer. This is maintained
 by fetch protocol threads and used in the block fetch decision making logic.
 Changes in this status trigger re-evaluation of fetch decisions.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:PeerFetchStatusShutdown" class="def">PeerFetchStatusShutdown</a></td><td class="doc"><p>Communication with the peer has failed. This is a temporary status
 that may occur during the process of shutting down the thread that
 runs the block fetch protocol. The peer will promptly be removed from
 the peer registry and so will not be considered at all.</p></td></tr><tr><td class="src"><a id="v:PeerFetchStatusAberrant" class="def">PeerFetchStatusAberrant</a></td><td class="doc"><p>The peer is in a potentially-temporary state in which it has not
 responded to us within a certain expected time limit. This is not
 a hard protocol timeout where the whole connection will be abandoned,
 it is simply a reply that has taken longer than expected. This status
 is used to trigger re-evaluating which peer to ask for blocks from,
 so that we can swiftly ask other peers for blocks if one unexpectedly
 responds too slowly</p><p>Peers in this state may later return to normal states if communication
 resumes, or they may eventually hit a hard timeout and fail.</p></td></tr><tr><td class="src"><a id="v:PeerFetchStatusBusy" class="def">PeerFetchStatusBusy</a></td><td class="doc"><p>Communication with the peer is in a normal state, and the peer is
 considered too busy to accept new requests. Changing from this state
 to the ready state is used to trigger re-evaluating fetch decisions
 and may eventually result in new fetch requests. This state is used
 as part of a policy to batch new requests: instead of switching to
 the ready state the moment there is tiny bit of capacity available,
 the state is changed once the capacity reaches a certain threshold.</p></td></tr><tr><td class="src"><a id="v:PeerFetchStatusReady" class="def">PeerFetchStatusReady</a> (<a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-prelude-0.1.0.0/noopt/doc/html/cardano-prelude/Cardano-Prelude-Base.html#t:Set" title="Cardano.Prelude.Base">Set</a> (<a href="Ouroboros-Network-Block.html#t:Point" title="Ouroboros.Network.Block">Point</a> header)) <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:IsIdle" title="Ouroboros.Network.BlockFetch.ClientState">IsIdle</a></td><td class="doc"><p>Communication with the peer is in a normal state, and the peer is
 considered ready to accept new requests.</p><p>The <code><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-prelude-0.1.0.0/noopt/doc/html/cardano-prelude/Cardano-Prelude-Base.html#t:Set" title="Cardano.Prelude.Base">Set</a></code> is the blocks in flight.</p></td></tr></table></div><div class="subs instances"><details id="i:PeerFetchStatus" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:PeerFetchStatus:Eq:1"></span> <a href="Ouroboros-Network-Block.html#t:StandardHash" title="Ouroboros.Network.Block">StandardHash</a> header &#8658; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:PeerFetchStatus" title="Ouroboros.Network.BlockFetch.ClientState">PeerFetchStatus</a> header)</span> <a href="src/Ouroboros.Network.BlockFetch.ClientState.html#line-165" class="link">Source</a> <a href="#t:PeerFetchStatus" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:PeerFetchStatus:Eq:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Network-BlockFetch-ClientState.html">Ouroboros.Network.BlockFetch.ClientState</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> &#8759; <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:PeerFetchStatus" title="Ouroboros.Network.BlockFetch.ClientState">PeerFetchStatus</a> header &#8594; <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:PeerFetchStatus" title="Ouroboros.Network.BlockFetch.ClientState">PeerFetchStatus</a> header &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> &#8759; <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:PeerFetchStatus" title="Ouroboros.Network.BlockFetch.ClientState">PeerFetchStatus</a> header &#8594; <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:PeerFetchStatus" title="Ouroboros.Network.BlockFetch.ClientState">PeerFetchStatus</a> header &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:PeerFetchStatus:Show:2"></span> <a href="Ouroboros-Network-Block.html#t:StandardHash" title="Ouroboros.Network.Block">StandardHash</a> header &#8658; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:PeerFetchStatus" title="Ouroboros.Network.BlockFetch.ClientState">PeerFetchStatus</a> header)</span> <a href="src/Ouroboros.Network.BlockFetch.ClientState.html#line-165" class="link">Source</a> <a href="#t:PeerFetchStatus" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:PeerFetchStatus:Show:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Network-BlockFetch-ClientState.html">Ouroboros.Network.BlockFetch.ClientState</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> &#8594; <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:PeerFetchStatus" title="Ouroboros.Network.BlockFetch.ClientState">PeerFetchStatus</a> header &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> &#8759; <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:PeerFetchStatus" title="Ouroboros.Network.BlockFetch.ClientState">PeerFetchStatus</a> header &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> &#8759; [<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:PeerFetchStatus" title="Ouroboros.Network.BlockFetch.ClientState">PeerFetchStatus</a> header] &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:IsIdle" class="def">IsIdle</a> <a href="src/Ouroboros.Network.BlockFetch.ClientState.html#IsIdle" class="link">Source</a> <a href="#t:IsIdle" class="selflink">#</a></p><div class="doc"><p>Whether this mini protocol instance is in the <code>Idle</code> State</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:IsIdle" class="def">IsIdle</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:IsNotIdle" class="def">IsNotIdle</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><details id="i:IsIdle" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:IsIdle:Eq:1"></span> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:IsIdle" title="Ouroboros.Network.BlockFetch.ClientState">IsIdle</a></span> <a href="src/Ouroboros.Network.BlockFetch.ClientState.html#line-170" class="link">Source</a> <a href="#t:IsIdle" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:IsIdle:Eq:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Network-BlockFetch-ClientState.html">Ouroboros.Network.BlockFetch.ClientState</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> &#8759; <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:IsIdle" title="Ouroboros.Network.BlockFetch.ClientState">IsIdle</a> &#8594; <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:IsIdle" title="Ouroboros.Network.BlockFetch.ClientState">IsIdle</a> &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> &#8759; <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:IsIdle" title="Ouroboros.Network.BlockFetch.ClientState">IsIdle</a> &#8594; <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:IsIdle" title="Ouroboros.Network.BlockFetch.ClientState">IsIdle</a> &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:IsIdle:Show:2"></span> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:IsIdle" title="Ouroboros.Network.BlockFetch.ClientState">IsIdle</a></span> <a href="src/Ouroboros.Network.BlockFetch.ClientState.html#line-170" class="link">Source</a> <a href="#t:IsIdle" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:IsIdle:Show:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Network-BlockFetch-ClientState.html">Ouroboros.Network.BlockFetch.ClientState</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> &#8594; <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:IsIdle" title="Ouroboros.Network.BlockFetch.ClientState">IsIdle</a> &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> &#8759; <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:IsIdle" title="Ouroboros.Network.BlockFetch.ClientState">IsIdle</a> &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> &#8759; [<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:IsIdle" title="Ouroboros.Network.BlockFetch.ClientState">IsIdle</a>] &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:PeerFetchInFlight" class="def">PeerFetchInFlight</a> header <a href="src/Ouroboros.Network.BlockFetch.ClientState.html#PeerFetchInFlight" class="link">Source</a> <a href="#t:PeerFetchInFlight" class="selflink">#</a></p><div class="doc"><p>The number of requests in-flight and the amount of data in-flight with a
 peer. This is maintained by fetch protocol threads and used in the block
 fetch decision making logic.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:PeerFetchInFlight" class="def">PeerFetchInFlight</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:peerFetchReqsInFlight" class="def">peerFetchReqsInFlight</a> &#8759; !<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Word.html#t:Word" title="Data.Word">Word</a></dfn><div class="doc"><p>The number of block fetch requests that are currently in-flight.
 This is the number of <em>requests</em> not the number of blocks. Each
 request is for a range of blocks.</p><p>We track this because there is a fixed maximum number of outstanding
 requests that the protocol allows.</p></div></li><li><dfn class="src"><a id="v:peerFetchBytesInFlight" class="def">peerFetchBytesInFlight</a> &#8759; !<a href="Ouroboros-Network-DeltaQ.html#t:SizeInBytes" title="Ouroboros.Network.DeltaQ">SizeInBytes</a></dfn><div class="doc"><p>The sum of the byte count of blocks expected from all in-flight
 fetch requests. This is a close approximation of the amount of data
 we expect to receive, assuming no failures.</p><p>We track this because we pipeline fetch requests and we want to keep
 some but not too much data in flight at once.</p></div></li><li><dfn class="src"><a id="v:peerFetchBlocksInFlight" class="def">peerFetchBlocksInFlight</a> &#8759; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/cardano-prelude-0.1.0.0/noopt/doc/html/cardano-prelude/Cardano-Prelude-Base.html#t:Set" title="Cardano.Prelude.Base">Set</a> (<a href="Ouroboros-Network-Block.html#t:Point" title="Ouroboros.Network.Block">Point</a> header)</dfn><div class="doc"><p>The points for the set of blocks that are currently in-flight.
 Note that since requests are for ranges of blocks this does not
 correspond to the number of requests in flight.</p><p>We track this because as part of the decision for which blocks to
 fetch from which peers we take into account what blocks are already
 in-flight with peers.</p></div></li><li><dfn class="src"><a id="v:peerFetchMaxSlotNo" class="def">peerFetchMaxSlotNo</a> &#8759; !<a href="Ouroboros-Network-Block.html#t:MaxSlotNo" title="Ouroboros.Network.Block">MaxSlotNo</a></dfn><div class="doc"><p>The maximum slot of a block that <em>has ever been</em> in flight for
 this peer.</p><p>We track this to more efficiently remove blocks that are already
 in-flight from the candidate fragments: blocks with a slot number
 higher than this one do not have to be filtered out.</p></div></li></ul></div></td></tr></table></div><div class="subs instances"><details id="i:PeerFetchInFlight" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:PeerFetchInFlight:Eq:1"></span> <a href="Ouroboros-Network-Block.html#t:StandardHash" title="Ouroboros.Network.Block">StandardHash</a> header &#8658; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:PeerFetchInFlight" title="Ouroboros.Network.BlockFetch.ClientState">PeerFetchInFlight</a> header)</span> <a href="src/Ouroboros.Network.BlockFetch.ClientState.html#line-216" class="link">Source</a> <a href="#t:PeerFetchInFlight" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:PeerFetchInFlight:Eq:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Network-BlockFetch-ClientState.html">Ouroboros.Network.BlockFetch.ClientState</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> &#8759; <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:PeerFetchInFlight" title="Ouroboros.Network.BlockFetch.ClientState">PeerFetchInFlight</a> header &#8594; <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:PeerFetchInFlight" title="Ouroboros.Network.BlockFetch.ClientState">PeerFetchInFlight</a> header &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> &#8759; <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:PeerFetchInFlight" title="Ouroboros.Network.BlockFetch.ClientState">PeerFetchInFlight</a> header &#8594; <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:PeerFetchInFlight" title="Ouroboros.Network.BlockFetch.ClientState">PeerFetchInFlight</a> header &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:PeerFetchInFlight:Show:2"></span> <a href="Ouroboros-Network-Block.html#t:StandardHash" title="Ouroboros.Network.Block">StandardHash</a> header &#8658; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:PeerFetchInFlight" title="Ouroboros.Network.BlockFetch.ClientState">PeerFetchInFlight</a> header)</span> <a href="src/Ouroboros.Network.BlockFetch.ClientState.html#line-216" class="link">Source</a> <a href="#t:PeerFetchInFlight" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:PeerFetchInFlight:Show:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Network-BlockFetch-ClientState.html">Ouroboros.Network.BlockFetch.ClientState</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> &#8594; <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:PeerFetchInFlight" title="Ouroboros.Network.BlockFetch.ClientState">PeerFetchInFlight</a> header &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> &#8759; <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:PeerFetchInFlight" title="Ouroboros.Network.BlockFetch.ClientState">PeerFetchInFlight</a> header &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> &#8759; [<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:PeerFetchInFlight" title="Ouroboros.Network.BlockFetch.ClientState">PeerFetchInFlight</a> header] &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:initialPeerFetchInFlight" class="def">initialPeerFetchInFlight</a> &#8759; <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:PeerFetchInFlight" title="Ouroboros.Network.BlockFetch.ClientState">PeerFetchInFlight</a> header <a href="src/Ouroboros.Network.BlockFetch.ClientState.html#initialPeerFetchInFlight" class="link">Source</a> <a href="#v:initialPeerFetchInFlight" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:FetchRequest" class="def">FetchRequest</a> header <a href="src/Ouroboros.Network.BlockFetch.ClientState.html#FetchRequest" class="link">Source</a> <a href="#t:FetchRequest" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:FetchRequest" class="def">FetchRequest</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:fetchRequestFragments" class="def">fetchRequestFragments</a> &#8759; [<a href="Ouroboros-Network-ChainFragment.html#t:ChainFragment" title="Ouroboros.Network.ChainFragment">ChainFragment</a> header]</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><details id="i:FetchRequest" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:FetchRequest:Show:1"></span> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> header &#8658; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:FetchRequest" title="Ouroboros.Network.BlockFetch.ClientState">FetchRequest</a> header)</span> <a href="src/Ouroboros.Network.BlockFetch.ClientState.html#line-309" class="link">Source</a> <a href="#t:FetchRequest" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:FetchRequest:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Network-BlockFetch-ClientState.html">Ouroboros.Network.BlockFetch.ClientState</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> &#8594; <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:FetchRequest" title="Ouroboros.Network.BlockFetch.ClientState">FetchRequest</a> header &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> &#8759; <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:FetchRequest" title="Ouroboros.Network.BlockFetch.ClientState">FetchRequest</a> header &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> &#8759; [<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:FetchRequest" title="Ouroboros.Network.BlockFetch.ClientState">FetchRequest</a> header] &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:FetchRequest:Semigroup:2"></span> <a href="Ouroboros-Network-Block.html#t:HasHeader" title="Ouroboros.Network.Block">HasHeader</a> header &#8658; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Prelude.html#t:Semigroup" title="Prelude">Semigroup</a> (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:FetchRequest" title="Ouroboros.Network.BlockFetch.ClientState">FetchRequest</a> header)</span> <a href="src/Ouroboros.Network.BlockFetch.ClientState.html#line-329" class="link">Source</a> <a href="#t:FetchRequest" class="selflink">#</a></td><td class="doc"><p>We sometimes have the opportunity to merge fetch request fragments to
 reduce the number of separate range request messages that we send. We send
 one message per fragment. It is better to send fewer requests for bigger
 ranges, rather than lots of requests for small ranges.</p><p>We never expect fetch requests to overlap (ie have blocks in common) but we
 do expect a common case that requests will &quot;touch&quot; so that two ranges
 could be merged into a single contiguous range.</p><p>This semigroup instance implements this merging when possible, otherwise the
 two lists of fragments are just appended.</p><p>A consequence of merging and sending fewer request messages is that tracking
 the number of requests in-flight a bit more subtle. To track this accurately
 we have to look at the <em>old request</em> as well a the updated request after any
 merging. We meed to account for the <em>difference</em> in the number of fragments
 in the existing request (if any) and in new request.</p></td></tr><tr><td colspan="2"><details id="i:id:FetchRequest:Semigroup:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Network-BlockFetch-ClientState.html">Ouroboros.Network.BlockFetch.ClientState</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-60--62-">(&lt;&gt;)</a> &#8759; <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:FetchRequest" title="Ouroboros.Network.BlockFetch.ClientState">FetchRequest</a> header &#8594; <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:FetchRequest" title="Ouroboros.Network.BlockFetch.ClientState">FetchRequest</a> header &#8594; <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:FetchRequest" title="Ouroboros.Network.BlockFetch.ClientState">FetchRequest</a> header <a href="#v:-60--62-" class="selflink">#</a></p><p class="src"><a href="#v:sconcat">sconcat</a> &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-List-NonEmpty.html#t:NonEmpty" title="Data.List.NonEmpty">NonEmpty</a> (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:FetchRequest" title="Ouroboros.Network.BlockFetch.ClientState">FetchRequest</a> header) &#8594; <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:FetchRequest" title="Ouroboros.Network.BlockFetch.ClientState">FetchRequest</a> header <a href="#v:sconcat" class="selflink">#</a></p><p class="src"><a href="#v:stimes">stimes</a> &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Prelude.html#t:Integral" title="Prelude">Integral</a> b &#8658; b &#8594; <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:FetchRequest" title="Ouroboros.Network.BlockFetch.ClientState">FetchRequest</a> header &#8594; <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:FetchRequest" title="Ouroboros.Network.BlockFetch.ClientState">FetchRequest</a> header <a href="#v:stimes" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:addNewFetchRequest" class="def">addNewFetchRequest</a> &#8759; (<a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/io-sim-classes-0.1.0.0/noopt/doc/html/io-sim-classes/Control-Monad-Class-MonadSTM.html#t:MonadSTM" title="Control.Monad.Class.MonadSTM">MonadSTM</a> m, <a href="Ouroboros-Network-Block.html#t:HasHeader" title="Ouroboros.Network.Block">HasHeader</a> header) &#8658; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/contra-tracer-0.1.0.0/noopt/doc/html/contra-tracer/Control-Tracer.html#t:Tracer" title="Control.Tracer">Tracer</a> m (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:TraceFetchClientState" title="Ouroboros.Network.BlockFetch.ClientState">TraceFetchClientState</a> header) &#8594; (header &#8594; <a href="Ouroboros-Network-DeltaQ.html#t:SizeInBytes" title="Ouroboros.Network.DeltaQ">SizeInBytes</a>) &#8594; <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:FetchRequest" title="Ouroboros.Network.BlockFetch.ClientState">FetchRequest</a> header &#8594; <a href="Ouroboros-Network-DeltaQ.html#t:PeerGSV" title="Ouroboros.Network.DeltaQ">PeerGSV</a> &#8594; <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:FetchClientStateVars" title="Ouroboros.Network.BlockFetch.ClientState">FetchClientStateVars</a> m header &#8594; m (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:PeerFetchStatus" title="Ouroboros.Network.BlockFetch.ClientState">PeerFetchStatus</a> header) <a href="src/Ouroboros.Network.BlockFetch.ClientState.html#addNewFetchRequest" class="link">Source</a> <a href="#v:addNewFetchRequest" class="selflink">#</a></p><div class="doc"><p>Add a new fetch request for a single peer. This is used by the fetch
 decision logic thread to add new fetch requests.</p><p>We have as a pre-condition that all requested blocks are new, i.e. none
 should appear in the existing <code><a href="Ouroboros-Network-BlockFetch-ClientState.html#v:peerFetchBlocksInFlight" title="Ouroboros.Network.BlockFetch.ClientState">peerFetchBlocksInFlight</a></code>. This is a
 relatively easy precondition to satisfy since the decision logic can filter
 its requests based on this in-flight blocks state, and this operation is the
 only operation that grows the in-flight blocks, and is only used by the
 fetch decision logic thread.</p></div></div><div class="top"><p class="src"><a id="v:acknowledgeFetchRequest" class="def">acknowledgeFetchRequest</a> &#8759; (<a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/io-sim-classes-0.1.0.0/noopt/doc/html/io-sim-classes/Control-Monad-Class-MonadSTM.html#t:MonadSTM" title="Control.Monad.Class.MonadSTM">MonadSTM</a> m, <a href="Ouroboros-Network-Block.html#t:HasHeader" title="Ouroboros.Network.Block">HasHeader</a> header) &#8658; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/contra-tracer-0.1.0.0/noopt/doc/html/contra-tracer/Control-Tracer.html#t:Tracer" title="Control.Tracer">Tracer</a> m (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:TraceFetchClientState" title="Ouroboros.Network.BlockFetch.ClientState">TraceFetchClientState</a> header) &#8594; <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:FetchClientStateVars" title="Ouroboros.Network.BlockFetch.ClientState">FetchClientStateVars</a> m header &#8594; m (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:FetchRequest" title="Ouroboros.Network.BlockFetch.ClientState">FetchRequest</a> header, <a href="Ouroboros-Network-DeltaQ.html#t:PeerGSV" title="Ouroboros.Network.DeltaQ">PeerGSV</a>, <a href="Ouroboros-Network-BlockFetch-DeltaQ.html#t:PeerFetchInFlightLimits" title="Ouroboros.Network.BlockFetch.DeltaQ">PeerFetchInFlightLimits</a>) <a href="src/Ouroboros.Network.BlockFetch.ClientState.html#acknowledgeFetchRequest" class="link">Source</a> <a href="#v:acknowledgeFetchRequest" class="selflink">#</a></p><div class="doc"><p>This is used by the fetch client threads.</p></div></div><div class="top"><p class="src"><a id="v:startedFetchBatch" class="def">startedFetchBatch</a> &#8759; (<a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/io-sim-classes-0.1.0.0/noopt/doc/html/io-sim-classes/Control-Monad-Class-MonadSTM.html#t:MonadSTM" title="Control.Monad.Class.MonadSTM">MonadSTM</a> m, <a href="Ouroboros-Network-Block.html#t:HasHeader" title="Ouroboros.Network.Block">HasHeader</a> header) &#8658; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/contra-tracer-0.1.0.0/noopt/doc/html/contra-tracer/Control-Tracer.html#t:Tracer" title="Control.Tracer">Tracer</a> m (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:TraceFetchClientState" title="Ouroboros.Network.BlockFetch.ClientState">TraceFetchClientState</a> header) &#8594; <a href="Ouroboros-Network-BlockFetch-DeltaQ.html#t:PeerFetchInFlightLimits" title="Ouroboros.Network.BlockFetch.DeltaQ">PeerFetchInFlightLimits</a> &#8594; <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:ChainRange" title="Ouroboros.Network.BlockFetch.ClientState">ChainRange</a> header &#8594; <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:FetchClientStateVars" title="Ouroboros.Network.BlockFetch.ClientState">FetchClientStateVars</a> m header &#8594; m () <a href="src/Ouroboros.Network.BlockFetch.ClientState.html#startedFetchBatch" class="link">Source</a> <a href="#v:startedFetchBatch" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:completeBlockDownload" class="def">completeBlockDownload</a> &#8759; (<a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/io-sim-classes-0.1.0.0/noopt/doc/html/io-sim-classes/Control-Monad-Class-MonadSTM.html#t:MonadSTM" title="Control.Monad.Class.MonadSTM">MonadSTM</a> m, <a href="Ouroboros-Network-Block.html#t:HasHeader" title="Ouroboros.Network.Block">HasHeader</a> header) &#8658; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/contra-tracer-0.1.0.0/noopt/doc/html/contra-tracer/Control-Tracer.html#t:Tracer" title="Control.Tracer">Tracer</a> m (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:TraceFetchClientState" title="Ouroboros.Network.BlockFetch.ClientState">TraceFetchClientState</a> header) &#8594; (header &#8594; <a href="Ouroboros-Network-DeltaQ.html#t:SizeInBytes" title="Ouroboros.Network.DeltaQ">SizeInBytes</a>) &#8594; <a href="Ouroboros-Network-BlockFetch-DeltaQ.html#t:PeerFetchInFlightLimits" title="Ouroboros.Network.BlockFetch.DeltaQ">PeerFetchInFlightLimits</a> &#8594; header &#8594; <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:FetchClientStateVars" title="Ouroboros.Network.BlockFetch.ClientState">FetchClientStateVars</a> m header &#8594; m () <a href="src/Ouroboros.Network.BlockFetch.ClientState.html#completeBlockDownload" class="link">Source</a> <a href="#v:completeBlockDownload" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:completeFetchBatch" class="def">completeFetchBatch</a> &#8759; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/io-sim-classes-0.1.0.0/noopt/doc/html/io-sim-classes/Control-Monad-Class-MonadSTM.html#t:MonadSTM" title="Control.Monad.Class.MonadSTM">MonadSTM</a> m &#8658; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/contra-tracer-0.1.0.0/noopt/doc/html/contra-tracer/Control-Tracer.html#t:Tracer" title="Control.Tracer">Tracer</a> m (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:TraceFetchClientState" title="Ouroboros.Network.BlockFetch.ClientState">TraceFetchClientState</a> header) &#8594; <a href="Ouroboros-Network-BlockFetch-DeltaQ.html#t:PeerFetchInFlightLimits" title="Ouroboros.Network.BlockFetch.DeltaQ">PeerFetchInFlightLimits</a> &#8594; <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:ChainRange" title="Ouroboros.Network.BlockFetch.ClientState">ChainRange</a> header &#8594; <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:FetchClientStateVars" title="Ouroboros.Network.BlockFetch.ClientState">FetchClientStateVars</a> m header &#8594; m () <a href="src/Ouroboros.Network.BlockFetch.ClientState.html#completeFetchBatch" class="link">Source</a> <a href="#v:completeFetchBatch" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:rejectedFetchBatch" class="def">rejectedFetchBatch</a> &#8759; (<a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/io-sim-classes-0.1.0.0/noopt/doc/html/io-sim-classes/Control-Monad-Class-MonadSTM.html#t:MonadSTM" title="Control.Monad.Class.MonadSTM">MonadSTM</a> m, <a href="Ouroboros-Network-Block.html#t:HasHeader" title="Ouroboros.Network.Block">HasHeader</a> header) &#8658; <a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/contra-tracer-0.1.0.0/noopt/doc/html/contra-tracer/Control-Tracer.html#t:Tracer" title="Control.Tracer">Tracer</a> m (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:TraceFetchClientState" title="Ouroboros.Network.BlockFetch.ClientState">TraceFetchClientState</a> header) &#8594; (header &#8594; <a href="Ouroboros-Network-DeltaQ.html#t:SizeInBytes" title="Ouroboros.Network.DeltaQ">SizeInBytes</a>) &#8594; <a href="Ouroboros-Network-BlockFetch-DeltaQ.html#t:PeerFetchInFlightLimits" title="Ouroboros.Network.BlockFetch.DeltaQ">PeerFetchInFlightLimits</a> &#8594; <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:ChainRange" title="Ouroboros.Network.BlockFetch.ClientState">ChainRange</a> header &#8594; [header] &#8594; <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:FetchClientStateVars" title="Ouroboros.Network.BlockFetch.ClientState">FetchClientStateVars</a> m header &#8594; m () <a href="src/Ouroboros.Network.BlockFetch.ClientState.html#rejectedFetchBatch" class="link">Source</a> <a href="#v:rejectedFetchBatch" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:TraceFetchClientState" class="def">TraceFetchClientState</a> header <a href="src/Ouroboros.Network.BlockFetch.ClientState.html#TraceFetchClientState" class="link">Source</a> <a href="#t:TraceFetchClientState" class="selflink">#</a></p><div class="doc"><p>Tracing types for the various events that change the state
 (i.e. <code><a href="Ouroboros-Network-BlockFetch-ClientState.html#t:FetchClientStateVars" title="Ouroboros.Network.BlockFetch.ClientState">FetchClientStateVars</a></code>) for a block fetch client.</p><p>Note that while these are all state changes, the <code><a href="Ouroboros-Network-BlockFetch-ClientState.html#v:AddedFetchRequest" title="Ouroboros.Network.BlockFetch.ClientState">AddedFetchRequest</a></code> occurs
 in the decision thread while the other state changes occur in the block
 fetch client threads.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:AddedFetchRequest" class="def">AddedFetchRequest</a> (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:FetchRequest" title="Ouroboros.Network.BlockFetch.ClientState">FetchRequest</a> header) (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:PeerFetchInFlight" title="Ouroboros.Network.BlockFetch.ClientState">PeerFetchInFlight</a> header) <a href="Ouroboros-Network-BlockFetch-DeltaQ.html#t:PeerFetchInFlightLimits" title="Ouroboros.Network.BlockFetch.DeltaQ">PeerFetchInFlightLimits</a> (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:PeerFetchStatus" title="Ouroboros.Network.BlockFetch.ClientState">PeerFetchStatus</a> header)</td><td class="doc"><p>The block fetch decision thread has added a new fetch instruction
 consisting of one or more individual request ranges.</p></td></tr><tr><td class="src"><a id="v:AcknowledgedFetchRequest" class="def">AcknowledgedFetchRequest</a> (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:FetchRequest" title="Ouroboros.Network.BlockFetch.ClientState">FetchRequest</a> header)</td><td class="doc"><p>Mark the point when the fetch client picks up the request added
 by the block fetch decision thread. Note that this event can happen
 fewer times than the <code><a href="Ouroboros-Network-BlockFetch-ClientState.html#v:AddedFetchRequest" title="Ouroboros.Network.BlockFetch.ClientState">AddedFetchRequest</a></code> due to fetch request merging.</p></td></tr><tr><td class="src"><a id="v:StartedFetchBatch" class="def">StartedFetchBatch</a> (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:ChainRange" title="Ouroboros.Network.BlockFetch.ClientState">ChainRange</a> header) (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:PeerFetchInFlight" title="Ouroboros.Network.BlockFetch.ClientState">PeerFetchInFlight</a> header) <a href="Ouroboros-Network-BlockFetch-DeltaQ.html#t:PeerFetchInFlightLimits" title="Ouroboros.Network.BlockFetch.DeltaQ">PeerFetchInFlightLimits</a> (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:PeerFetchStatus" title="Ouroboros.Network.BlockFetch.ClientState">PeerFetchStatus</a> header)</td><td class="doc"><p>Mark the start of receiving a streaming batch of blocks. This will
 be followed by one or more <code><a href="Ouroboros-Network-BlockFetch-ClientState.html#v:CompletedBlockFetch" title="Ouroboros.Network.BlockFetch.ClientState">CompletedBlockFetch</a></code> and a final
 <code><a href="Ouroboros-Network-BlockFetch-ClientState.html#v:CompletedFetchBatch" title="Ouroboros.Network.BlockFetch.ClientState">CompletedFetchBatch</a></code>.</p></td></tr><tr><td class="src"><a id="v:CompletedBlockFetch" class="def">CompletedBlockFetch</a> (<a href="Ouroboros-Network-Block.html#t:Point" title="Ouroboros.Network.Block">Point</a> header) (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:PeerFetchInFlight" title="Ouroboros.Network.BlockFetch.ClientState">PeerFetchInFlight</a> header) <a href="Ouroboros-Network-BlockFetch-DeltaQ.html#t:PeerFetchInFlightLimits" title="Ouroboros.Network.BlockFetch.DeltaQ">PeerFetchInFlightLimits</a> (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:PeerFetchStatus" title="Ouroboros.Network.BlockFetch.ClientState">PeerFetchStatus</a> header)</td><td class="doc"><p>Mark the completion of of receiving a single block within a
 streaming batch of blocks.</p></td></tr><tr><td class="src"><a id="v:CompletedFetchBatch" class="def">CompletedFetchBatch</a> (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:ChainRange" title="Ouroboros.Network.BlockFetch.ClientState">ChainRange</a> header) (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:PeerFetchInFlight" title="Ouroboros.Network.BlockFetch.ClientState">PeerFetchInFlight</a> header) <a href="Ouroboros-Network-BlockFetch-DeltaQ.html#t:PeerFetchInFlightLimits" title="Ouroboros.Network.BlockFetch.DeltaQ">PeerFetchInFlightLimits</a> (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:PeerFetchStatus" title="Ouroboros.Network.BlockFetch.ClientState">PeerFetchStatus</a> header)</td><td class="doc"><p>Mark the successful end of receiving a streaming batch of blocks</p></td></tr><tr><td class="src"><a id="v:RejectedFetchBatch" class="def">RejectedFetchBatch</a> (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:ChainRange" title="Ouroboros.Network.BlockFetch.ClientState">ChainRange</a> header) (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:PeerFetchInFlight" title="Ouroboros.Network.BlockFetch.ClientState">PeerFetchInFlight</a> header) <a href="Ouroboros-Network-BlockFetch-DeltaQ.html#t:PeerFetchInFlightLimits" title="Ouroboros.Network.BlockFetch.DeltaQ">PeerFetchInFlightLimits</a> (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:PeerFetchStatus" title="Ouroboros.Network.BlockFetch.ClientState">PeerFetchStatus</a> header)</td><td class="doc"><p>If the other peer rejects our request then we have this event
 instead of <code><a href="Ouroboros-Network-BlockFetch-ClientState.html#v:StartedFetchBatch" title="Ouroboros.Network.BlockFetch.ClientState">StartedFetchBatch</a></code> and <code><a href="Ouroboros-Network-BlockFetch-ClientState.html#v:CompletedFetchBatch" title="Ouroboros.Network.BlockFetch.ClientState">CompletedFetchBatch</a></code>.</p></td></tr></table></div><div class="subs instances"><details id="i:TraceFetchClientState" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:TraceFetchClientState:Show:1"></span> (<a href="Ouroboros-Network-Block.html#t:StandardHash" title="Ouroboros.Network.Block">StandardHash</a> header, <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> header) &#8658; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:TraceFetchClientState" title="Ouroboros.Network.BlockFetch.ClientState">TraceFetchClientState</a> header)</span> <a href="src/Ouroboros.Network.BlockFetch.ClientState.html#line-401" class="link">Source</a> <a href="#t:TraceFetchClientState" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:TraceFetchClientState:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Network-BlockFetch-ClientState.html">Ouroboros.Network.BlockFetch.ClientState</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> &#8594; <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:TraceFetchClientState" title="Ouroboros.Network.BlockFetch.ClientState">TraceFetchClientState</a> header &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> &#8759; <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:TraceFetchClientState" title="Ouroboros.Network.BlockFetch.ClientState">TraceFetchClientState</a> header &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> &#8759; [<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:TraceFetchClientState" title="Ouroboros.Network.BlockFetch.ClientState">TraceFetchClientState</a> header] &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:TraceLabelPeer" class="def">TraceLabelPeer</a> peerid a <a href="src/Ouroboros.Network.BlockFetch.ClientState.html#TraceLabelPeer" class="link">Source</a> <a href="#t:TraceLabelPeer" class="selflink">#</a></p><div class="doc"><p>A peer label for use in <code><a href="file:///__w/ouroboros-network/ouroboros-network/dist-newstyle/build/x86_64-linux/ghc-8.6.5/contra-tracer-0.1.0.0/noopt/doc/html/contra-tracer/Control-Tracer.html#t:Tracer" title="Control.Tracer">Tracer</a></code>s. This annotates tracer output as being
 associated with a given peer identifier.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:TraceLabelPeer" class="def">TraceLabelPeer</a> peerid a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><details id="i:TraceLabelPeer" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:TraceLabelPeer:Functor:1"></span> <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:TraceLabelPeer" title="Ouroboros.Network.BlockFetch.ClientState">TraceLabelPeer</a> peerid)</span> <a href="src/Ouroboros.Network.BlockFetch.ClientState.html#line-407" class="link">Source</a> <a href="#t:TraceLabelPeer" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:TraceLabelPeer:Functor:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Network-BlockFetch-ClientState.html">Ouroboros.Network.BlockFetch.ClientState</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fmap">fmap</a> &#8759; (a &#8594; b) &#8594; <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:TraceLabelPeer" title="Ouroboros.Network.BlockFetch.ClientState">TraceLabelPeer</a> peerid a &#8594; <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:TraceLabelPeer" title="Ouroboros.Network.BlockFetch.ClientState">TraceLabelPeer</a> peerid b <a href="#v:fmap" class="selflink">#</a></p><p class="src"><a href="#v:-60--36-">(&lt;$)</a> &#8759; a &#8594; <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:TraceLabelPeer" title="Ouroboros.Network.BlockFetch.ClientState">TraceLabelPeer</a> peerid b &#8594; <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:TraceLabelPeer" title="Ouroboros.Network.BlockFetch.ClientState">TraceLabelPeer</a> peerid a <a href="#v:-60--36-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:TraceLabelPeer:Eq:2"></span> (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> peerid, <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> a) &#8658; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:TraceLabelPeer" title="Ouroboros.Network.BlockFetch.ClientState">TraceLabelPeer</a> peerid a)</span> <a href="src/Ouroboros.Network.BlockFetch.ClientState.html#line-407" class="link">Source</a> <a href="#t:TraceLabelPeer" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:TraceLabelPeer:Eq:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Network-BlockFetch-ClientState.html">Ouroboros.Network.BlockFetch.ClientState</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> &#8759; <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:TraceLabelPeer" title="Ouroboros.Network.BlockFetch.ClientState">TraceLabelPeer</a> peerid a &#8594; <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:TraceLabelPeer" title="Ouroboros.Network.BlockFetch.ClientState">TraceLabelPeer</a> peerid a &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> &#8759; <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:TraceLabelPeer" title="Ouroboros.Network.BlockFetch.ClientState">TraceLabelPeer</a> peerid a &#8594; <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:TraceLabelPeer" title="Ouroboros.Network.BlockFetch.ClientState">TraceLabelPeer</a> peerid a &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:TraceLabelPeer:Show:3"></span> (<a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> peerid, <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> a) &#8658; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:TraceLabelPeer" title="Ouroboros.Network.BlockFetch.ClientState">TraceLabelPeer</a> peerid a)</span> <a href="src/Ouroboros.Network.BlockFetch.ClientState.html#line-407" class="link">Source</a> <a href="#t:TraceLabelPeer" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:TraceLabelPeer:Show:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Network-BlockFetch-ClientState.html">Ouroboros.Network.BlockFetch.ClientState</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> &#8594; <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:TraceLabelPeer" title="Ouroboros.Network.BlockFetch.ClientState">TraceLabelPeer</a> peerid a &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> &#8759; <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:TraceLabelPeer" title="Ouroboros.Network.BlockFetch.ClientState">TraceLabelPeer</a> peerid a &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> &#8759; [<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:TraceLabelPeer" title="Ouroboros.Network.BlockFetch.ClientState">TraceLabelPeer</a> peerid a] &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ChainRange" class="def">ChainRange</a> block <a href="src/Ouroboros.Network.Protocol.BlockFetch.Type.html#ChainRange" class="link">Source</a> <a href="#t:ChainRange" class="selflink">#</a></p><div class="doc"><p>Range of blocks, defined by a lower and upper point, inclusive.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:ChainRange" class="def">ChainRange</a> !(<a href="Ouroboros-Network-Block.html#t:Point" title="Ouroboros.Network.Block">Point</a> block) !(<a href="Ouroboros-Network-Block.html#t:Point" title="Ouroboros.Network.Block">Point</a> block)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><details id="i:ChainRange" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ChainRange:Eq:1"></span> <a href="Ouroboros-Network-Block.html#t:StandardHash" title="Ouroboros.Network.Block">StandardHash</a> block &#8658; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:ChainRange" title="Ouroboros.Network.BlockFetch.ClientState">ChainRange</a> block)</span> <a href="src/Ouroboros.Network.Protocol.BlockFetch.Type.html#line-20" class="link">Source</a> <a href="#t:ChainRange" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ChainRange:Eq:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Network-Protocol-BlockFetch-Type.html">Ouroboros.Network.Protocol.BlockFetch.Type</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> &#8759; <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:ChainRange" title="Ouroboros.Network.BlockFetch.ClientState">ChainRange</a> block &#8594; <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:ChainRange" title="Ouroboros.Network.BlockFetch.ClientState">ChainRange</a> block &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> &#8759; <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:ChainRange" title="Ouroboros.Network.BlockFetch.ClientState">ChainRange</a> block &#8594; <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:ChainRange" title="Ouroboros.Network.BlockFetch.ClientState">ChainRange</a> block &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ChainRange:Ord:2"></span> <a href="Ouroboros-Network-Block.html#t:StandardHash" title="Ouroboros.Network.Block">StandardHash</a> block &#8658; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:ChainRange" title="Ouroboros.Network.BlockFetch.ClientState">ChainRange</a> block)</span> <a href="src/Ouroboros.Network.Protocol.BlockFetch.Type.html#line-20" class="link">Source</a> <a href="#t:ChainRange" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ChainRange:Ord:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Network-Protocol-BlockFetch-Type.html">Ouroboros.Network.Protocol.BlockFetch.Type</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:compare">compare</a> &#8759; <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:ChainRange" title="Ouroboros.Network.BlockFetch.ClientState">ChainRange</a> block &#8594; <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:ChainRange" title="Ouroboros.Network.BlockFetch.ClientState">ChainRange</a> block &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Ord.html#t:Ordering" title="Data.Ord">Ordering</a> <a href="#v:compare" class="selflink">#</a></p><p class="src"><a href="#v:-60-">(&lt;)</a> &#8759; <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:ChainRange" title="Ouroboros.Network.BlockFetch.ClientState">ChainRange</a> block &#8594; <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:ChainRange" title="Ouroboros.Network.BlockFetch.ClientState">ChainRange</a> block &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-60-" class="selflink">#</a></p><p class="src"><a href="#v:-60--61-">(&lt;=)</a> &#8759; <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:ChainRange" title="Ouroboros.Network.BlockFetch.ClientState">ChainRange</a> block &#8594; <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:ChainRange" title="Ouroboros.Network.BlockFetch.ClientState">ChainRange</a> block &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-60--61-" class="selflink">#</a></p><p class="src"><a href="#v:-62-">(&gt;)</a> &#8759; <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:ChainRange" title="Ouroboros.Network.BlockFetch.ClientState">ChainRange</a> block &#8594; <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:ChainRange" title="Ouroboros.Network.BlockFetch.ClientState">ChainRange</a> block &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-62-" class="selflink">#</a></p><p class="src"><a href="#v:-62--61-">(&gt;=)</a> &#8759; <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:ChainRange" title="Ouroboros.Network.BlockFetch.ClientState">ChainRange</a> block &#8594; <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:ChainRange" title="Ouroboros.Network.BlockFetch.ClientState">ChainRange</a> block &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-62--61-" class="selflink">#</a></p><p class="src"><a href="#v:max">max</a> &#8759; <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:ChainRange" title="Ouroboros.Network.BlockFetch.ClientState">ChainRange</a> block &#8594; <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:ChainRange" title="Ouroboros.Network.BlockFetch.ClientState">ChainRange</a> block &#8594; <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:ChainRange" title="Ouroboros.Network.BlockFetch.ClientState">ChainRange</a> block <a href="#v:max" class="selflink">#</a></p><p class="src"><a href="#v:min">min</a> &#8759; <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:ChainRange" title="Ouroboros.Network.BlockFetch.ClientState">ChainRange</a> block &#8594; <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:ChainRange" title="Ouroboros.Network.BlockFetch.ClientState">ChainRange</a> block &#8594; <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:ChainRange" title="Ouroboros.Network.BlockFetch.ClientState">ChainRange</a> block <a href="#v:min" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ChainRange:Show:3"></span> <a href="Ouroboros-Network-Block.html#t:StandardHash" title="Ouroboros.Network.Block">StandardHash</a> block &#8658; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:ChainRange" title="Ouroboros.Network.BlockFetch.ClientState">ChainRange</a> block)</span> <a href="src/Ouroboros.Network.Protocol.BlockFetch.Type.html#line-20" class="link">Source</a> <a href="#t:ChainRange" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ChainRange:Show:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Ouroboros-Network-Protocol-BlockFetch-Type.html">Ouroboros.Network.Protocol.BlockFetch.Type</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> &#8759; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> &#8594; <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:ChainRange" title="Ouroboros.Network.BlockFetch.ClientState">ChainRange</a> block &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> &#8759; <a href="Ouroboros-Network-BlockFetch-ClientState.html#t:ChainRange" title="Ouroboros.Network.BlockFetch.ClientState">ChainRange</a> block &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> &#8759; [<a href="Ouroboros-Network-BlockFetch-ClientState.html#t:ChainRange" title="Ouroboros.Network.BlockFetch.ClientState">ChainRange</a> block] &#8594; <a href="file:///opt/ghc/8.6.5/share/doc/ghc-8.6.5/html/libraries/base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.22.0</p></div></body></html>